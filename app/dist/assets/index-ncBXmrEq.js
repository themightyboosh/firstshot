function ZC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function eR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Cp={exports:{}},uu={},Rp={exports:{}},et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fw;function tR(){if(fw)return et;fw=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function _(B){return B===null||typeof B!="object"?null:(B=y&&B[y]||B["@@iterator"],typeof B=="function"?B:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,N={};function P(B,te,me){this.props=B,this.context=te,this.refs=N,this.updater=me||T}P.prototype.isReactComponent={},P.prototype.setState=function(B,te){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,te,"setState")},P.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function U(){}U.prototype=P.prototype;function F(B,te,me){this.props=B,this.context=te,this.refs=N,this.updater=me||T}var W=F.prototype=new U;W.constructor=F,C(W,P.prototype),W.isPureReactComponent=!0;var Q=Array.isArray,ee=Object.prototype.hasOwnProperty,ne={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function S(B,te,me){var ge,be={},Fe=null,Se=null;if(te!=null)for(ge in te.ref!==void 0&&(Se=te.ref),te.key!==void 0&&(Fe=""+te.key),te)ee.call(te,ge)&&!b.hasOwnProperty(ge)&&(be[ge]=te[ge]);var _e=arguments.length-2;if(_e===1)be.children=me;else if(1<_e){for(var it=Array(_e),mt=0;mt<_e;mt++)it[mt]=arguments[mt+2];be.children=it}if(B&&B.defaultProps)for(ge in _e=B.defaultProps,_e)be[ge]===void 0&&(be[ge]=_e[ge]);return{$$typeof:t,type:B,key:Fe,ref:Se,props:be,_owner:ne.current}}function A(B,te){return{$$typeof:t,type:B.type,key:te,ref:B.ref,props:B.props,_owner:B._owner}}function L(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function V(B){var te={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(me){return te[me]})}var z=/\/+/g;function D(B,te){return typeof B=="object"&&B!==null&&B.key!=null?V(""+B.key):te.toString(36)}function je(B,te,me,ge,be){var Fe=typeof B;(Fe==="undefined"||Fe==="boolean")&&(B=null);var Se=!1;if(B===null)Se=!0;else switch(Fe){case"string":case"number":Se=!0;break;case"object":switch(B.$$typeof){case t:case e:Se=!0}}if(Se)return Se=B,be=be(Se),B=ge===""?"."+D(Se,0):ge,Q(be)?(me="",B!=null&&(me=B.replace(z,"$&/")+"/"),je(be,te,me,"",function(mt){return mt})):be!=null&&(L(be)&&(be=A(be,me+(!be.key||Se&&Se.key===be.key?"":(""+be.key).replace(z,"$&/")+"/")+B)),te.push(be)),1;if(Se=0,ge=ge===""?".":ge+":",Q(B))for(var _e=0;_e<B.length;_e++){Fe=B[_e];var it=ge+D(Fe,_e);Se+=je(Fe,te,me,it,be)}else if(it=_(B),typeof it=="function")for(B=it.call(B),_e=0;!(Fe=B.next()).done;)Fe=Fe.value,it=ge+D(Fe,_e++),Se+=je(Fe,te,me,it,be);else if(Fe==="object")throw te=String(B),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return Se}function Ke(B,te,me){if(B==null)return B;var ge=[],be=0;return je(B,ge,"","",function(Fe){return te.call(me,Fe,be++)}),ge}function Oe(B){if(B._status===-1){var te=B._result;te=te(),te.then(function(me){(B._status===0||B._status===-1)&&(B._status=1,B._result=me)},function(me){(B._status===0||B._status===-1)&&(B._status=2,B._result=me)}),B._status===-1&&(B._status=0,B._result=te)}if(B._status===1)return B._result.default;throw B._result}var pe={current:null},G={transition:null},de={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:G,ReactCurrentOwner:ne};function re(){throw Error("act(...) is not supported in production builds of React.")}return et.Children={map:Ke,forEach:function(B,te,me){Ke(B,function(){te.apply(this,arguments)},me)},count:function(B){var te=0;return Ke(B,function(){te++}),te},toArray:function(B){return Ke(B,function(te){return te})||[]},only:function(B){if(!L(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},et.Component=P,et.Fragment=n,et.Profiler=s,et.PureComponent=F,et.StrictMode=r,et.Suspense=d,et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,et.act=re,et.cloneElement=function(B,te,me){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var ge=C({},B.props),be=B.key,Fe=B.ref,Se=B._owner;if(te!=null){if(te.ref!==void 0&&(Fe=te.ref,Se=ne.current),te.key!==void 0&&(be=""+te.key),B.type&&B.type.defaultProps)var _e=B.type.defaultProps;for(it in te)ee.call(te,it)&&!b.hasOwnProperty(it)&&(ge[it]=te[it]===void 0&&_e!==void 0?_e[it]:te[it])}var it=arguments.length-2;if(it===1)ge.children=me;else if(1<it){_e=Array(it);for(var mt=0;mt<it;mt++)_e[mt]=arguments[mt+2];ge.children=_e}return{$$typeof:t,type:B.type,key:be,ref:Fe,props:ge,_owner:Se}},et.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},et.createElement=S,et.createFactory=function(B){var te=S.bind(null,B);return te.type=B,te},et.createRef=function(){return{current:null}},et.forwardRef=function(B){return{$$typeof:c,render:B}},et.isValidElement=L,et.lazy=function(B){return{$$typeof:g,_payload:{_status:-1,_result:B},_init:Oe}},et.memo=function(B,te){return{$$typeof:p,type:B,compare:te===void 0?null:te}},et.startTransition=function(B){var te=G.transition;G.transition={};try{B()}finally{G.transition=te}},et.unstable_act=re,et.useCallback=function(B,te){return pe.current.useCallback(B,te)},et.useContext=function(B){return pe.current.useContext(B)},et.useDebugValue=function(){},et.useDeferredValue=function(B){return pe.current.useDeferredValue(B)},et.useEffect=function(B,te){return pe.current.useEffect(B,te)},et.useId=function(){return pe.current.useId()},et.useImperativeHandle=function(B,te,me){return pe.current.useImperativeHandle(B,te,me)},et.useInsertionEffect=function(B,te){return pe.current.useInsertionEffect(B,te)},et.useLayoutEffect=function(B,te){return pe.current.useLayoutEffect(B,te)},et.useMemo=function(B,te){return pe.current.useMemo(B,te)},et.useReducer=function(B,te,me){return pe.current.useReducer(B,te,me)},et.useRef=function(B){return pe.current.useRef(B)},et.useState=function(B){return pe.current.useState(B)},et.useSyncExternalStore=function(B,te,me){return pe.current.useSyncExternalStore(B,te,me)},et.useTransition=function(){return pe.current.useTransition()},et.version="18.3.1",et}var pw;function Sg(){return pw||(pw=1,Rp.exports=tR()),Rp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mw;function nR(){if(mw)return uu;mw=1;var t=Sg(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,p){var g,y={},_=null,T=null;p!==void 0&&(_=""+p),d.key!==void 0&&(_=""+d.key),d.ref!==void 0&&(T=d.ref);for(g in d)r.call(d,g)&&!a.hasOwnProperty(g)&&(y[g]=d[g]);if(c&&c.defaultProps)for(g in d=c.defaultProps,d)y[g]===void 0&&(y[g]=d[g]);return{$$typeof:e,type:c,key:_,ref:T,props:y,_owner:s.current}}return uu.Fragment=n,uu.jsx=l,uu.jsxs=l,uu}var gw;function rR(){return gw||(gw=1,Cp.exports=nR()),Cp.exports}var x=rR(),Th={},Ap={exports:{}},tr={},kp={exports:{}},Pp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yw;function iR(){return yw||(yw=1,(function(t){function e(G,de){var re=G.length;G.push(de);e:for(;0<re;){var B=re-1>>>1,te=G[B];if(0<s(te,de))G[B]=de,G[re]=te,re=B;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var de=G[0],re=G.pop();if(re!==de){G[0]=re;e:for(var B=0,te=G.length,me=te>>>1;B<me;){var ge=2*(B+1)-1,be=G[ge],Fe=ge+1,Se=G[Fe];if(0>s(be,re))Fe<te&&0>s(Se,be)?(G[B]=Se,G[Fe]=re,B=Fe):(G[B]=be,G[ge]=re,B=ge);else if(Fe<te&&0>s(Se,re))G[B]=Se,G[Fe]=re,B=Fe;else break e}}return de}function s(G,de){var re=G.sortIndex-de.sortIndex;return re!==0?re:G.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],p=[],g=1,y=null,_=3,T=!1,C=!1,N=!1,P=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(G){for(var de=n(p);de!==null;){if(de.callback===null)r(p);else if(de.startTime<=G)r(p),de.sortIndex=de.expirationTime,e(d,de);else break;de=n(p)}}function Q(G){if(N=!1,W(G),!C)if(n(d)!==null)C=!0,Oe(ee);else{var de=n(p);de!==null&&pe(Q,de.startTime-G)}}function ee(G,de){C=!1,N&&(N=!1,U(S),S=-1),T=!0;var re=_;try{for(W(de),y=n(d);y!==null&&(!(y.expirationTime>de)||G&&!V());){var B=y.callback;if(typeof B=="function"){y.callback=null,_=y.priorityLevel;var te=B(y.expirationTime<=de);de=t.unstable_now(),typeof te=="function"?y.callback=te:y===n(d)&&r(d),W(de)}else r(d);y=n(d)}if(y!==null)var me=!0;else{var ge=n(p);ge!==null&&pe(Q,ge.startTime-de),me=!1}return me}finally{y=null,_=re,T=!1}}var ne=!1,b=null,S=-1,A=5,L=-1;function V(){return!(t.unstable_now()-L<A)}function z(){if(b!==null){var G=t.unstable_now();L=G;var de=!0;try{de=b(!0,G)}finally{de?D():(ne=!1,b=null)}}else ne=!1}var D;if(typeof F=="function")D=function(){F(z)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,Ke=je.port2;je.port1.onmessage=z,D=function(){Ke.postMessage(null)}}else D=function(){P(z,0)};function Oe(G){b=G,ne||(ne=!0,D())}function pe(G,de){S=P(function(){G(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){C||T||(C=!0,Oe(ee))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(G){switch(_){case 1:case 2:case 3:var de=3;break;default:de=_}var re=_;_=de;try{return G()}finally{_=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,de){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var re=_;_=G;try{return de()}finally{_=re}},t.unstable_scheduleCallback=function(G,de,re){var B=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?B+re:B):re=B,G){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=re+te,G={id:g++,callback:de,priorityLevel:G,startTime:re,expirationTime:te,sortIndex:-1},re>B?(G.sortIndex=re,e(p,G),n(d)===null&&G===n(p)&&(N?(U(S),S=-1):N=!0,pe(Q,re-B))):(G.sortIndex=te,e(d,G),C||T||(C=!0,Oe(ee))),G},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(G){var de=_;return function(){var re=_;_=de;try{return G.apply(this,arguments)}finally{_=re}}}})(Pp)),Pp}var vw;function sR(){return vw||(vw=1,kp.exports=iR()),kp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ww;function oR(){if(ww)return tr;ww=1;var t=Sg(),e=sR();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function _(i){return d.call(y,i)?!0:d.call(g,i)?!1:p.test(i)?y[i]=!0:(g[i]=!0,!1)}function T(i,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function C(i,o,u,f){if(o===null||typeof o>"u"||T(i,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function N(i,o,u,f,m,v,I){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=I}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){P[i]=new N(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];P[o]=new N(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){P[i]=new N(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){P[i]=new N(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){P[i]=new N(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){P[i]=new N(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){P[i]=new N(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){P[i]=new N(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){P[i]=new N(i,5,!1,i.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function F(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(U,F);P[o]=new N(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(U,F);P[o]=new N(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(U,F);P[o]=new N(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){P[i]=new N(i,1,!1,i.toLowerCase(),null,!1,!1)}),P.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){P[i]=new N(i,1,!1,i.toLowerCase(),null,!0,!0)});function W(i,o,u,f){var m=P.hasOwnProperty(o)?P[o]:null;(m!==null?m.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(C(o,u,m,f)&&(u=null),f||m===null?_(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):m.mustUseProperty?i[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,f=m.attributeNamespace,u===null?i.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,f?i.setAttributeNS(f,o,u):i.setAttribute(o,u))))}var Q=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ee=Symbol.for("react.element"),ne=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),V=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),Ke=Symbol.for("react.memo"),Oe=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),G=Symbol.iterator;function de(i){return i===null||typeof i!="object"?null:(i=G&&i[G]||i["@@iterator"],typeof i=="function"?i:null)}var re=Object.assign,B;function te(i){if(B===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+i}var me=!1;function ge(i,o){if(!i||me)return"";me=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(J){var f=J}Reflect.construct(i,[],o)}else{try{o.call()}catch(J){f=J}i.call(o.prototype)}else{try{throw Error()}catch(J){f=J}i()}}catch(J){if(J&&f&&typeof J.stack=="string"){for(var m=J.stack.split(`
`),v=f.stack.split(`
`),I=m.length-1,M=v.length-1;1<=I&&0<=M&&m[I]!==v[M];)M--;for(;1<=I&&0<=M;I--,M--)if(m[I]!==v[M]){if(I!==1||M!==1)do if(I--,M--,0>M||m[I]!==v[M]){var j=`
`+m[I].replace(" at new "," at ");return i.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",i.displayName)),j}while(1<=I&&0<=M);break}}}finally{me=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?te(i):""}function be(i){switch(i.tag){case 5:return te(i.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return i=ge(i.type,!1),i;case 11:return i=ge(i.type.render,!1),i;case 1:return i=ge(i.type,!0),i;default:return""}}function Fe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case b:return"Fragment";case ne:return"Portal";case A:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case je:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case V:return(i.displayName||"Context")+".Consumer";case L:return(i._context.displayName||"Context")+".Provider";case z:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ke:return o=i.displayName||null,o!==null?o:Fe(i.type)||"Memo";case Oe:o=i._payload,i=i._init;try{return Fe(i(o))}catch{}}return null}function Se(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fe(o);case 8:return o===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function _e(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function it(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function mt(i){var o=it(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(I){f=""+I,v.call(this,I)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(I){f=""+I},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function xn(i){i._valueTracker||(i._valueTracker=mt(i))}function st(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return i&&(f=it(i)?i.checked?"true":"false":i.value),i=f,i!==u?(o.setValue(i),!0):!1}function Vt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function or(i,o){var u=o.checked;return re({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function ha(i,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=_e(o.value!=null?o.value:u),i._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Hn(i,o){o=o.checked,o!=null&&W(i,"checked",o,!1)}function ki(i,o){Hn(i,o);var u=_e(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?kt(i,o.type,u):o.hasOwnProperty("defaultValue")&&kt(i,o.type,_e(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function go(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function kt(i,o,u){(o!=="number"||Vt(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Pt=Array.isArray;function ar(i,o,u,f){if(i=i.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=o.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&f&&(i[u].defaultSelected=!0)}else{for(u=""+_e(u),o=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,f&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function yo(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return re({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function vo(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(Pt(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:_e(u)}}function gr(i,o){var u=_e(o.value),f=_e(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),f!=null&&(i.defaultValue=""+f)}function Wn(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function ds(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qr(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?ds(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var on,Gn=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,m){MSApp.execUnsafeLocalFunction(function(){return i(o,u,f,m)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(on=on||document.createElement("div"),on.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=on.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Qr(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var Yr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fs=["Webkit","ms","Moz","O"];Object.keys(Yr).forEach(function(i){fs.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Yr[o]=Yr[i]})});function Xr(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Yr.hasOwnProperty(i)&&Yr[i]?(""+o).trim():o+"px"}function En(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,m=Xr(u,o[u],f);u==="float"&&(u="cssFloat"),f?i.setProperty(u,m):i[u]=m}}var ps=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kn(i,o){if(o){if(ps[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Pi(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jr=null;function Ni(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var qn=null,yr=null,_t=null;function wo(i){if(i=ql(i)){if(typeof qn!="function")throw Error(n(280));var o=i.stateNode;o&&(o=jc(o),qn(i.stateNode,i.type,o))}}function Nr(i){yr?_t?_t.push(i):_t=[i]:yr=i}function Zr(){if(yr){var i=yr,o=_t;if(_t=yr=null,wo(i),o)for(i=0;i<o.length;i++)wo(o[i])}}function _o(i,o){return i(o)}function Di(){}var Vn=!1;function xo(i,o,u){if(Vn)return i(o,u);Vn=!0;try{return _o(i,o,u)}finally{Vn=!1,(yr!==null||_t!==null)&&(Di(),Zr())}}function Mi(i,o){var u=i.stateNode;if(u===null)return null;var f=jc(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var ei=!1;if(c)try{var O={};Object.defineProperty(O,"passive",{get:function(){ei=!0}}),window.addEventListener("test",O,O),window.removeEventListener("test",O,O)}catch{ei=!1}function H(i,o,u,f,m,v,I,M,j){var J=Array.prototype.slice.call(arguments,3);try{o.apply(u,J)}catch(ae){this.onError(ae)}}var Y=!1,se=null,ue=!1,we=null,Ve={onError:function(i){Y=!0,se=i}};function ye(i,o,u,f,m,v,I,M,j){Y=!1,se=null,H.apply(Ve,arguments)}function xe(i,o,u,f,m,v,I,M,j){if(ye.apply(this,arguments),Y){if(Y){var J=se;Y=!1,se=null}else throw Error(n(198));ue||(ue=!0,we=J)}}function Ee(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function He(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function De(i){if(Ee(i)!==i)throw Error(n(188))}function Ge(i){var o=i.alternate;if(!o){if(o=Ee(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,f=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return De(m),i;if(v===f)return De(m),o;v=v.sibling}throw Error(n(188))}if(u.return!==f.return)u=m,f=v;else{for(var I=!1,M=m.child;M;){if(M===u){I=!0,u=m,f=v;break}if(M===f){I=!0,f=m,u=v;break}M=M.sibling}if(!I){for(M=v.child;M;){if(M===u){I=!0,u=v,f=m;break}if(M===f){I=!0,f=v,u=m;break}M=M.sibling}if(!I)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function Xe(i){return i=Ge(i),i!==null?Tt(i):null}function Tt(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Tt(i);if(o!==null)return o;i=i.sibling}return null}var Rt=e.unstable_scheduleCallback,Ot=e.unstable_cancelCallback,nt=e.unstable_shouldYield,jt=e.unstable_requestPaint,ct=e.unstable_now,Li=e.unstable_getCurrentPriorityLevel,On=e.unstable_ImmediatePriority,Tn=e.unstable_UserBlockingPriority,Dr=e.unstable_NormalPriority,Mr=e.unstable_LowPriority,Qn=e.unstable_IdlePriority,vr=null,an=null;function Ze(i){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(vr,i,void 0,(i.current.flags&128)===128)}catch{}}var gt=Math.clz32?Math.clz32:yt,dn=Math.log,Wt=Math.LN2;function yt(i){return i>>>=0,i===0?32:31-(dn(i)/Wt|0)|0}var jn=64,Lr=4194304;function ht(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Vi(i,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,m=i.suspendedLanes,v=i.pingedLanes,I=u&268435455;if(I!==0){var M=I&~m;M!==0?f=ht(M):(v&=I,v!==0&&(f=ht(v)))}else I=u&~m,I!==0?f=ht(I):v!==0&&(f=ht(v));if(f===0)return 0;if(o!==0&&o!==f&&(o&m)===0&&(m=f&-f,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if((f&4)!==0&&(f|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=f;0<o;)u=31-gt(o),m=1<<u,f|=i[u],o&=~m;return f}function Eo(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function To(i,o){for(var u=i.suspendedLanes,f=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var I=31-gt(v),M=1<<I,j=m[I];j===-1?((M&u)===0||(M&f)!==0)&&(m[I]=Eo(M,o)):j<=o&&(i.expiredLanes|=M),v&=~M}}function Cl(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Rl(){var i=jn;return jn<<=1,(jn&4194240)===0&&(jn=64),i}function Al(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function So(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-gt(o),i[o]=u}function sf(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<u;){var m=31-gt(u),v=1<<m;o[m]=0,f[m]=-1,i[m]=-1,u&=~v}}function kl(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var f=31-gt(u),m=1<<f;m&o|i[f]&o&&(i[f]|=o),u&=~m}}var ot=0;function ti(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Pl,da,Nl,Dl,Ml,ni=!1,fa=[],ri=null,ii=null,fn=null,Io=new Map,Oi=new Map,lr=[],Ec="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ms(i,o){switch(i){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":ii=null;break;case"mouseover":case"mouseout":fn=null;break;case"pointerover":case"pointerout":Io.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oi.delete(o.pointerId)}}function Vr(i,o,u,f,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:v,targetContainers:[m]},o!==null&&(o=ql(o),o!==null&&da(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function Tc(i,o,u,f,m){switch(o){case"focusin":return ri=Vr(ri,i,o,u,f,m),!0;case"dragenter":return ii=Vr(ii,i,o,u,f,m),!0;case"mouseover":return fn=Vr(fn,i,o,u,f,m),!0;case"pointerover":var v=m.pointerId;return Io.set(v,Vr(Io.get(v)||null,i,o,u,f,m)),!0;case"gotpointercapture":return v=m.pointerId,Oi.set(v,Vr(Oi.get(v)||null,i,o,u,f,m)),!0}return!1}function pa(i){var o=Ao(i.target);if(o!==null){var u=Ee(o);if(u!==null){if(o=u.tag,o===13){if(o=He(u),o!==null){i.blockedOn=o,Ml(i.priority,function(){Nl(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function wt(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=ma(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);Jr=f,u.target.dispatchEvent(f),Jr=null}else return o=ql(u),o!==null&&da(o),i.blockedOn=u,!1;o.shift()}return!0}function Sc(i,o,u){wt(i)&&u.delete(o)}function of(){ni=!1,ri!==null&&wt(ri)&&(ri=null),ii!==null&&wt(ii)&&(ii=null),fn!==null&&wt(fn)&&(fn=null),Io.forEach(Sc),Oi.forEach(Sc)}function gs(i,o){i.blockedOn===o&&(i.blockedOn=null,ni||(ni=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,of)))}function ys(i){function o(m){return gs(m,i)}if(0<fa.length){gs(fa[0],i);for(var u=1;u<fa.length;u++){var f=fa[u];f.blockedOn===i&&(f.blockedOn=null)}}for(ri!==null&&gs(ri,i),ii!==null&&gs(ii,i),fn!==null&&gs(fn,i),Io.forEach(o),Oi.forEach(o),u=0;u<lr.length;u++)f=lr[u],f.blockedOn===i&&(f.blockedOn=null);for(;0<lr.length&&(u=lr[0],u.blockedOn===null);)pa(u),u.blockedOn===null&&lr.shift()}var ji=Q.ReactCurrentBatchConfig,Fi=!0;function si(i,o,u,f){var m=ot,v=ji.transition;ji.transition=null;try{ot=1,Ll(i,o,u,f)}finally{ot=m,ji.transition=v}}function Ic(i,o,u,f){var m=ot,v=ji.transition;ji.transition=null;try{ot=4,Ll(i,o,u,f)}finally{ot=m,ji.transition=v}}function Ll(i,o,u,f){if(Fi){var m=ma(i,o,u,f);if(m===null)yf(i,o,f,oi,u),ms(i,f);else if(Tc(m,i,o,u,f))f.stopPropagation();else if(ms(i,f),o&4&&-1<Ec.indexOf(i)){for(;m!==null;){var v=ql(m);if(v!==null&&Pl(v),v=ma(i,o,u,f),v===null&&yf(i,o,f,oi,u),v===m)break;m=v}m!==null&&f.stopPropagation()}else yf(i,o,f,null,u)}}var oi=null;function ma(i,o,u,f){if(oi=null,i=Ni(f),i=Ao(i),i!==null)if(o=Ee(i),o===null)i=null;else if(u=o.tag,u===13){if(i=He(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return oi=i,null}function ga(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Li()){case On:return 1;case Tn:return 4;case Dr:case Mr:return 16;case Qn:return 536870912;default:return 16}default:return 16}}var ur=null,ya=null,Ui=null;function bc(){if(Ui)return Ui;var i,o=ya,u=o.length,f,m="value"in ur?ur.value:ur.textContent,v=m.length;for(i=0;i<u&&o[i]===m[i];i++);var I=u-i;for(f=1;f<=I&&o[u-f]===m[v-f];f++);return Ui=m.slice(i,1<f?1-f:void 0)}function bo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function ai(){return!0}function Vl(){return!1}function Sn(i){function o(u,f,m,v,I){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=v,this.target=I,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(u=i[M],this[M]=u?u(v):v[M]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ai:Vl,this.isPropagationStopped=Vl,this}return re(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),o}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Co=Sn(li),vs=re({},li,{view:0,detail:0}),va=Sn(vs),wa,_a,cr,Ro=re({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qe,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==cr&&(cr&&i.type==="mousemove"?(wa=i.screenX-cr.screenX,_a=i.screenY-cr.screenY):_a=wa=0,cr=i),wa)},movementY:function(i){return"movementY"in i?i.movementY:_a}}),Ol=Sn(Ro),Cc=re({},Ro,{dataTransfer:0}),Rc=Sn(Cc),xa=re({},vs,{relatedTarget:0}),pn=Sn(xa),Ac=re({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),kc=Sn(Ac),ws=re({},li,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),h=Sn(ws),w=re({},li,{data:0}),E=Sn(w),R={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fe(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Z[i])?!!o[i]:!1}function qe(){return fe}var zt=re({},vs,{key:function(i){if(i.key){var o=R[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=bo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?q[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qe,charCode:function(i){return i.type==="keypress"?bo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?bo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),vt=Sn(zt),Gt=re({},Ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hr=Sn(Gt),zi=re({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qe}),ui=Sn(zi),ci=re({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ea=Sn(ci),jl=re({},Ro,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Kb=Sn(jl),qb=[9,13,27,32],af=c&&"CompositionEvent"in window,Fl=null;c&&"documentMode"in document&&(Fl=document.documentMode);var Qb=c&&"TextEvent"in window&&!Fl,sv=c&&(!af||Fl&&8<Fl&&11>=Fl),ov=" ",av=!1;function lv(i,o){switch(i){case"keyup":return qb.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uv(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ta=!1;function Yb(i,o){switch(i){case"compositionend":return uv(o);case"keypress":return o.which!==32?null:(av=!0,ov);case"textInput":return i=o.data,i===ov&&av?null:i;default:return null}}function Xb(i,o){if(Ta)return i==="compositionend"||!af&&lv(i,o)?(i=bc(),Ui=ya=ur=null,Ta=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return sv&&o.locale!=="ko"?null:o.data;default:return null}}var Jb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cv(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!Jb[i.type]:o==="textarea"}function hv(i,o,u,f){Nr(f),o=Lc(o,"onChange"),0<o.length&&(u=new Co("onChange","change",null,u,f),i.push({event:u,listeners:o}))}var Ul=null,zl=null;function Zb(i){Av(i,0)}function Pc(i){var o=Ra(i);if(st(o))return i}function eC(i,o){if(i==="change")return o}var dv=!1;if(c){var lf;if(c){var uf="oninput"in document;if(!uf){var fv=document.createElement("div");fv.setAttribute("oninput","return;"),uf=typeof fv.oninput=="function"}lf=uf}else lf=!1;dv=lf&&(!document.documentMode||9<document.documentMode)}function pv(){Ul&&(Ul.detachEvent("onpropertychange",mv),zl=Ul=null)}function mv(i){if(i.propertyName==="value"&&Pc(zl)){var o=[];hv(o,zl,i,Ni(i)),xo(Zb,o)}}function tC(i,o,u){i==="focusin"?(pv(),Ul=o,zl=u,Ul.attachEvent("onpropertychange",mv)):i==="focusout"&&pv()}function nC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Pc(zl)}function rC(i,o){if(i==="click")return Pc(o)}function iC(i,o){if(i==="input"||i==="change")return Pc(o)}function sC(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Or=typeof Object.is=="function"?Object.is:sC;function Bl(i,o){if(Or(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!d.call(o,m)||!Or(i[m],o[m]))return!1}return!0}function gv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function yv(i,o){var u=gv(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=o&&f>=o)return{node:u,offset:o-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=gv(u)}}function vv(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?vv(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function wv(){for(var i=window,o=Vt();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=Vt(i.document)}return o}function cf(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function oC(i){var o=wv(),u=i.focusedElem,f=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&vv(u.ownerDocument.documentElement,u)){if(f!==null&&cf(u)){if(o=f.start,i=f.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=u.textContent.length,v=Math.min(f.start,m);f=f.end===void 0?v:Math.min(f.end,m),!i.extend&&v>f&&(m=f,f=v,v=m),m=yv(u,v);var I=yv(u,f);m&&I&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==I.node||i.focusOffset!==I.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),v>f?(i.addRange(o),i.extend(I.node,I.offset)):(o.setEnd(I.node,I.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var aC=c&&"documentMode"in document&&11>=document.documentMode,Sa=null,hf=null,$l=null,df=!1;function _v(i,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;df||Sa==null||Sa!==Vt(f)||(f=Sa,"selectionStart"in f&&cf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),$l&&Bl($l,f)||($l=f,f=Lc(hf,"onSelect"),0<f.length&&(o=new Co("onSelect","select",null,o,u),i.push({event:o,listeners:f}),o.target=Sa)))}function Nc(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Ia={animationend:Nc("Animation","AnimationEnd"),animationiteration:Nc("Animation","AnimationIteration"),animationstart:Nc("Animation","AnimationStart"),transitionend:Nc("Transition","TransitionEnd")},ff={},xv={};c&&(xv=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Dc(i){if(ff[i])return ff[i];if(!Ia[i])return i;var o=Ia[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in xv)return ff[i]=o[u];return i}var Ev=Dc("animationend"),Tv=Dc("animationiteration"),Sv=Dc("animationstart"),Iv=Dc("transitionend"),bv=new Map,Cv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _s(i,o){bv.set(i,o),a(o,[i])}for(var pf=0;pf<Cv.length;pf++){var mf=Cv[pf],lC=mf.toLowerCase(),uC=mf[0].toUpperCase()+mf.slice(1);_s(lC,"on"+uC)}_s(Ev,"onAnimationEnd"),_s(Tv,"onAnimationIteration"),_s(Sv,"onAnimationStart"),_s("dblclick","onDoubleClick"),_s("focusin","onFocus"),_s("focusout","onBlur"),_s(Iv,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hl));function Rv(i,o,u){var f=i.type||"unknown-event";i.currentTarget=u,xe(f,o,void 0,i),i.currentTarget=null}function Av(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],m=f.event;f=f.listeners;e:{var v=void 0;if(o)for(var I=f.length-1;0<=I;I--){var M=f[I],j=M.instance,J=M.currentTarget;if(M=M.listener,j!==v&&m.isPropagationStopped())break e;Rv(m,M,J),v=j}else for(I=0;I<f.length;I++){if(M=f[I],j=M.instance,J=M.currentTarget,M=M.listener,j!==v&&m.isPropagationStopped())break e;Rv(m,M,J),v=j}}}if(ue)throw i=we,ue=!1,we=null,i}function St(i,o){var u=o[Tf];u===void 0&&(u=o[Tf]=new Set);var f=i+"__bubble";u.has(f)||(kv(o,i,2,!1),u.add(f))}function gf(i,o,u){var f=0;o&&(f|=4),kv(u,i,f,o)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function Wl(i){if(!i[Mc]){i[Mc]=!0,r.forEach(function(u){u!=="selectionchange"&&(cC.has(u)||gf(u,!1,i),gf(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Mc]||(o[Mc]=!0,gf("selectionchange",!1,o))}}function kv(i,o,u,f){switch(ga(o)){case 1:var m=si;break;case 4:m=Ic;break;default:m=Ll}u=m.bind(null,o,u,i),m=void 0,!ei||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),f?m!==void 0?i.addEventListener(o,u,{capture:!0,passive:m}):i.addEventListener(o,u,!0):m!==void 0?i.addEventListener(o,u,{passive:m}):i.addEventListener(o,u,!1)}function yf(i,o,u,f,m){var v=f;if((o&1)===0&&(o&2)===0&&f!==null)e:for(;;){if(f===null)return;var I=f.tag;if(I===3||I===4){var M=f.stateNode.containerInfo;if(M===m||M.nodeType===8&&M.parentNode===m)break;if(I===4)for(I=f.return;I!==null;){var j=I.tag;if((j===3||j===4)&&(j=I.stateNode.containerInfo,j===m||j.nodeType===8&&j.parentNode===m))return;I=I.return}for(;M!==null;){if(I=Ao(M),I===null)return;if(j=I.tag,j===5||j===6){f=v=I;continue e}M=M.parentNode}}f=f.return}xo(function(){var J=v,ae=Ni(u),le=[];e:{var oe=bv.get(i);if(oe!==void 0){var ve=Co,Ce=i;switch(i){case"keypress":if(bo(u)===0)break e;case"keydown":case"keyup":ve=vt;break;case"focusin":Ce="focus",ve=pn;break;case"focusout":Ce="blur",ve=pn;break;case"beforeblur":case"afterblur":ve=pn;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=Ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=Rc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=ui;break;case Ev:case Tv:case Sv:ve=kc;break;case Iv:ve=Ea;break;case"scroll":ve=va;break;case"wheel":ve=Kb;break;case"copy":case"cut":case"paste":ve=h;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=hr}var Pe=(o&4)!==0,Bt=!Pe&&i==="scroll",K=Pe?oe!==null?oe+"Capture":null:oe;Pe=[];for(var $=J,X;$!==null;){X=$;var ce=X.stateNode;if(X.tag===5&&ce!==null&&(X=ce,K!==null&&(ce=Mi($,K),ce!=null&&Pe.push(Gl($,ce,X)))),Bt)break;$=$.return}0<Pe.length&&(oe=new ve(oe,Ce,null,u,ae),le.push({event:oe,listeners:Pe}))}}if((o&7)===0){e:{if(oe=i==="mouseover"||i==="pointerover",ve=i==="mouseout"||i==="pointerout",oe&&u!==Jr&&(Ce=u.relatedTarget||u.fromElement)&&(Ao(Ce)||Ce[Bi]))break e;if((ve||oe)&&(oe=ae.window===ae?ae:(oe=ae.ownerDocument)?oe.defaultView||oe.parentWindow:window,ve?(Ce=u.relatedTarget||u.toElement,ve=J,Ce=Ce?Ao(Ce):null,Ce!==null&&(Bt=Ee(Ce),Ce!==Bt||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(ve=null,Ce=J),ve!==Ce)){if(Pe=Ol,ce="onMouseLeave",K="onMouseEnter",$="mouse",(i==="pointerout"||i==="pointerover")&&(Pe=hr,ce="onPointerLeave",K="onPointerEnter",$="pointer"),Bt=ve==null?oe:Ra(ve),X=Ce==null?oe:Ra(Ce),oe=new Pe(ce,$+"leave",ve,u,ae),oe.target=Bt,oe.relatedTarget=X,ce=null,Ao(ae)===J&&(Pe=new Pe(K,$+"enter",Ce,u,ae),Pe.target=X,Pe.relatedTarget=Bt,ce=Pe),Bt=ce,ve&&Ce)t:{for(Pe=ve,K=Ce,$=0,X=Pe;X;X=ba(X))$++;for(X=0,ce=K;ce;ce=ba(ce))X++;for(;0<$-X;)Pe=ba(Pe),$--;for(;0<X-$;)K=ba(K),X--;for(;$--;){if(Pe===K||K!==null&&Pe===K.alternate)break t;Pe=ba(Pe),K=ba(K)}Pe=null}else Pe=null;ve!==null&&Pv(le,oe,ve,Pe,!1),Ce!==null&&Bt!==null&&Pv(le,Bt,Ce,Pe,!0)}}e:{if(oe=J?Ra(J):window,ve=oe.nodeName&&oe.nodeName.toLowerCase(),ve==="select"||ve==="input"&&oe.type==="file")var Me=eC;else if(cv(oe))if(dv)Me=iC;else{Me=nC;var Ue=tC}else(ve=oe.nodeName)&&ve.toLowerCase()==="input"&&(oe.type==="checkbox"||oe.type==="radio")&&(Me=rC);if(Me&&(Me=Me(i,J))){hv(le,Me,u,ae);break e}Ue&&Ue(i,oe,J),i==="focusout"&&(Ue=oe._wrapperState)&&Ue.controlled&&oe.type==="number"&&kt(oe,"number",oe.value)}switch(Ue=J?Ra(J):window,i){case"focusin":(cv(Ue)||Ue.contentEditable==="true")&&(Sa=Ue,hf=J,$l=null);break;case"focusout":$l=hf=Sa=null;break;case"mousedown":df=!0;break;case"contextmenu":case"mouseup":case"dragend":df=!1,_v(le,u,ae);break;case"selectionchange":if(aC)break;case"keydown":case"keyup":_v(le,u,ae)}var ze;if(af)e:{switch(i){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else Ta?lv(i,u)&&(We="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(We="onCompositionStart");We&&(sv&&u.locale!=="ko"&&(Ta||We!=="onCompositionStart"?We==="onCompositionEnd"&&Ta&&(ze=bc()):(ur=ae,ya="value"in ur?ur.value:ur.textContent,Ta=!0)),Ue=Lc(J,We),0<Ue.length&&(We=new E(We,i,null,u,ae),le.push({event:We,listeners:Ue}),ze?We.data=ze:(ze=uv(u),ze!==null&&(We.data=ze)))),(ze=Qb?Yb(i,u):Xb(i,u))&&(J=Lc(J,"onBeforeInput"),0<J.length&&(ae=new E("onBeforeInput","beforeinput",null,u,ae),le.push({event:ae,listeners:J}),ae.data=ze))}Av(le,o)})}function Gl(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Lc(i,o){for(var u=o+"Capture",f=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=Mi(i,u),v!=null&&f.unshift(Gl(i,v,m)),v=Mi(i,o),v!=null&&f.push(Gl(i,v,m))),i=i.return}return f}function ba(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Pv(i,o,u,f,m){for(var v=o._reactName,I=[];u!==null&&u!==f;){var M=u,j=M.alternate,J=M.stateNode;if(j!==null&&j===f)break;M.tag===5&&J!==null&&(M=J,m?(j=Mi(u,v),j!=null&&I.unshift(Gl(u,j,M))):m||(j=Mi(u,v),j!=null&&I.push(Gl(u,j,M)))),u=u.return}I.length!==0&&i.push({event:o,listeners:I})}var hC=/\r\n?/g,dC=/\u0000|\uFFFD/g;function Nv(i){return(typeof i=="string"?i:""+i).replace(hC,`
`).replace(dC,"")}function Vc(i,o,u){if(o=Nv(o),Nv(i)!==o&&u)throw Error(n(425))}function Oc(){}var vf=null,wf=null;function _f(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var xf=typeof setTimeout=="function"?setTimeout:void 0,fC=typeof clearTimeout=="function"?clearTimeout:void 0,Dv=typeof Promise=="function"?Promise:void 0,pC=typeof queueMicrotask=="function"?queueMicrotask:typeof Dv<"u"?function(i){return Dv.resolve(null).then(i).catch(mC)}:xf;function mC(i){setTimeout(function(){throw i})}function Ef(i,o){var u=o,f=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(f===0){i.removeChild(m),ys(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=m}while(u);ys(o)}function xs(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Mv(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var Ca=Math.random().toString(36).slice(2),hi="__reactFiber$"+Ca,Kl="__reactProps$"+Ca,Bi="__reactContainer$"+Ca,Tf="__reactEvents$"+Ca,gC="__reactListeners$"+Ca,yC="__reactHandles$"+Ca;function Ao(i){var o=i[hi];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Bi]||u[hi]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=Mv(i);i!==null;){if(u=i[hi])return u;i=Mv(i)}return o}i=u,u=i.parentNode}return null}function ql(i){return i=i[hi]||i[Bi],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ra(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function jc(i){return i[Kl]||null}var Sf=[],Aa=-1;function Es(i){return{current:i}}function It(i){0>Aa||(i.current=Sf[Aa],Sf[Aa]=null,Aa--)}function xt(i,o){Aa++,Sf[Aa]=i.current,i.current=o}var Ts={},In=Es(Ts),Yn=Es(!1),ko=Ts;function ka(i,o){var u=i.type.contextTypes;if(!u)return Ts;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function Xn(i){return i=i.childContextTypes,i!=null}function Fc(){It(Yn),It(In)}function Lv(i,o,u){if(In.current!==Ts)throw Error(n(168));xt(In,o),xt(Yn,u)}function Vv(i,o,u){var f=i.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var m in f)if(!(m in o))throw Error(n(108,Se(i)||"Unknown",m));return re({},u,f)}function Uc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ts,ko=In.current,xt(In,i),xt(Yn,Yn.current),!0}function Ov(i,o,u){var f=i.stateNode;if(!f)throw Error(n(169));u?(i=Vv(i,o,ko),f.__reactInternalMemoizedMergedChildContext=i,It(Yn),It(In),xt(In,i)):It(Yn),xt(Yn,u)}var $i=null,zc=!1,If=!1;function jv(i){$i===null?$i=[i]:$i.push(i)}function vC(i){zc=!0,jv(i)}function Ss(){if(!If&&$i!==null){If=!0;var i=0,o=ot;try{var u=$i;for(ot=1;i<u.length;i++){var f=u[i];do f=f(!0);while(f!==null)}$i=null,zc=!1}catch(m){throw $i!==null&&($i=$i.slice(i+1)),Rt(On,Ss),m}finally{ot=o,If=!1}}return null}var Pa=[],Na=0,Bc=null,$c=0,wr=[],_r=0,Po=null,Hi=1,Wi="";function No(i,o){Pa[Na++]=$c,Pa[Na++]=Bc,Bc=i,$c=o}function Fv(i,o,u){wr[_r++]=Hi,wr[_r++]=Wi,wr[_r++]=Po,Po=i;var f=Hi;i=Wi;var m=32-gt(f)-1;f&=~(1<<m),u+=1;var v=32-gt(o)+m;if(30<v){var I=m-m%5;v=(f&(1<<I)-1).toString(32),f>>=I,m-=I,Hi=1<<32-gt(o)+m|u<<m|f,Wi=v+i}else Hi=1<<v|u<<m|f,Wi=i}function bf(i){i.return!==null&&(No(i,1),Fv(i,1,0))}function Cf(i){for(;i===Bc;)Bc=Pa[--Na],Pa[Na]=null,$c=Pa[--Na],Pa[Na]=null;for(;i===Po;)Po=wr[--_r],wr[_r]=null,Wi=wr[--_r],wr[_r]=null,Hi=wr[--_r],wr[_r]=null}var dr=null,fr=null,At=!1,jr=null;function Uv(i,o){var u=Sr(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function zv(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,dr=i,fr=xs(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,dr=i,fr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Po!==null?{id:Hi,overflow:Wi}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Sr(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,dr=i,fr=null,!0):!1;default:return!1}}function Rf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Af(i){if(At){var o=fr;if(o){var u=o;if(!zv(i,o)){if(Rf(i))throw Error(n(418));o=xs(u.nextSibling);var f=dr;o&&zv(i,o)?Uv(f,u):(i.flags=i.flags&-4097|2,At=!1,dr=i)}}else{if(Rf(i))throw Error(n(418));i.flags=i.flags&-4097|2,At=!1,dr=i}}}function Bv(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;dr=i}function Hc(i){if(i!==dr)return!1;if(!At)return Bv(i),At=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!_f(i.type,i.memoizedProps)),o&&(o=fr)){if(Rf(i))throw $v(),Error(n(418));for(;o;)Uv(i,o),o=xs(o.nextSibling)}if(Bv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){fr=xs(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}fr=null}}else fr=dr?xs(i.stateNode.nextSibling):null;return!0}function $v(){for(var i=fr;i;)i=xs(i.nextSibling)}function Da(){fr=dr=null,At=!1}function kf(i){jr===null?jr=[i]:jr.push(i)}var wC=Q.ReactCurrentBatchConfig;function Ql(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var f=u.stateNode}if(!f)throw Error(n(147,i));var m=f,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(I){var M=m.refs;I===null?delete M[v]:M[v]=I},o._stringRef=v,o)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function Wc(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Hv(i){var o=i._init;return o(i._payload)}function Wv(i){function o(K,$){if(i){var X=K.deletions;X===null?(K.deletions=[$],K.flags|=16):X.push($)}}function u(K,$){if(!i)return null;for(;$!==null;)o(K,$),$=$.sibling;return null}function f(K,$){for(K=new Map;$!==null;)$.key!==null?K.set($.key,$):K.set($.index,$),$=$.sibling;return K}function m(K,$){return K=Ns(K,$),K.index=0,K.sibling=null,K}function v(K,$,X){return K.index=X,i?(X=K.alternate,X!==null?(X=X.index,X<$?(K.flags|=2,$):X):(K.flags|=2,$)):(K.flags|=1048576,$)}function I(K){return i&&K.alternate===null&&(K.flags|=2),K}function M(K,$,X,ce){return $===null||$.tag!==6?($=xp(X,K.mode,ce),$.return=K,$):($=m($,X),$.return=K,$)}function j(K,$,X,ce){var Me=X.type;return Me===b?ae(K,$,X.props.children,ce,X.key):$!==null&&($.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===Oe&&Hv(Me)===$.type)?(ce=m($,X.props),ce.ref=Ql(K,$,X),ce.return=K,ce):(ce=mh(X.type,X.key,X.props,null,K.mode,ce),ce.ref=Ql(K,$,X),ce.return=K,ce)}function J(K,$,X,ce){return $===null||$.tag!==4||$.stateNode.containerInfo!==X.containerInfo||$.stateNode.implementation!==X.implementation?($=Ep(X,K.mode,ce),$.return=K,$):($=m($,X.children||[]),$.return=K,$)}function ae(K,$,X,ce,Me){return $===null||$.tag!==7?($=Uo(X,K.mode,ce,Me),$.return=K,$):($=m($,X),$.return=K,$)}function le(K,$,X){if(typeof $=="string"&&$!==""||typeof $=="number")return $=xp(""+$,K.mode,X),$.return=K,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case ee:return X=mh($.type,$.key,$.props,null,K.mode,X),X.ref=Ql(K,null,$),X.return=K,X;case ne:return $=Ep($,K.mode,X),$.return=K,$;case Oe:var ce=$._init;return le(K,ce($._payload),X)}if(Pt($)||de($))return $=Uo($,K.mode,X,null),$.return=K,$;Wc(K,$)}return null}function oe(K,$,X,ce){var Me=$!==null?$.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return Me!==null?null:M(K,$,""+X,ce);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case ee:return X.key===Me?j(K,$,X,ce):null;case ne:return X.key===Me?J(K,$,X,ce):null;case Oe:return Me=X._init,oe(K,$,Me(X._payload),ce)}if(Pt(X)||de(X))return Me!==null?null:ae(K,$,X,ce,null);Wc(K,X)}return null}function ve(K,$,X,ce,Me){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return K=K.get(X)||null,M($,K,""+ce,Me);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case ee:return K=K.get(ce.key===null?X:ce.key)||null,j($,K,ce,Me);case ne:return K=K.get(ce.key===null?X:ce.key)||null,J($,K,ce,Me);case Oe:var Ue=ce._init;return ve(K,$,X,Ue(ce._payload),Me)}if(Pt(ce)||de(ce))return K=K.get(X)||null,ae($,K,ce,Me,null);Wc($,ce)}return null}function Ce(K,$,X,ce){for(var Me=null,Ue=null,ze=$,We=$=0,cn=null;ze!==null&&We<X.length;We++){ze.index>We?(cn=ze,ze=null):cn=ze.sibling;var pt=oe(K,ze,X[We],ce);if(pt===null){ze===null&&(ze=cn);break}i&&ze&&pt.alternate===null&&o(K,ze),$=v(pt,$,We),Ue===null?Me=pt:Ue.sibling=pt,Ue=pt,ze=cn}if(We===X.length)return u(K,ze),At&&No(K,We),Me;if(ze===null){for(;We<X.length;We++)ze=le(K,X[We],ce),ze!==null&&($=v(ze,$,We),Ue===null?Me=ze:Ue.sibling=ze,Ue=ze);return At&&No(K,We),Me}for(ze=f(K,ze);We<X.length;We++)cn=ve(ze,K,We,X[We],ce),cn!==null&&(i&&cn.alternate!==null&&ze.delete(cn.key===null?We:cn.key),$=v(cn,$,We),Ue===null?Me=cn:Ue.sibling=cn,Ue=cn);return i&&ze.forEach(function(Ds){return o(K,Ds)}),At&&No(K,We),Me}function Pe(K,$,X,ce){var Me=de(X);if(typeof Me!="function")throw Error(n(150));if(X=Me.call(X),X==null)throw Error(n(151));for(var Ue=Me=null,ze=$,We=$=0,cn=null,pt=X.next();ze!==null&&!pt.done;We++,pt=X.next()){ze.index>We?(cn=ze,ze=null):cn=ze.sibling;var Ds=oe(K,ze,pt.value,ce);if(Ds===null){ze===null&&(ze=cn);break}i&&ze&&Ds.alternate===null&&o(K,ze),$=v(Ds,$,We),Ue===null?Me=Ds:Ue.sibling=Ds,Ue=Ds,ze=cn}if(pt.done)return u(K,ze),At&&No(K,We),Me;if(ze===null){for(;!pt.done;We++,pt=X.next())pt=le(K,pt.value,ce),pt!==null&&($=v(pt,$,We),Ue===null?Me=pt:Ue.sibling=pt,Ue=pt);return At&&No(K,We),Me}for(ze=f(K,ze);!pt.done;We++,pt=X.next())pt=ve(ze,K,We,pt.value,ce),pt!==null&&(i&&pt.alternate!==null&&ze.delete(pt.key===null?We:pt.key),$=v(pt,$,We),Ue===null?Me=pt:Ue.sibling=pt,Ue=pt);return i&&ze.forEach(function(JC){return o(K,JC)}),At&&No(K,We),Me}function Bt(K,$,X,ce){if(typeof X=="object"&&X!==null&&X.type===b&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case ee:e:{for(var Me=X.key,Ue=$;Ue!==null;){if(Ue.key===Me){if(Me=X.type,Me===b){if(Ue.tag===7){u(K,Ue.sibling),$=m(Ue,X.props.children),$.return=K,K=$;break e}}else if(Ue.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===Oe&&Hv(Me)===Ue.type){u(K,Ue.sibling),$=m(Ue,X.props),$.ref=Ql(K,Ue,X),$.return=K,K=$;break e}u(K,Ue);break}else o(K,Ue);Ue=Ue.sibling}X.type===b?($=Uo(X.props.children,K.mode,ce,X.key),$.return=K,K=$):(ce=mh(X.type,X.key,X.props,null,K.mode,ce),ce.ref=Ql(K,$,X),ce.return=K,K=ce)}return I(K);case ne:e:{for(Ue=X.key;$!==null;){if($.key===Ue)if($.tag===4&&$.stateNode.containerInfo===X.containerInfo&&$.stateNode.implementation===X.implementation){u(K,$.sibling),$=m($,X.children||[]),$.return=K,K=$;break e}else{u(K,$);break}else o(K,$);$=$.sibling}$=Ep(X,K.mode,ce),$.return=K,K=$}return I(K);case Oe:return Ue=X._init,Bt(K,$,Ue(X._payload),ce)}if(Pt(X))return Ce(K,$,X,ce);if(de(X))return Pe(K,$,X,ce);Wc(K,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,$!==null&&$.tag===6?(u(K,$.sibling),$=m($,X),$.return=K,K=$):(u(K,$),$=xp(X,K.mode,ce),$.return=K,K=$),I(K)):u(K,$)}return Bt}var Ma=Wv(!0),Gv=Wv(!1),Gc=Es(null),Kc=null,La=null,Pf=null;function Nf(){Pf=La=Kc=null}function Df(i){var o=Gc.current;It(Gc),i._currentValue=o}function Mf(i,o,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===u)break;i=i.return}}function Va(i,o){Kc=i,Pf=La=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(Jn=!0),i.firstContext=null)}function xr(i){var o=i._currentValue;if(Pf!==i)if(i={context:i,memoizedValue:o,next:null},La===null){if(Kc===null)throw Error(n(308));La=i,Kc.dependencies={lanes:0,firstContext:i}}else La=La.next=i;return o}var Do=null;function Lf(i){Do===null?Do=[i]:Do.push(i)}function Kv(i,o,u,f){var m=o.interleaved;return m===null?(u.next=u,Lf(o)):(u.next=m.next,m.next=u),o.interleaved=u,Gi(i,f)}function Gi(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Is=!1;function Vf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qv(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Ki(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function bs(i,o,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(dt&2)!==0){var m=f.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),f.pending=o,Gi(i,u)}return m=f.interleaved,m===null?(o.next=o,Lf(f)):(o.next=m.next,m.next=o),f.interleaved=o,Gi(i,u)}function qc(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,kl(i,u)}}function Qv(i,o){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var I={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=I:v=v.next=I,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:f.shared,effects:f.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function Qc(i,o,u,f){var m=i.updateQueue;Is=!1;var v=m.firstBaseUpdate,I=m.lastBaseUpdate,M=m.shared.pending;if(M!==null){m.shared.pending=null;var j=M,J=j.next;j.next=null,I===null?v=J:I.next=J,I=j;var ae=i.alternate;ae!==null&&(ae=ae.updateQueue,M=ae.lastBaseUpdate,M!==I&&(M===null?ae.firstBaseUpdate=J:M.next=J,ae.lastBaseUpdate=j))}if(v!==null){var le=m.baseState;I=0,ae=J=j=null,M=v;do{var oe=M.lane,ve=M.eventTime;if((f&oe)===oe){ae!==null&&(ae=ae.next={eventTime:ve,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var Ce=i,Pe=M;switch(oe=o,ve=u,Pe.tag){case 1:if(Ce=Pe.payload,typeof Ce=="function"){le=Ce.call(ve,le,oe);break e}le=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Pe.payload,oe=typeof Ce=="function"?Ce.call(ve,le,oe):Ce,oe==null)break e;le=re({},le,oe);break e;case 2:Is=!0}}M.callback!==null&&M.lane!==0&&(i.flags|=64,oe=m.effects,oe===null?m.effects=[M]:oe.push(M))}else ve={eventTime:ve,lane:oe,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ae===null?(J=ae=ve,j=le):ae=ae.next=ve,I|=oe;if(M=M.next,M===null){if(M=m.shared.pending,M===null)break;oe=M,M=oe.next,oe.next=null,m.lastBaseUpdate=oe,m.shared.pending=null}}while(!0);if(ae===null&&(j=le),m.baseState=j,m.firstBaseUpdate=J,m.lastBaseUpdate=ae,o=m.shared.interleaved,o!==null){m=o;do I|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);Vo|=I,i.lanes=I,i.memoizedState=le}}function Yv(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var f=i[o],m=f.callback;if(m!==null){if(f.callback=null,f=u,typeof m!="function")throw Error(n(191,m));m.call(f)}}}var Yl={},di=Es(Yl),Xl=Es(Yl),Jl=Es(Yl);function Mo(i){if(i===Yl)throw Error(n(174));return i}function Of(i,o){switch(xt(Jl,o),xt(Xl,i),xt(di,Yl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:qr(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=qr(o,i)}It(di),xt(di,o)}function Oa(){It(di),It(Xl),It(Jl)}function Xv(i){Mo(Jl.current);var o=Mo(di.current),u=qr(o,i.type);o!==u&&(xt(Xl,i),xt(di,u))}function jf(i){Xl.current===i&&(It(di),It(Xl))}var Nt=Es(0);function Yc(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ff=[];function Uf(){for(var i=0;i<Ff.length;i++)Ff[i]._workInProgressVersionPrimary=null;Ff.length=0}var Xc=Q.ReactCurrentDispatcher,zf=Q.ReactCurrentBatchConfig,Lo=0,Dt=null,Zt=null,ln=null,Jc=!1,Zl=!1,eu=0,_C=0;function bn(){throw Error(n(321))}function Bf(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Or(i[u],o[u]))return!1;return!0}function $f(i,o,u,f,m,v){if(Lo=v,Dt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Xc.current=i===null||i.memoizedState===null?SC:IC,i=u(f,m),Zl){v=0;do{if(Zl=!1,eu=0,25<=v)throw Error(n(301));v+=1,ln=Zt=null,o.updateQueue=null,Xc.current=bC,i=u(f,m)}while(Zl)}if(Xc.current=th,o=Zt!==null&&Zt.next!==null,Lo=0,ln=Zt=Dt=null,Jc=!1,o)throw Error(n(300));return i}function Hf(){var i=eu!==0;return eu=0,i}function fi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Dt.memoizedState=ln=i:ln=ln.next=i,ln}function Er(){if(Zt===null){var i=Dt.alternate;i=i!==null?i.memoizedState:null}else i=Zt.next;var o=ln===null?Dt.memoizedState:ln.next;if(o!==null)ln=o,Zt=i;else{if(i===null)throw Error(n(310));Zt=i,i={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},ln===null?Dt.memoizedState=ln=i:ln=ln.next=i}return ln}function tu(i,o){return typeof o=="function"?o(i):o}function Wf(i){var o=Er(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var f=Zt,m=f.baseQueue,v=u.pending;if(v!==null){if(m!==null){var I=m.next;m.next=v.next,v.next=I}f.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,f=f.baseState;var M=I=null,j=null,J=v;do{var ae=J.lane;if((Lo&ae)===ae)j!==null&&(j=j.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),f=J.hasEagerState?J.eagerState:i(f,J.action);else{var le={lane:ae,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};j===null?(M=j=le,I=f):j=j.next=le,Dt.lanes|=ae,Vo|=ae}J=J.next}while(J!==null&&J!==v);j===null?I=f:j.next=M,Or(f,o.memoizedState)||(Jn=!0),o.memoizedState=f,o.baseState=I,o.baseQueue=j,u.lastRenderedState=f}if(i=u.interleaved,i!==null){m=i;do v=m.lane,Dt.lanes|=v,Vo|=v,m=m.next;while(m!==i)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Gf(i){var o=Er(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var f=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var I=m=m.next;do v=i(v,I.action),I=I.next;while(I!==m);Or(v,o.memoizedState)||(Jn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,f]}function Jv(){}function Zv(i,o){var u=Dt,f=Er(),m=o(),v=!Or(f.memoizedState,m);if(v&&(f.memoizedState=m,Jn=!0),f=f.queue,Kf(n0.bind(null,u,f,i),[i]),f.getSnapshot!==o||v||ln!==null&&ln.memoizedState.tag&1){if(u.flags|=2048,nu(9,t0.bind(null,u,f,m,o),void 0,null),un===null)throw Error(n(349));(Lo&30)!==0||e0(u,o,m)}return m}function e0(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=Dt.updateQueue,o===null?(o={lastEffect:null,stores:null},Dt.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function t0(i,o,u,f){o.value=u,o.getSnapshot=f,r0(o)&&i0(i)}function n0(i,o,u){return u(function(){r0(o)&&i0(i)})}function r0(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Or(i,u)}catch{return!0}}function i0(i){var o=Gi(i,1);o!==null&&Br(o,i,1,-1)}function s0(i){var o=fi();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tu,lastRenderedState:i},o.queue=i,i=i.dispatch=TC.bind(null,Dt,i),[o.memoizedState,i]}function nu(i,o,u,f){return i={tag:i,create:o,destroy:u,deps:f,next:null},o=Dt.updateQueue,o===null?(o={lastEffect:null,stores:null},Dt.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,o.lastEffect=i)),i}function o0(){return Er().memoizedState}function Zc(i,o,u,f){var m=fi();Dt.flags|=i,m.memoizedState=nu(1|o,u,void 0,f===void 0?null:f)}function eh(i,o,u,f){var m=Er();f=f===void 0?null:f;var v=void 0;if(Zt!==null){var I=Zt.memoizedState;if(v=I.destroy,f!==null&&Bf(f,I.deps)){m.memoizedState=nu(o,u,v,f);return}}Dt.flags|=i,m.memoizedState=nu(1|o,u,v,f)}function a0(i,o){return Zc(8390656,8,i,o)}function Kf(i,o){return eh(2048,8,i,o)}function l0(i,o){return eh(4,2,i,o)}function u0(i,o){return eh(4,4,i,o)}function c0(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function h0(i,o,u){return u=u!=null?u.concat([i]):null,eh(4,4,c0.bind(null,o,i),u)}function qf(){}function d0(i,o){var u=Er();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Bf(o,f[1])?f[0]:(u.memoizedState=[i,o],i)}function f0(i,o){var u=Er();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Bf(o,f[1])?f[0]:(i=i(),u.memoizedState=[i,o],i)}function p0(i,o,u){return(Lo&21)===0?(i.baseState&&(i.baseState=!1,Jn=!0),i.memoizedState=u):(Or(u,o)||(u=Rl(),Dt.lanes|=u,Vo|=u,i.baseState=!0),o)}function xC(i,o){var u=ot;ot=u!==0&&4>u?u:4,i(!0);var f=zf.transition;zf.transition={};try{i(!1),o()}finally{ot=u,zf.transition=f}}function m0(){return Er().memoizedState}function EC(i,o,u){var f=ks(i);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},g0(i))y0(o,u);else if(u=Kv(i,o,u,f),u!==null){var m=Un();Br(u,i,f,m),v0(u,o,f)}}function TC(i,o,u){var f=ks(i),m={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(g0(i))y0(o,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var I=o.lastRenderedState,M=v(I,u);if(m.hasEagerState=!0,m.eagerState=M,Or(M,I)){var j=o.interleaved;j===null?(m.next=m,Lf(o)):(m.next=j.next,j.next=m),o.interleaved=m;return}}catch{}finally{}u=Kv(i,o,m,f),u!==null&&(m=Un(),Br(u,i,f,m),v0(u,o,f))}}function g0(i){var o=i.alternate;return i===Dt||o!==null&&o===Dt}function y0(i,o){Zl=Jc=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function v0(i,o,u){if((u&4194240)!==0){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,kl(i,u)}}var th={readContext:xr,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useInsertionEffect:bn,useLayoutEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useMutableSource:bn,useSyncExternalStore:bn,useId:bn,unstable_isNewReconciler:!1},SC={readContext:xr,useCallback:function(i,o){return fi().memoizedState=[i,o===void 0?null:o],i},useContext:xr,useEffect:a0,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,Zc(4194308,4,c0.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Zc(4194308,4,i,o)},useInsertionEffect:function(i,o){return Zc(4,2,i,o)},useMemo:function(i,o){var u=fi();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var f=fi();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},f.queue=i,i=i.dispatch=EC.bind(null,Dt,i),[f.memoizedState,i]},useRef:function(i){var o=fi();return i={current:i},o.memoizedState=i},useState:s0,useDebugValue:qf,useDeferredValue:function(i){return fi().memoizedState=i},useTransition:function(){var i=s0(!1),o=i[0];return i=xC.bind(null,i[1]),fi().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var f=Dt,m=fi();if(At){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),un===null)throw Error(n(349));(Lo&30)!==0||e0(f,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,a0(n0.bind(null,f,v,i),[i]),f.flags|=2048,nu(9,t0.bind(null,f,v,u,o),void 0,null),u},useId:function(){var i=fi(),o=un.identifierPrefix;if(At){var u=Wi,f=Hi;u=(f&~(1<<32-gt(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=eu++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=_C++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},IC={readContext:xr,useCallback:d0,useContext:xr,useEffect:Kf,useImperativeHandle:h0,useInsertionEffect:l0,useLayoutEffect:u0,useMemo:f0,useReducer:Wf,useRef:o0,useState:function(){return Wf(tu)},useDebugValue:qf,useDeferredValue:function(i){var o=Er();return p0(o,Zt.memoizedState,i)},useTransition:function(){var i=Wf(tu)[0],o=Er().memoizedState;return[i,o]},useMutableSource:Jv,useSyncExternalStore:Zv,useId:m0,unstable_isNewReconciler:!1},bC={readContext:xr,useCallback:d0,useContext:xr,useEffect:Kf,useImperativeHandle:h0,useInsertionEffect:l0,useLayoutEffect:u0,useMemo:f0,useReducer:Gf,useRef:o0,useState:function(){return Gf(tu)},useDebugValue:qf,useDeferredValue:function(i){var o=Er();return Zt===null?o.memoizedState=i:p0(o,Zt.memoizedState,i)},useTransition:function(){var i=Gf(tu)[0],o=Er().memoizedState;return[i,o]},useMutableSource:Jv,useSyncExternalStore:Zv,useId:m0,unstable_isNewReconciler:!1};function Fr(i,o){if(i&&i.defaultProps){o=re({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function Qf(i,o,u,f){o=i.memoizedState,u=u(f,o),u=u==null?o:re({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var nh={isMounted:function(i){return(i=i._reactInternals)?Ee(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var f=Un(),m=ks(i),v=Ki(f,m);v.payload=o,u!=null&&(v.callback=u),o=bs(i,v,m),o!==null&&(Br(o,i,m,f),qc(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var f=Un(),m=ks(i),v=Ki(f,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=bs(i,v,m),o!==null&&(Br(o,i,m,f),qc(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Un(),f=ks(i),m=Ki(u,f);m.tag=2,o!=null&&(m.callback=o),o=bs(i,m,f),o!==null&&(Br(o,i,f,u),qc(o,i,f))}};function w0(i,o,u,f,m,v,I){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,v,I):o.prototype&&o.prototype.isPureReactComponent?!Bl(u,f)||!Bl(m,v):!0}function _0(i,o,u){var f=!1,m=Ts,v=o.contextType;return typeof v=="object"&&v!==null?v=xr(v):(m=Xn(o)?ko:In.current,f=o.contextTypes,v=(f=f!=null)?ka(i,m):Ts),o=new o(u,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=nh,i.stateNode=o,o._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),o}function x0(i,o,u,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==i&&nh.enqueueReplaceState(o,o.state,null)}function Yf(i,o,u,f){var m=i.stateNode;m.props=u,m.state=i.memoizedState,m.refs={},Vf(i);var v=o.contextType;typeof v=="object"&&v!==null?m.context=xr(v):(v=Xn(o)?ko:In.current,m.context=ka(i,v)),m.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Qf(i,o,v,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&nh.enqueueReplaceState(m,m.state,null),Qc(i,u,m,f),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function ja(i,o){try{var u="",f=o;do u+=be(f),f=f.return;while(f);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:m,digest:null}}function Xf(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function Jf(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var CC=typeof WeakMap=="function"?WeakMap:Map;function E0(i,o,u){u=Ki(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){uh||(uh=!0,fp=f),Jf(i,o)},u}function T0(i,o,u){u=Ki(-1,u),u.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;u.payload=function(){return f(m)},u.callback=function(){Jf(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){Jf(i,o),typeof f!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var I=o.stack;this.componentDidCatch(o.value,{componentStack:I!==null?I:""})}),u}function S0(i,o,u){var f=i.pingCache;if(f===null){f=i.pingCache=new CC;var m=new Set;f.set(o,m)}else m=f.get(o),m===void 0&&(m=new Set,f.set(o,m));m.has(u)||(m.add(u),i=zC.bind(null,i,o,u),o.then(i,i))}function I0(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function b0(i,o,u,f,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=Ki(-1,1),o.tag=2,bs(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var RC=Q.ReactCurrentOwner,Jn=!1;function Fn(i,o,u,f){o.child=i===null?Gv(o,null,u,f):Ma(o,i.child,u,f)}function C0(i,o,u,f,m){u=u.render;var v=o.ref;return Va(o,m),f=$f(i,o,u,f,v,m),u=Hf(),i!==null&&!Jn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,qi(i,o,m)):(At&&u&&bf(o),o.flags|=1,Fn(i,o,f,m),o.child)}function R0(i,o,u,f,m){if(i===null){var v=u.type;return typeof v=="function"&&!_p(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,A0(i,o,v,f,m)):(i=mh(u.type,null,f,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,(i.lanes&m)===0){var I=v.memoizedProps;if(u=u.compare,u=u!==null?u:Bl,u(I,f)&&i.ref===o.ref)return qi(i,o,m)}return o.flags|=1,i=Ns(v,f),i.ref=o.ref,i.return=o,o.child=i}function A0(i,o,u,f,m){if(i!==null){var v=i.memoizedProps;if(Bl(v,f)&&i.ref===o.ref)if(Jn=!1,o.pendingProps=f=v,(i.lanes&m)!==0)(i.flags&131072)!==0&&(Jn=!0);else return o.lanes=i.lanes,qi(i,o,m)}return Zf(i,o,u,f,m)}function k0(i,o,u){var f=o.pendingProps,m=f.children,v=i!==null?i.memoizedState:null;if(f.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(Ua,pr),pr|=u;else{if((u&1073741824)===0)return i=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,xt(Ua,pr),pr|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:u,xt(Ua,pr),pr|=f}else v!==null?(f=v.baseLanes|u,o.memoizedState=null):f=u,xt(Ua,pr),pr|=f;return Fn(i,o,m,u),o.child}function P0(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Zf(i,o,u,f,m){var v=Xn(u)?ko:In.current;return v=ka(o,v),Va(o,m),u=$f(i,o,u,f,v,m),f=Hf(),i!==null&&!Jn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,qi(i,o,m)):(At&&f&&bf(o),o.flags|=1,Fn(i,o,u,m),o.child)}function N0(i,o,u,f,m){if(Xn(u)){var v=!0;Uc(o)}else v=!1;if(Va(o,m),o.stateNode===null)ih(i,o),_0(o,u,f),Yf(o,u,f,m),f=!0;else if(i===null){var I=o.stateNode,M=o.memoizedProps;I.props=M;var j=I.context,J=u.contextType;typeof J=="object"&&J!==null?J=xr(J):(J=Xn(u)?ko:In.current,J=ka(o,J));var ae=u.getDerivedStateFromProps,le=typeof ae=="function"||typeof I.getSnapshotBeforeUpdate=="function";le||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(M!==f||j!==J)&&x0(o,I,f,J),Is=!1;var oe=o.memoizedState;I.state=oe,Qc(o,f,I,m),j=o.memoizedState,M!==f||oe!==j||Yn.current||Is?(typeof ae=="function"&&(Qf(o,u,ae,f),j=o.memoizedState),(M=Is||w0(o,u,M,f,oe,j,J))?(le||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(o.flags|=4194308)):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=j),I.props=f,I.state=j,I.context=J,f=M):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{I=o.stateNode,qv(i,o),M=o.memoizedProps,J=o.type===o.elementType?M:Fr(o.type,M),I.props=J,le=o.pendingProps,oe=I.context,j=u.contextType,typeof j=="object"&&j!==null?j=xr(j):(j=Xn(u)?ko:In.current,j=ka(o,j));var ve=u.getDerivedStateFromProps;(ae=typeof ve=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(M!==le||oe!==j)&&x0(o,I,f,j),Is=!1,oe=o.memoizedState,I.state=oe,Qc(o,f,I,m);var Ce=o.memoizedState;M!==le||oe!==Ce||Yn.current||Is?(typeof ve=="function"&&(Qf(o,u,ve,f),Ce=o.memoizedState),(J=Is||w0(o,u,J,f,oe,Ce,j)||!1)?(ae||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(f,Ce,j),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(f,Ce,j)),typeof I.componentDidUpdate=="function"&&(o.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof I.componentDidUpdate!="function"||M===i.memoizedProps&&oe===i.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&oe===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=Ce),I.props=f,I.state=Ce,I.context=j,f=J):(typeof I.componentDidUpdate!="function"||M===i.memoizedProps&&oe===i.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&oe===i.memoizedState||(o.flags|=1024),f=!1)}return ep(i,o,u,f,v,m)}function ep(i,o,u,f,m,v){P0(i,o);var I=(o.flags&128)!==0;if(!f&&!I)return m&&Ov(o,u,!1),qi(i,o,v);f=o.stateNode,RC.current=o;var M=I&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,i!==null&&I?(o.child=Ma(o,i.child,null,v),o.child=Ma(o,null,M,v)):Fn(i,o,M,v),o.memoizedState=f.state,m&&Ov(o,u,!0),o.child}function D0(i){var o=i.stateNode;o.pendingContext?Lv(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Lv(i,o.context,!1),Of(i,o.containerInfo)}function M0(i,o,u,f,m){return Da(),kf(m),o.flags|=256,Fn(i,o,u,f),o.child}var tp={dehydrated:null,treeContext:null,retryLane:0};function np(i){return{baseLanes:i,cachePool:null,transitions:null}}function L0(i,o,u){var f=o.pendingProps,m=Nt.current,v=!1,I=(o.flags&128)!==0,M;if((M=I)||(M=i!==null&&i.memoizedState===null?!1:(m&2)!==0),M?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),xt(Nt,m&1),i===null)return Af(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(I=f.children,i=f.fallback,v?(f=o.mode,v=o.child,I={mode:"hidden",children:I},(f&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=I):v=gh(I,f,0,null),i=Uo(i,f,u,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=np(u),o.memoizedState=tp,i):rp(o,I));if(m=i.memoizedState,m!==null&&(M=m.dehydrated,M!==null))return AC(i,o,I,f,M,m,u);if(v){v=f.fallback,I=o.mode,m=i.child,M=m.sibling;var j={mode:"hidden",children:f.children};return(I&1)===0&&o.child!==m?(f=o.child,f.childLanes=0,f.pendingProps=j,o.deletions=null):(f=Ns(m,j),f.subtreeFlags=m.subtreeFlags&14680064),M!==null?v=Ns(M,v):(v=Uo(v,I,u,null),v.flags|=2),v.return=o,f.return=o,f.sibling=v,o.child=f,f=v,v=o.child,I=i.child.memoizedState,I=I===null?np(u):{baseLanes:I.baseLanes|u,cachePool:null,transitions:I.transitions},v.memoizedState=I,v.childLanes=i.childLanes&~u,o.memoizedState=tp,f}return v=i.child,i=v.sibling,f=Ns(v,{mode:"visible",children:f.children}),(o.mode&1)===0&&(f.lanes=u),f.return=o,f.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=f,o.memoizedState=null,f}function rp(i,o){return o=gh({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function rh(i,o,u,f){return f!==null&&kf(f),Ma(o,i.child,null,u),i=rp(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function AC(i,o,u,f,m,v,I){if(u)return o.flags&256?(o.flags&=-257,f=Xf(Error(n(422))),rh(i,o,I,f)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=f.fallback,m=o.mode,f=gh({mode:"visible",children:f.children},m,0,null),v=Uo(v,m,I,null),v.flags|=2,f.return=o,v.return=o,f.sibling=v,o.child=f,(o.mode&1)!==0&&Ma(o,i.child,null,I),o.child.memoizedState=np(I),o.memoizedState=tp,v);if((o.mode&1)===0)return rh(i,o,I,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var M=f.dgst;return f=M,v=Error(n(419)),f=Xf(v,f,void 0),rh(i,o,I,f)}if(M=(I&i.childLanes)!==0,Jn||M){if(f=un,f!==null){switch(I&-I){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(f.suspendedLanes|I))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Gi(i,m),Br(f,i,m,-1))}return wp(),f=Xf(Error(n(421))),rh(i,o,I,f)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=BC.bind(null,i),m._reactRetry=o,null):(i=v.treeContext,fr=xs(m.nextSibling),dr=o,At=!0,jr=null,i!==null&&(wr[_r++]=Hi,wr[_r++]=Wi,wr[_r++]=Po,Hi=i.id,Wi=i.overflow,Po=o),o=rp(o,f.children),o.flags|=4096,o)}function V0(i,o,u){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),Mf(i.return,o,u)}function ip(i,o,u,f,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=u,v.tailMode=m)}function O0(i,o,u){var f=o.pendingProps,m=f.revealOrder,v=f.tail;if(Fn(i,o,f.children,u),f=Nt.current,(f&2)!==0)f=f&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&V0(i,u,o);else if(i.tag===19)V0(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(xt(Nt,f),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)i=u.alternate,i!==null&&Yc(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),ip(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Yc(i)===null){o.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}ip(o,!0,u,null,v);break;case"together":ip(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ih(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function qi(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Vo|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=Ns(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Ns(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function kC(i,o,u){switch(o.tag){case 3:D0(o),Da();break;case 5:Xv(o);break;case 1:Xn(o.type)&&Uc(o);break;case 4:Of(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,m=o.memoizedProps.value;xt(Gc,f._currentValue),f._currentValue=m;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(xt(Nt,Nt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?L0(i,o,u):(xt(Nt,Nt.current&1),i=qi(i,o,u),i!==null?i.sibling:null);xt(Nt,Nt.current&1);break;case 19:if(f=(u&o.childLanes)!==0,(i.flags&128)!==0){if(f)return O0(i,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),xt(Nt,Nt.current),f)break;return null;case 22:case 23:return o.lanes=0,k0(i,o,u)}return qi(i,o,u)}var j0,sp,F0,U0;j0=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},sp=function(){},F0=function(i,o,u,f){var m=i.memoizedProps;if(m!==f){i=o.stateNode,Mo(di.current);var v=null;switch(u){case"input":m=or(i,m),f=or(i,f),v=[];break;case"select":m=re({},m,{value:void 0}),f=re({},f,{value:void 0}),v=[];break;case"textarea":m=yo(i,m),f=yo(i,f),v=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=Oc)}Kn(u,f);var I;u=null;for(J in m)if(!f.hasOwnProperty(J)&&m.hasOwnProperty(J)&&m[J]!=null)if(J==="style"){var M=m[J];for(I in M)M.hasOwnProperty(I)&&(u||(u={}),u[I]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(s.hasOwnProperty(J)?v||(v=[]):(v=v||[]).push(J,null));for(J in f){var j=f[J];if(M=m!=null?m[J]:void 0,f.hasOwnProperty(J)&&j!==M&&(j!=null||M!=null))if(J==="style")if(M){for(I in M)!M.hasOwnProperty(I)||j&&j.hasOwnProperty(I)||(u||(u={}),u[I]="");for(I in j)j.hasOwnProperty(I)&&M[I]!==j[I]&&(u||(u={}),u[I]=j[I])}else u||(v||(v=[]),v.push(J,u)),u=j;else J==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,M=M?M.__html:void 0,j!=null&&M!==j&&(v=v||[]).push(J,j)):J==="children"?typeof j!="string"&&typeof j!="number"||(v=v||[]).push(J,""+j):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(s.hasOwnProperty(J)?(j!=null&&J==="onScroll"&&St("scroll",i),v||M===j||(v=[])):(v=v||[]).push(J,j))}u&&(v=v||[]).push("style",u);var J=v;(o.updateQueue=J)&&(o.flags|=4)}},U0=function(i,o,u,f){u!==f&&(o.flags|=4)};function ru(i,o){if(!At)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Cn(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(o)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=f,i.childLanes=u,o}function PC(i,o,u){var f=o.pendingProps;switch(Cf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(o),null;case 1:return Xn(o.type)&&Fc(),Cn(o),null;case 3:return f=o.stateNode,Oa(),It(Yn),It(In),Uf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(Hc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,jr!==null&&(gp(jr),jr=null))),sp(i,o),Cn(o),null;case 5:jf(o);var m=Mo(Jl.current);if(u=o.type,i!==null&&o.stateNode!=null)F0(i,o,u,f,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(n(166));return Cn(o),null}if(i=Mo(di.current),Hc(o)){f=o.stateNode,u=o.type;var v=o.memoizedProps;switch(f[hi]=o,f[Kl]=v,i=(o.mode&1)!==0,u){case"dialog":St("cancel",f),St("close",f);break;case"iframe":case"object":case"embed":St("load",f);break;case"video":case"audio":for(m=0;m<Hl.length;m++)St(Hl[m],f);break;case"source":St("error",f);break;case"img":case"image":case"link":St("error",f),St("load",f);break;case"details":St("toggle",f);break;case"input":ha(f,v),St("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},St("invalid",f);break;case"textarea":vo(f,v),St("invalid",f)}Kn(u,v),m=null;for(var I in v)if(v.hasOwnProperty(I)){var M=v[I];I==="children"?typeof M=="string"?f.textContent!==M&&(v.suppressHydrationWarning!==!0&&Vc(f.textContent,M,i),m=["children",M]):typeof M=="number"&&f.textContent!==""+M&&(v.suppressHydrationWarning!==!0&&Vc(f.textContent,M,i),m=["children",""+M]):s.hasOwnProperty(I)&&M!=null&&I==="onScroll"&&St("scroll",f)}switch(u){case"input":xn(f),go(f,v,!0);break;case"textarea":xn(f),Wn(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=Oc)}f=m,o.updateQueue=f,f!==null&&(o.flags|=4)}else{I=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=ds(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=I.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=I.createElement(u,{is:f.is}):(i=I.createElement(u),u==="select"&&(I=i,f.multiple?I.multiple=!0:f.size&&(I.size=f.size))):i=I.createElementNS(i,u),i[hi]=o,i[Kl]=f,j0(i,o,!1,!1),o.stateNode=i;e:{switch(I=Pi(u,f),u){case"dialog":St("cancel",i),St("close",i),m=f;break;case"iframe":case"object":case"embed":St("load",i),m=f;break;case"video":case"audio":for(m=0;m<Hl.length;m++)St(Hl[m],i);m=f;break;case"source":St("error",i),m=f;break;case"img":case"image":case"link":St("error",i),St("load",i),m=f;break;case"details":St("toggle",i),m=f;break;case"input":ha(i,f),m=or(i,f),St("invalid",i);break;case"option":m=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},m=re({},f,{value:void 0}),St("invalid",i);break;case"textarea":vo(i,f),m=yo(i,f),St("invalid",i);break;default:m=f}Kn(u,m),M=m;for(v in M)if(M.hasOwnProperty(v)){var j=M[v];v==="style"?En(i,j):v==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&Gn(i,j)):v==="children"?typeof j=="string"?(u!=="textarea"||j!=="")&&Qr(i,j):typeof j=="number"&&Qr(i,""+j):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?j!=null&&v==="onScroll"&&St("scroll",i):j!=null&&W(i,v,j,I))}switch(u){case"input":xn(i),go(i,f,!1);break;case"textarea":xn(i),Wn(i);break;case"option":f.value!=null&&i.setAttribute("value",""+_e(f.value));break;case"select":i.multiple=!!f.multiple,v=f.value,v!=null?ar(i,!!f.multiple,v,!1):f.defaultValue!=null&&ar(i,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=Oc)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Cn(o),null;case 6:if(i&&o.stateNode!=null)U0(i,o,i.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(u=Mo(Jl.current),Mo(di.current),Hc(o)){if(f=o.stateNode,u=o.memoizedProps,f[hi]=o,(v=f.nodeValue!==u)&&(i=dr,i!==null))switch(i.tag){case 3:Vc(f.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Vc(f.nodeValue,u,(i.mode&1)!==0)}v&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[hi]=o,o.stateNode=f}return Cn(o),null;case 13:if(It(Nt),f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(At&&fr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)$v(),Da(),o.flags|=98560,v=!1;else if(v=Hc(o),f!==null&&f.dehydrated!==null){if(i===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[hi]=o}else Da(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Cn(o),v=!1}else jr!==null&&(gp(jr),jr=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(Nt.current&1)!==0?en===0&&(en=3):wp())),o.updateQueue!==null&&(o.flags|=4),Cn(o),null);case 4:return Oa(),sp(i,o),i===null&&Wl(o.stateNode.containerInfo),Cn(o),null;case 10:return Df(o.type._context),Cn(o),null;case 17:return Xn(o.type)&&Fc(),Cn(o),null;case 19:if(It(Nt),v=o.memoizedState,v===null)return Cn(o),null;if(f=(o.flags&128)!==0,I=v.rendering,I===null)if(f)ru(v,!1);else{if(en!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(I=Yc(i),I!==null){for(o.flags|=128,ru(v,!1),f=I.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)v=u,i=f,v.flags&=14680066,I=v.alternate,I===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=I.childLanes,v.lanes=I.lanes,v.child=I.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=I.memoizedProps,v.memoizedState=I.memoizedState,v.updateQueue=I.updateQueue,v.type=I.type,i=I.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return xt(Nt,Nt.current&1|2),o.child}i=i.sibling}v.tail!==null&&ct()>za&&(o.flags|=128,f=!0,ru(v,!1),o.lanes=4194304)}else{if(!f)if(i=Yc(I),i!==null){if(o.flags|=128,f=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),ru(v,!0),v.tail===null&&v.tailMode==="hidden"&&!I.alternate&&!At)return Cn(o),null}else 2*ct()-v.renderingStartTime>za&&u!==1073741824&&(o.flags|=128,f=!0,ru(v,!1),o.lanes=4194304);v.isBackwards?(I.sibling=o.child,o.child=I):(u=v.last,u!==null?u.sibling=I:o.child=I,v.last=I)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=ct(),o.sibling=null,u=Nt.current,xt(Nt,f?u&1|2:u&1),o):(Cn(o),null);case 22:case 23:return vp(),f=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(o.flags|=8192),f&&(o.mode&1)!==0?(pr&1073741824)!==0&&(Cn(o),o.subtreeFlags&6&&(o.flags|=8192)):Cn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function NC(i,o){switch(Cf(o),o.tag){case 1:return Xn(o.type)&&Fc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Oa(),It(Yn),It(In),Uf(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return jf(o),null;case 13:if(It(Nt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Da()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return It(Nt),null;case 4:return Oa(),null;case 10:return Df(o.type._context),null;case 22:case 23:return vp(),null;case 24:return null;default:return null}}var sh=!1,Rn=!1,DC=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Fa(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){Ft(i,o,f)}else u.current=null}function op(i,o,u){try{u()}catch(f){Ft(i,o,f)}}var z0=!1;function MC(i,o){if(vf=Fi,i=wv(),cf(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var I=0,M=-1,j=-1,J=0,ae=0,le=i,oe=null;t:for(;;){for(var ve;le!==u||m!==0&&le.nodeType!==3||(M=I+m),le!==v||f!==0&&le.nodeType!==3||(j=I+f),le.nodeType===3&&(I+=le.nodeValue.length),(ve=le.firstChild)!==null;)oe=le,le=ve;for(;;){if(le===i)break t;if(oe===u&&++J===m&&(M=I),oe===v&&++ae===f&&(j=I),(ve=le.nextSibling)!==null)break;le=oe,oe=le.parentNode}le=ve}u=M===-1||j===-1?null:{start:M,end:j}}else u=null}u=u||{start:0,end:0}}else u=null;for(wf={focusedElem:i,selectionRange:u},Fi=!1,Ie=o;Ie!==null;)if(o=Ie,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Ie=i;else for(;Ie!==null;){o=Ie;try{var Ce=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var Pe=Ce.memoizedProps,Bt=Ce.memoizedState,K=o.stateNode,$=K.getSnapshotBeforeUpdate(o.elementType===o.type?Pe:Fr(o.type,Pe),Bt);K.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var X=o.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ce){Ft(o,o.return,ce)}if(i=o.sibling,i!==null){i.return=o.return,Ie=i;break}Ie=o.return}return Ce=z0,z0=!1,Ce}function iu(i,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&op(o,u,v)}m=m.next}while(m!==f)}}function oh(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function ap(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function B0(i){var o=i.alternate;o!==null&&(i.alternate=null,B0(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[hi],delete o[Kl],delete o[Tf],delete o[gC],delete o[yC])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function $0(i){return i.tag===5||i.tag===3||i.tag===4}function H0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||$0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function lp(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Oc));else if(f!==4&&(i=i.child,i!==null))for(lp(i,o,u),i=i.sibling;i!==null;)lp(i,o,u),i=i.sibling}function up(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(up(i,o,u),i=i.sibling;i!==null;)up(i,o,u),i=i.sibling}var mn=null,Ur=!1;function Cs(i,o,u){for(u=u.child;u!==null;)W0(i,o,u),u=u.sibling}function W0(i,o,u){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(vr,u)}catch{}switch(u.tag){case 5:Rn||Fa(u,o);case 6:var f=mn,m=Ur;mn=null,Cs(i,o,u),mn=f,Ur=m,mn!==null&&(Ur?(i=mn,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):mn.removeChild(u.stateNode));break;case 18:mn!==null&&(Ur?(i=mn,u=u.stateNode,i.nodeType===8?Ef(i.parentNode,u):i.nodeType===1&&Ef(i,u),ys(i)):Ef(mn,u.stateNode));break;case 4:f=mn,m=Ur,mn=u.stateNode.containerInfo,Ur=!0,Cs(i,o,u),mn=f,Ur=m;break;case 0:case 11:case 14:case 15:if(!Rn&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var v=m,I=v.destroy;v=v.tag,I!==void 0&&((v&2)!==0||(v&4)!==0)&&op(u,o,I),m=m.next}while(m!==f)}Cs(i,o,u);break;case 1:if(!Rn&&(Fa(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(M){Ft(u,o,M)}Cs(i,o,u);break;case 21:Cs(i,o,u);break;case 22:u.mode&1?(Rn=(f=Rn)||u.memoizedState!==null,Cs(i,o,u),Rn=f):Cs(i,o,u);break;default:Cs(i,o,u)}}function G0(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new DC),o.forEach(function(f){var m=$C.bind(null,i,f);u.has(f)||(u.add(f),f.then(m,m))})}}function zr(i,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f];try{var v=i,I=o,M=I;e:for(;M!==null;){switch(M.tag){case 5:mn=M.stateNode,Ur=!1;break e;case 3:mn=M.stateNode.containerInfo,Ur=!0;break e;case 4:mn=M.stateNode.containerInfo,Ur=!0;break e}M=M.return}if(mn===null)throw Error(n(160));W0(v,I,m),mn=null,Ur=!1;var j=m.alternate;j!==null&&(j.return=null),m.return=null}catch(J){Ft(m,o,J)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)K0(o,i),o=o.sibling}function K0(i,o){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(zr(o,i),pi(i),f&4){try{iu(3,i,i.return),oh(3,i)}catch(Pe){Ft(i,i.return,Pe)}try{iu(5,i,i.return)}catch(Pe){Ft(i,i.return,Pe)}}break;case 1:zr(o,i),pi(i),f&512&&u!==null&&Fa(u,u.return);break;case 5:if(zr(o,i),pi(i),f&512&&u!==null&&Fa(u,u.return),i.flags&32){var m=i.stateNode;try{Qr(m,"")}catch(Pe){Ft(i,i.return,Pe)}}if(f&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,I=u!==null?u.memoizedProps:v,M=i.type,j=i.updateQueue;if(i.updateQueue=null,j!==null)try{M==="input"&&v.type==="radio"&&v.name!=null&&Hn(m,v),Pi(M,I);var J=Pi(M,v);for(I=0;I<j.length;I+=2){var ae=j[I],le=j[I+1];ae==="style"?En(m,le):ae==="dangerouslySetInnerHTML"?Gn(m,le):ae==="children"?Qr(m,le):W(m,ae,le,J)}switch(M){case"input":ki(m,v);break;case"textarea":gr(m,v);break;case"select":var oe=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var ve=v.value;ve!=null?ar(m,!!v.multiple,ve,!1):oe!==!!v.multiple&&(v.defaultValue!=null?ar(m,!!v.multiple,v.defaultValue,!0):ar(m,!!v.multiple,v.multiple?[]:"",!1))}m[Kl]=v}catch(Pe){Ft(i,i.return,Pe)}}break;case 6:if(zr(o,i),pi(i),f&4){if(i.stateNode===null)throw Error(n(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(Pe){Ft(i,i.return,Pe)}}break;case 3:if(zr(o,i),pi(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{ys(o.containerInfo)}catch(Pe){Ft(i,i.return,Pe)}break;case 4:zr(o,i),pi(i);break;case 13:zr(o,i),pi(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(dp=ct())),f&4&&G0(i);break;case 22:if(ae=u!==null&&u.memoizedState!==null,i.mode&1?(Rn=(J=Rn)||ae,zr(o,i),Rn=J):zr(o,i),pi(i),f&8192){if(J=i.memoizedState!==null,(i.stateNode.isHidden=J)&&!ae&&(i.mode&1)!==0)for(Ie=i,ae=i.child;ae!==null;){for(le=Ie=ae;Ie!==null;){switch(oe=Ie,ve=oe.child,oe.tag){case 0:case 11:case 14:case 15:iu(4,oe,oe.return);break;case 1:Fa(oe,oe.return);var Ce=oe.stateNode;if(typeof Ce.componentWillUnmount=="function"){f=oe,u=oe.return;try{o=f,Ce.props=o.memoizedProps,Ce.state=o.memoizedState,Ce.componentWillUnmount()}catch(Pe){Ft(f,u,Pe)}}break;case 5:Fa(oe,oe.return);break;case 22:if(oe.memoizedState!==null){Y0(le);continue}}ve!==null?(ve.return=oe,Ie=ve):Y0(le)}ae=ae.sibling}e:for(ae=null,le=i;;){if(le.tag===5){if(ae===null){ae=le;try{m=le.stateNode,J?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(M=le.stateNode,j=le.memoizedProps.style,I=j!=null&&j.hasOwnProperty("display")?j.display:null,M.style.display=Xr("display",I))}catch(Pe){Ft(i,i.return,Pe)}}}else if(le.tag===6){if(ae===null)try{le.stateNode.nodeValue=J?"":le.memoizedProps}catch(Pe){Ft(i,i.return,Pe)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===i)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===i)break e;for(;le.sibling===null;){if(le.return===null||le.return===i)break e;ae===le&&(ae=null),le=le.return}ae===le&&(ae=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:zr(o,i),pi(i),f&4&&G0(i);break;case 21:break;default:zr(o,i),pi(i)}}function pi(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if($0(u)){var f=u;break e}u=u.return}throw Error(n(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(Qr(m,""),f.flags&=-33);var v=H0(i);up(i,v,m);break;case 3:case 4:var I=f.stateNode.containerInfo,M=H0(i);lp(i,M,I);break;default:throw Error(n(161))}}catch(j){Ft(i,i.return,j)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function LC(i,o,u){Ie=i,q0(i)}function q0(i,o,u){for(var f=(i.mode&1)!==0;Ie!==null;){var m=Ie,v=m.child;if(m.tag===22&&f){var I=m.memoizedState!==null||sh;if(!I){var M=m.alternate,j=M!==null&&M.memoizedState!==null||Rn;M=sh;var J=Rn;if(sh=I,(Rn=j)&&!J)for(Ie=m;Ie!==null;)I=Ie,j=I.child,I.tag===22&&I.memoizedState!==null?X0(m):j!==null?(j.return=I,Ie=j):X0(m);for(;v!==null;)Ie=v,q0(v),v=v.sibling;Ie=m,sh=M,Rn=J}Q0(i)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,Ie=v):Q0(i)}}function Q0(i){for(;Ie!==null;){var o=Ie;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Rn||oh(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Rn)if(u===null)f.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:Fr(o.type,u.memoizedProps);f.componentDidUpdate(m,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&Yv(o,v,f);break;case 3:var I=o.updateQueue;if(I!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Yv(o,I,u)}break;case 5:var M=o.stateNode;if(u===null&&o.flags&4){u=M;var j=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&u.focus();break;case"img":j.src&&(u.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var J=o.alternate;if(J!==null){var ae=J.memoizedState;if(ae!==null){var le=ae.dehydrated;le!==null&&ys(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Rn||o.flags&512&&ap(o)}catch(oe){Ft(o,o.return,oe)}}if(o===i){Ie=null;break}if(u=o.sibling,u!==null){u.return=o.return,Ie=u;break}Ie=o.return}}function Y0(i){for(;Ie!==null;){var o=Ie;if(o===i){Ie=null;break}var u=o.sibling;if(u!==null){u.return=o.return,Ie=u;break}Ie=o.return}}function X0(i){for(;Ie!==null;){var o=Ie;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{oh(4,o)}catch(j){Ft(o,u,j)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var m=o.return;try{f.componentDidMount()}catch(j){Ft(o,m,j)}}var v=o.return;try{ap(o)}catch(j){Ft(o,v,j)}break;case 5:var I=o.return;try{ap(o)}catch(j){Ft(o,I,j)}}}catch(j){Ft(o,o.return,j)}if(o===i){Ie=null;break}var M=o.sibling;if(M!==null){M.return=o.return,Ie=M;break}Ie=o.return}}var VC=Math.ceil,ah=Q.ReactCurrentDispatcher,cp=Q.ReactCurrentOwner,Tr=Q.ReactCurrentBatchConfig,dt=0,un=null,Kt=null,gn=0,pr=0,Ua=Es(0),en=0,su=null,Vo=0,lh=0,hp=0,ou=null,Zn=null,dp=0,za=1/0,Qi=null,uh=!1,fp=null,Rs=null,ch=!1,As=null,hh=0,au=0,pp=null,dh=-1,fh=0;function Un(){return(dt&6)!==0?ct():dh!==-1?dh:dh=ct()}function ks(i){return(i.mode&1)===0?1:(dt&2)!==0&&gn!==0?gn&-gn:wC.transition!==null?(fh===0&&(fh=Rl()),fh):(i=ot,i!==0||(i=window.event,i=i===void 0?16:ga(i.type)),i)}function Br(i,o,u,f){if(50<au)throw au=0,pp=null,Error(n(185));So(i,u,f),((dt&2)===0||i!==un)&&(i===un&&((dt&2)===0&&(lh|=u),en===4&&Ps(i,gn)),er(i,f),u===1&&dt===0&&(o.mode&1)===0&&(za=ct()+500,zc&&Ss()))}function er(i,o){var u=i.callbackNode;To(i,o);var f=Vi(i,i===un?gn:0);if(f===0)u!==null&&Ot(u),i.callbackNode=null,i.callbackPriority=0;else if(o=f&-f,i.callbackPriority!==o){if(u!=null&&Ot(u),o===1)i.tag===0?vC(Z0.bind(null,i)):jv(Z0.bind(null,i)),pC(function(){(dt&6)===0&&Ss()}),u=null;else{switch(ti(f)){case 1:u=On;break;case 4:u=Tn;break;case 16:u=Dr;break;case 536870912:u=Qn;break;default:u=Dr}u=aw(u,J0.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function J0(i,o){if(dh=-1,fh=0,(dt&6)!==0)throw Error(n(327));var u=i.callbackNode;if(Ba()&&i.callbackNode!==u)return null;var f=Vi(i,i===un?gn:0);if(f===0)return null;if((f&30)!==0||(f&i.expiredLanes)!==0||o)o=ph(i,f);else{o=f;var m=dt;dt|=2;var v=tw();(un!==i||gn!==o)&&(Qi=null,za=ct()+500,jo(i,o));do try{FC();break}catch(M){ew(i,M)}while(!0);Nf(),ah.current=v,dt=m,Kt!==null?o=0:(un=null,gn=0,o=en)}if(o!==0){if(o===2&&(m=Cl(i),m!==0&&(f=m,o=mp(i,m))),o===1)throw u=su,jo(i,0),Ps(i,f),er(i,ct()),u;if(o===6)Ps(i,f);else{if(m=i.current.alternate,(f&30)===0&&!OC(m)&&(o=ph(i,f),o===2&&(v=Cl(i),v!==0&&(f=v,o=mp(i,v))),o===1))throw u=su,jo(i,0),Ps(i,f),er(i,ct()),u;switch(i.finishedWork=m,i.finishedLanes=f,o){case 0:case 1:throw Error(n(345));case 2:Fo(i,Zn,Qi);break;case 3:if(Ps(i,f),(f&130023424)===f&&(o=dp+500-ct(),10<o)){if(Vi(i,0)!==0)break;if(m=i.suspendedLanes,(m&f)!==f){Un(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=xf(Fo.bind(null,i,Zn,Qi),o);break}Fo(i,Zn,Qi);break;case 4:if(Ps(i,f),(f&4194240)===f)break;for(o=i.eventTimes,m=-1;0<f;){var I=31-gt(f);v=1<<I,I=o[I],I>m&&(m=I),f&=~v}if(f=m,f=ct()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*VC(f/1960))-f,10<f){i.timeoutHandle=xf(Fo.bind(null,i,Zn,Qi),f);break}Fo(i,Zn,Qi);break;case 5:Fo(i,Zn,Qi);break;default:throw Error(n(329))}}}return er(i,ct()),i.callbackNode===u?J0.bind(null,i):null}function mp(i,o){var u=ou;return i.current.memoizedState.isDehydrated&&(jo(i,o).flags|=256),i=ph(i,o),i!==2&&(o=Zn,Zn=u,o!==null&&gp(o)),i}function gp(i){Zn===null?Zn=i:Zn.push.apply(Zn,i)}function OC(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var m=u[f],v=m.getSnapshot;m=m.value;try{if(!Or(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ps(i,o){for(o&=~hp,o&=~lh,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-gt(o),f=1<<u;i[u]=-1,o&=~f}}function Z0(i){if((dt&6)!==0)throw Error(n(327));Ba();var o=Vi(i,0);if((o&1)===0)return er(i,ct()),null;var u=ph(i,o);if(i.tag!==0&&u===2){var f=Cl(i);f!==0&&(o=f,u=mp(i,f))}if(u===1)throw u=su,jo(i,0),Ps(i,o),er(i,ct()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Fo(i,Zn,Qi),er(i,ct()),null}function yp(i,o){var u=dt;dt|=1;try{return i(o)}finally{dt=u,dt===0&&(za=ct()+500,zc&&Ss())}}function Oo(i){As!==null&&As.tag===0&&(dt&6)===0&&Ba();var o=dt;dt|=1;var u=Tr.transition,f=ot;try{if(Tr.transition=null,ot=1,i)return i()}finally{ot=f,Tr.transition=u,dt=o,(dt&6)===0&&Ss()}}function vp(){pr=Ua.current,It(Ua)}function jo(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,fC(u)),Kt!==null)for(u=Kt.return;u!==null;){var f=u;switch(Cf(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Fc();break;case 3:Oa(),It(Yn),It(In),Uf();break;case 5:jf(f);break;case 4:Oa();break;case 13:It(Nt);break;case 19:It(Nt);break;case 10:Df(f.type._context);break;case 22:case 23:vp()}u=u.return}if(un=i,Kt=i=Ns(i.current,null),gn=pr=o,en=0,su=null,hp=lh=Vo=0,Zn=ou=null,Do!==null){for(o=0;o<Do.length;o++)if(u=Do[o],f=u.interleaved,f!==null){u.interleaved=null;var m=f.next,v=u.pending;if(v!==null){var I=v.next;v.next=m,f.next=I}u.pending=f}Do=null}return i}function ew(i,o){do{var u=Kt;try{if(Nf(),Xc.current=th,Jc){for(var f=Dt.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}Jc=!1}if(Lo=0,ln=Zt=Dt=null,Zl=!1,eu=0,cp.current=null,u===null||u.return===null){en=1,su=o,Kt=null;break}e:{var v=i,I=u.return,M=u,j=o;if(o=gn,M.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var J=j,ae=M,le=ae.tag;if((ae.mode&1)===0&&(le===0||le===11||le===15)){var oe=ae.alternate;oe?(ae.updateQueue=oe.updateQueue,ae.memoizedState=oe.memoizedState,ae.lanes=oe.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var ve=I0(I);if(ve!==null){ve.flags&=-257,b0(ve,I,M,v,o),ve.mode&1&&S0(v,J,o),o=ve,j=J;var Ce=o.updateQueue;if(Ce===null){var Pe=new Set;Pe.add(j),o.updateQueue=Pe}else Ce.add(j);break e}else{if((o&1)===0){S0(v,J,o),wp();break e}j=Error(n(426))}}else if(At&&M.mode&1){var Bt=I0(I);if(Bt!==null){(Bt.flags&65536)===0&&(Bt.flags|=256),b0(Bt,I,M,v,o),kf(ja(j,M));break e}}v=j=ja(j,M),en!==4&&(en=2),ou===null?ou=[v]:ou.push(v),v=I;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var K=E0(v,j,o);Qv(v,K);break e;case 1:M=j;var $=v.type,X=v.stateNode;if((v.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(Rs===null||!Rs.has(X)))){v.flags|=65536,o&=-o,v.lanes|=o;var ce=T0(v,M,o);Qv(v,ce);break e}}v=v.return}while(v!==null)}rw(u)}catch(Me){o=Me,Kt===u&&u!==null&&(Kt=u=u.return);continue}break}while(!0)}function tw(){var i=ah.current;return ah.current=th,i===null?th:i}function wp(){(en===0||en===3||en===2)&&(en=4),un===null||(Vo&268435455)===0&&(lh&268435455)===0||Ps(un,gn)}function ph(i,o){var u=dt;dt|=2;var f=tw();(un!==i||gn!==o)&&(Qi=null,jo(i,o));do try{jC();break}catch(m){ew(i,m)}while(!0);if(Nf(),dt=u,ah.current=f,Kt!==null)throw Error(n(261));return un=null,gn=0,en}function jC(){for(;Kt!==null;)nw(Kt)}function FC(){for(;Kt!==null&&!nt();)nw(Kt)}function nw(i){var o=ow(i.alternate,i,pr);i.memoizedProps=i.pendingProps,o===null?rw(i):Kt=o,cp.current=null}function rw(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=PC(u,o,pr),u!==null){Kt=u;return}}else{if(u=NC(u,o),u!==null){u.flags&=32767,Kt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{en=6,Kt=null;return}}if(o=o.sibling,o!==null){Kt=o;return}Kt=o=i}while(o!==null);en===0&&(en=5)}function Fo(i,o,u){var f=ot,m=Tr.transition;try{Tr.transition=null,ot=1,UC(i,o,u,f)}finally{Tr.transition=m,ot=f}return null}function UC(i,o,u,f){do Ba();while(As!==null);if((dt&6)!==0)throw Error(n(327));u=i.finishedWork;var m=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var v=u.lanes|u.childLanes;if(sf(i,v),i===un&&(Kt=un=null,gn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||ch||(ch=!0,aw(Dr,function(){return Ba(),null})),v=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||v){v=Tr.transition,Tr.transition=null;var I=ot;ot=1;var M=dt;dt|=4,cp.current=null,MC(i,u),K0(u,i),oC(wf),Fi=!!vf,wf=vf=null,i.current=u,LC(u),jt(),dt=M,ot=I,Tr.transition=v}else i.current=u;if(ch&&(ch=!1,As=i,hh=m),v=i.pendingLanes,v===0&&(Rs=null),Ze(u.stateNode),er(i,ct()),o!==null)for(f=i.onRecoverableError,u=0;u<o.length;u++)m=o[u],f(m.value,{componentStack:m.stack,digest:m.digest});if(uh)throw uh=!1,i=fp,fp=null,i;return(hh&1)!==0&&i.tag!==0&&Ba(),v=i.pendingLanes,(v&1)!==0?i===pp?au++:(au=0,pp=i):au=0,Ss(),null}function Ba(){if(As!==null){var i=ti(hh),o=Tr.transition,u=ot;try{if(Tr.transition=null,ot=16>i?16:i,As===null)var f=!1;else{if(i=As,As=null,hh=0,(dt&6)!==0)throw Error(n(331));var m=dt;for(dt|=4,Ie=i.current;Ie!==null;){var v=Ie,I=v.child;if((Ie.flags&16)!==0){var M=v.deletions;if(M!==null){for(var j=0;j<M.length;j++){var J=M[j];for(Ie=J;Ie!==null;){var ae=Ie;switch(ae.tag){case 0:case 11:case 15:iu(8,ae,v)}var le=ae.child;if(le!==null)le.return=ae,Ie=le;else for(;Ie!==null;){ae=Ie;var oe=ae.sibling,ve=ae.return;if(B0(ae),ae===J){Ie=null;break}if(oe!==null){oe.return=ve,Ie=oe;break}Ie=ve}}}var Ce=v.alternate;if(Ce!==null){var Pe=Ce.child;if(Pe!==null){Ce.child=null;do{var Bt=Pe.sibling;Pe.sibling=null,Pe=Bt}while(Pe!==null)}}Ie=v}}if((v.subtreeFlags&2064)!==0&&I!==null)I.return=v,Ie=I;else e:for(;Ie!==null;){if(v=Ie,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:iu(9,v,v.return)}var K=v.sibling;if(K!==null){K.return=v.return,Ie=K;break e}Ie=v.return}}var $=i.current;for(Ie=$;Ie!==null;){I=Ie;var X=I.child;if((I.subtreeFlags&2064)!==0&&X!==null)X.return=I,Ie=X;else e:for(I=$;Ie!==null;){if(M=Ie,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:oh(9,M)}}catch(Me){Ft(M,M.return,Me)}if(M===I){Ie=null;break e}var ce=M.sibling;if(ce!==null){ce.return=M.return,Ie=ce;break e}Ie=M.return}}if(dt=m,Ss(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(vr,i)}catch{}f=!0}return f}finally{ot=u,Tr.transition=o}}return!1}function iw(i,o,u){o=ja(u,o),o=E0(i,o,1),i=bs(i,o,1),o=Un(),i!==null&&(So(i,1,o),er(i,o))}function Ft(i,o,u){if(i.tag===3)iw(i,i,u);else for(;o!==null;){if(o.tag===3){iw(o,i,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Rs===null||!Rs.has(f))){i=ja(u,i),i=T0(o,i,1),o=bs(o,i,1),i=Un(),o!==null&&(So(o,1,i),er(o,i));break}}o=o.return}}function zC(i,o,u){var f=i.pingCache;f!==null&&f.delete(o),o=Un(),i.pingedLanes|=i.suspendedLanes&u,un===i&&(gn&u)===u&&(en===4||en===3&&(gn&130023424)===gn&&500>ct()-dp?jo(i,0):hp|=u),er(i,o)}function sw(i,o){o===0&&((i.mode&1)===0?o=1:(o=Lr,Lr<<=1,(Lr&130023424)===0&&(Lr=4194304)));var u=Un();i=Gi(i,o),i!==null&&(So(i,o,u),er(i,u))}function BC(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),sw(i,u)}function $C(i,o){var u=0;switch(i.tag){case 13:var f=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(o),sw(i,u)}var ow;ow=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||Yn.current)Jn=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return Jn=!1,kC(i,o,u);Jn=(i.flags&131072)!==0}else Jn=!1,At&&(o.flags&1048576)!==0&&Fv(o,$c,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;ih(i,o),i=o.pendingProps;var m=ka(o,In.current);Va(o,u),m=$f(null,o,f,i,m,u);var v=Hf();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Xn(f)?(v=!0,Uc(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Vf(o),m.updater=nh,o.stateNode=m,m._reactInternals=o,Yf(o,f,i,u),o=ep(null,o,f,!0,v,u)):(o.tag=0,At&&v&&bf(o),Fn(null,o,m,u),o=o.child),o;case 16:f=o.elementType;e:{switch(ih(i,o),i=o.pendingProps,m=f._init,f=m(f._payload),o.type=f,m=o.tag=WC(f),i=Fr(f,i),m){case 0:o=Zf(null,o,f,i,u);break e;case 1:o=N0(null,o,f,i,u);break e;case 11:o=C0(null,o,f,i,u);break e;case 14:o=R0(null,o,f,Fr(f.type,i),u);break e}throw Error(n(306,f,""))}return o;case 0:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:Fr(f,m),Zf(i,o,f,m,u);case 1:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:Fr(f,m),N0(i,o,f,m,u);case 3:e:{if(D0(o),i===null)throw Error(n(387));f=o.pendingProps,v=o.memoizedState,m=v.element,qv(i,o),Qc(o,f,null,u);var I=o.memoizedState;if(f=I.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=ja(Error(n(423)),o),o=M0(i,o,f,u,m);break e}else if(f!==m){m=ja(Error(n(424)),o),o=M0(i,o,f,u,m);break e}else for(fr=xs(o.stateNode.containerInfo.firstChild),dr=o,At=!0,jr=null,u=Gv(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Da(),f===m){o=qi(i,o,u);break e}Fn(i,o,f,u)}o=o.child}return o;case 5:return Xv(o),i===null&&Af(o),f=o.type,m=o.pendingProps,v=i!==null?i.memoizedProps:null,I=m.children,_f(f,m)?I=null:v!==null&&_f(f,v)&&(o.flags|=32),P0(i,o),Fn(i,o,I,u),o.child;case 6:return i===null&&Af(o),null;case 13:return L0(i,o,u);case 4:return Of(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=Ma(o,null,f,u):Fn(i,o,f,u),o.child;case 11:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:Fr(f,m),C0(i,o,f,m,u);case 7:return Fn(i,o,o.pendingProps,u),o.child;case 8:return Fn(i,o,o.pendingProps.children,u),o.child;case 12:return Fn(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,m=o.pendingProps,v=o.memoizedProps,I=m.value,xt(Gc,f._currentValue),f._currentValue=I,v!==null)if(Or(v.value,I)){if(v.children===m.children&&!Yn.current){o=qi(i,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var M=v.dependencies;if(M!==null){I=v.child;for(var j=M.firstContext;j!==null;){if(j.context===f){if(v.tag===1){j=Ki(-1,u&-u),j.tag=2;var J=v.updateQueue;if(J!==null){J=J.shared;var ae=J.pending;ae===null?j.next=j:(j.next=ae.next,ae.next=j),J.pending=j}}v.lanes|=u,j=v.alternate,j!==null&&(j.lanes|=u),Mf(v.return,u,o),M.lanes|=u;break}j=j.next}}else if(v.tag===10)I=v.type===o.type?null:v.child;else if(v.tag===18){if(I=v.return,I===null)throw Error(n(341));I.lanes|=u,M=I.alternate,M!==null&&(M.lanes|=u),Mf(I,u,o),I=v.sibling}else I=v.child;if(I!==null)I.return=v;else for(I=v;I!==null;){if(I===o){I=null;break}if(v=I.sibling,v!==null){v.return=I.return,I=v;break}I=I.return}v=I}Fn(i,o,m.children,u),o=o.child}return o;case 9:return m=o.type,f=o.pendingProps.children,Va(o,u),m=xr(m),f=f(m),o.flags|=1,Fn(i,o,f,u),o.child;case 14:return f=o.type,m=Fr(f,o.pendingProps),m=Fr(f.type,m),R0(i,o,f,m,u);case 15:return A0(i,o,o.type,o.pendingProps,u);case 17:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:Fr(f,m),ih(i,o),o.tag=1,Xn(f)?(i=!0,Uc(o)):i=!1,Va(o,u),_0(o,f,m),Yf(o,f,m,u),ep(null,o,f,!0,i,u);case 19:return O0(i,o,u);case 22:return k0(i,o,u)}throw Error(n(156,o.tag))};function aw(i,o){return Rt(i,o)}function HC(i,o,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(i,o,u,f){return new HC(i,o,u,f)}function _p(i){return i=i.prototype,!(!i||!i.isReactComponent)}function WC(i){if(typeof i=="function")return _p(i)?1:0;if(i!=null){if(i=i.$$typeof,i===z)return 11;if(i===Ke)return 14}return 2}function Ns(i,o){var u=i.alternate;return u===null?(u=Sr(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function mh(i,o,u,f,m,v){var I=2;if(f=i,typeof i=="function")_p(i)&&(I=1);else if(typeof i=="string")I=5;else e:switch(i){case b:return Uo(u.children,m,v,o);case S:I=8,m|=8;break;case A:return i=Sr(12,u,o,m|2),i.elementType=A,i.lanes=v,i;case D:return i=Sr(13,u,o,m),i.elementType=D,i.lanes=v,i;case je:return i=Sr(19,u,o,m),i.elementType=je,i.lanes=v,i;case pe:return gh(u,m,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case L:I=10;break e;case V:I=9;break e;case z:I=11;break e;case Ke:I=14;break e;case Oe:I=16,f=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=Sr(I,u,o,m),o.elementType=i,o.type=f,o.lanes=v,o}function Uo(i,o,u,f){return i=Sr(7,i,f,o),i.lanes=u,i}function gh(i,o,u,f){return i=Sr(22,i,f,o),i.elementType=pe,i.lanes=u,i.stateNode={isHidden:!1},i}function xp(i,o,u){return i=Sr(6,i,null,o),i.lanes=u,i}function Ep(i,o,u){return o=Sr(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function GC(i,o,u,f,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Al(0),this.expirationTimes=Al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Al(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Tp(i,o,u,f,m,v,I,M,j){return i=new GC(i,o,u,M,j),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Sr(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vf(v),i}function KC(i,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ne,key:f==null?null:""+f,children:i,containerInfo:o,implementation:u}}function lw(i){if(!i)return Ts;i=i._reactInternals;e:{if(Ee(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Xn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(Xn(u))return Vv(i,u,o)}return o}function uw(i,o,u,f,m,v,I,M,j){return i=Tp(u,f,!0,i,m,v,I,M,j),i.context=lw(null),u=i.current,f=Un(),m=ks(u),v=Ki(f,m),v.callback=o??null,bs(u,v,m),i.current.lanes=m,So(i,m,f),er(i,f),i}function yh(i,o,u,f){var m=o.current,v=Un(),I=ks(m);return u=lw(u),o.context===null?o.context=u:o.pendingContext=u,o=Ki(v,I),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=bs(m,o,I),i!==null&&(Br(i,m,I,v),qc(i,m,I)),I}function vh(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function cw(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function Sp(i,o){cw(i,o),(i=i.alternate)&&cw(i,o)}function qC(){return null}var hw=typeof reportError=="function"?reportError:function(i){console.error(i)};function Ip(i){this._internalRoot=i}wh.prototype.render=Ip.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));yh(i,o,null,null)},wh.prototype.unmount=Ip.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Oo(function(){yh(null,i,null,null)}),o[Bi]=null}};function wh(i){this._internalRoot=i}wh.prototype.unstable_scheduleHydration=function(i){if(i){var o=Dl();i={blockedOn:null,target:i,priority:o};for(var u=0;u<lr.length&&o!==0&&o<lr[u].priority;u++);lr.splice(u,0,i),u===0&&pa(i)}};function bp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function _h(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function dw(){}function QC(i,o,u,f,m){if(m){if(typeof f=="function"){var v=f;f=function(){var J=vh(I);v.call(J)}}var I=uw(o,f,i,0,null,!1,!1,"",dw);return i._reactRootContainer=I,i[Bi]=I.current,Wl(i.nodeType===8?i.parentNode:i),Oo(),I}for(;m=i.lastChild;)i.removeChild(m);if(typeof f=="function"){var M=f;f=function(){var J=vh(j);M.call(J)}}var j=Tp(i,0,!1,null,null,!1,!1,"",dw);return i._reactRootContainer=j,i[Bi]=j.current,Wl(i.nodeType===8?i.parentNode:i),Oo(function(){yh(o,j,u,f)}),j}function xh(i,o,u,f,m){var v=u._reactRootContainer;if(v){var I=v;if(typeof m=="function"){var M=m;m=function(){var j=vh(I);M.call(j)}}yh(o,I,i,m)}else I=QC(u,o,i,m,f);return vh(I)}Pl=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=ht(o.pendingLanes);u!==0&&(kl(o,u|1),er(o,ct()),(dt&6)===0&&(za=ct()+500,Ss()))}break;case 13:Oo(function(){var f=Gi(i,1);if(f!==null){var m=Un();Br(f,i,1,m)}}),Sp(i,1)}},da=function(i){if(i.tag===13){var o=Gi(i,134217728);if(o!==null){var u=Un();Br(o,i,134217728,u)}Sp(i,134217728)}},Nl=function(i){if(i.tag===13){var o=ks(i),u=Gi(i,o);if(u!==null){var f=Un();Br(u,i,o,f)}Sp(i,o)}},Dl=function(){return ot},Ml=function(i,o){var u=ot;try{return ot=i,o()}finally{ot=u}},qn=function(i,o,u){switch(o){case"input":if(ki(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==i&&f.form===i.form){var m=jc(f);if(!m)throw Error(n(90));st(f),ki(f,m)}}}break;case"textarea":gr(i,u);break;case"select":o=u.value,o!=null&&ar(i,!!u.multiple,o,!1)}},_o=yp,Di=Oo;var YC={usingClientEntryPoint:!1,Events:[ql,Ra,jc,Nr,Zr,yp]},lu={findFiberByHostInstance:Ao,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XC={bundleType:lu.bundleType,version:lu.version,rendererPackageName:lu.rendererPackageName,rendererConfig:lu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Xe(i),i===null?null:i.stateNode},findFiberByHostInstance:lu.findFiberByHostInstance||qC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eh.isDisabled&&Eh.supportsFiber)try{vr=Eh.inject(XC),an=Eh}catch{}}return tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YC,tr.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bp(o))throw Error(n(200));return KC(i,o,null,u)},tr.createRoot=function(i,o){if(!bp(i))throw Error(n(299));var u=!1,f="",m=hw;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Tp(i,1,!1,null,null,u,!1,f,m),i[Bi]=o.current,Wl(i.nodeType===8?i.parentNode:i),new Ip(o)},tr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Xe(o),i=i===null?null:i.stateNode,i},tr.flushSync=function(i){return Oo(i)},tr.hydrate=function(i,o,u){if(!_h(o))throw Error(n(200));return xh(null,i,o,!0,u)},tr.hydrateRoot=function(i,o,u){if(!bp(i))throw Error(n(405));var f=u!=null&&u.hydratedSources||null,m=!1,v="",I=hw;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(I=u.onRecoverableError)),o=uw(o,null,i,1,u??null,m,!1,v,I),i[Bi]=o.current,Wl(i),f)for(i=0;i<f.length;i++)u=f[i],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new wh(o)},tr.render=function(i,o,u){if(!_h(o))throw Error(n(200));return xh(null,i,o,!1,u)},tr.unmountComponentAtNode=function(i){if(!_h(i))throw Error(n(40));return i._reactRootContainer?(Oo(function(){xh(null,null,i,!1,function(){i._reactRootContainer=null,i[Bi]=null})}),!0):!1},tr.unstable_batchedUpdates=yp,tr.unstable_renderSubtreeIntoContainer=function(i,o,u,f){if(!_h(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return xh(i,o,u,!1,f)},tr.version="18.3.1-next-f1338f8080-20240426",tr}var _w;function aR(){if(_w)return Ap.exports;_w=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ap.exports=oR(),Ap.exports}var xw;function lR(){if(xw)return Th;xw=1;var t=aR();return Th.createRoot=t.createRoot,Th.hydrateRoot=t.hydrateRoot,Th}var uR=lR(),k=Sg();const cR=eR(k),hR=ZC({__proto__:null,default:cR},[k]);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var aT=t=>{throw TypeError(t)},dR=(t,e,n)=>e.has(t)||aT("Cannot "+n),Np=(t,e,n)=>(dR(t,e,"read from private field"),n?n.call(t):e.get(t)),fR=(t,e,n)=>e.has(t)?aT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ew="popstate";function pR(t={}){function e(r,s){let{pathname:a,search:l,hash:c}=r.location;return Uu("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ti(s)}return gR(e,n,null,t)}function tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mR(){return Math.random().toString(36).substring(2,10)}function Tw(t,e){return{usr:t.state,key:t.key,idx:e}}function Uu(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ho(e):e,state:n,key:e&&e.key||r||mR()}}function Ti({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ho(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function gR(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,c="POP",d=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function y(){c="POP";let P=g(),U=P==null?null:P-p;p=P,d&&d({action:c,location:N.location,delta:U})}function _(P,U){c="PUSH";let F=Uu(N.location,P,U);p=g()+1;let W=Tw(F,p),Q=N.createHref(F);try{l.pushState(W,"",Q)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;s.location.assign(Q)}a&&d&&d({action:c,location:N.location,delta:1})}function T(P,U){c="REPLACE";let F=Uu(N.location,P,U);p=g();let W=Tw(F,p),Q=N.createHref(F);l.replaceState(W,"",Q),a&&d&&d({action:c,location:N.location,delta:0})}function C(P){return lT(P)}let N={get action(){return c},get location(){return t(s,l)},listen(P){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Ew,y),d=P,()=>{s.removeEventListener(Ew,y),d=null}},createHref(P){return e(s,P)},createURL:C,encodeLocation(P){let U=C(P);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:_,replace:T,go(P){return l.go(P)}};return N}function lT(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),tt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Ti(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var gu,Sw=class{constructor(t){if(fR(this,gu,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(Np(this,gu).has(t))return Np(this,gu).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Np(this,gu).set(t,e)}};gu=new WeakMap;var yR=new Set(["lazy","caseSensitive","path","id","index","children"]);function vR(t){return yR.has(t)}var wR=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function _R(t){return wR.has(t)}function xR(t){return t.index===!0}function zu(t,e,n=[],r={},s=!1){return t.map((a,l)=>{let c=[...n,String(l)],d=typeof a.id=="string"?a.id:c.join("-");if(tt(a.index!==!0||!a.children,"Cannot specify children on an index route"),tt(s||!r[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),xR(a)){let p={...a,id:d};return r[d]=Iw(p,e(p)),p}else{let p={...a,id:d,children:void 0};return r[d]=Iw(p,e(p)),a.children&&(p.children=zu(a.children,e,c,r,s)),p}})}function Iw(t,e){return Object.assign(t,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...t.lazy,...e.lazy}}:{}})}function js(t,e,n="/"){return yu(t,e,n,!1)}function yu(t,e,n,r){let s=typeof e=="string"?ho(e):e,a=Ar(s.pathname||"/",n);if(a==null)return null;let l=uT(t);TR(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let p=MR(a);c=NR(l[d],p,r)}return c}function ER(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function uT(t,e=[],n=[],r="",s=!1){let a=(l,c,d=s,p)=>{let g={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&d)return;tt(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let y=vi([r,g.relativePath]),_=n.concat(g);l.children&&l.children.length>0&&(tt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),uT(l.children,e,_,y,d)),!(l.path==null&&!l.index)&&e.push({path:y,score:kR(y,l.index),routesMeta:_})};return t.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let p of cT(l.path))a(l,c,!0,p)}),e}function cT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=cT(r.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),s&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function TR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:PR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var SR=/^:[\w-]+$/,IR=3,bR=2,CR=1,RR=10,AR=-2,bw=t=>t==="*";function kR(t,e){let n=t.split("/"),r=n.length;return n.some(bw)&&(r+=AR),e&&(r+=bR),n.filter(s=>!bw(s)).reduce((s,a)=>s+(SR.test(a)?IR:a===""?CR:RR),r)}function PR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function NR(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],p=c===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",y=rd({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),_=d.route;if(!y&&p&&n&&!r[r.length-1].route.index&&(y=rd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!y)return null;Object.assign(s,y.params),l.push({params:s,pathname:vi([a,y.pathname]),pathnameBase:OR(vi([a,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(a=vi([a,y.pathnameBase]))}return l}function rd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=DR(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:y},_)=>{if(g==="*"){let C=c[_]||"";l=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const T=c[_];return y&&!T?p[g]=void 0:p[g]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function DR(t,e=!1,n=!0){Jt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function MR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ar(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function LR({basename:t,pathname:e}){return e==="/"?t:vi([t,e])}var hT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ig=t=>hT.test(t);function VR(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ho(t):t,a;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?a=Cw(n.substring(1),"/"):a=Cw(n,e)):a=e,{pathname:a,search:jR(r),hash:FR(s)}}function Cw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Dp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dT(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bg(t){let e=dT(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Cg(t,e,n,r=!1){let s;typeof t=="string"?s=ho(t):(s={...t},tt(!s.pathname||!s.pathname.includes("?"),Dp("?","pathname","search",s)),tt(!s.pathname||!s.pathname.includes("#"),Dp("#","pathname","hash",s)),tt(!s.search||!s.search.includes("#"),Dp("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=n;else{let y=e.length-1;if(!r&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),y-=1;s.pathname=_.join("/")}c=y>=0?e[y]:"/"}let d=VR(s,c),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}var vi=t=>t.join("/").replace(/\/\/+/g,"/"),OR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,FR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,nc=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Bu(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function rc(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var fT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function pT(t,e){let n=t;if(typeof n!="string"||!hT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,s=!1;if(fT)try{let a=new URL(window.location.href),l=n.startsWith("//")?new URL(a.protocol+n):new URL(n),c=Ar(l.pathname,e);l.origin===a.origin&&c!=null?n=c+l.search+l.hash:s=!0}catch{Jt(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:s,to:n}}var $s=Symbol("Uninstrumented");function UR(t,e){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};t.forEach(s=>s({id:e.id,index:e.index,path:e.path,instrument(a){let l=Object.keys(n);for(let c of l)a[c]&&n[c].push(a[c])}}));let r={};if(typeof e.lazy=="function"&&n.lazy.length>0){let s=Qa(n.lazy,e.lazy,()=>{});s&&(r.lazy=s)}if(typeof e.lazy=="object"){let s=e.lazy;["middleware","loader","action"].forEach(a=>{let l=s[a],c=n[`lazy.${a}`];if(typeof l=="function"&&c.length>0){let d=Qa(c,l,()=>{});d&&(r.lazy=Object.assign(r.lazy||{},{[a]:d}))}})}return["loader","action"].forEach(s=>{let a=e[s];if(typeof a=="function"&&n[s].length>0){let l=a[$s]??a,c=Qa(n[s],l,(...d)=>Rw(d[0]));c&&(s==="loader"&&l.hydrate===!0&&(c.hydrate=!0),c[$s]=l,r[s]=c)}}),e.middleware&&e.middleware.length>0&&n.middleware.length>0&&(r.middleware=e.middleware.map(s=>{let a=s[$s]??s,l=Qa(n.middleware,a,(...c)=>Rw(c[0]));return l?(l[$s]=a,l):s})),r}function zR(t,e){let n={navigate:[],fetch:[]};if(e.forEach(r=>r({instrument(s){let a=Object.keys(s);for(let l of a)s[l]&&n[l].push(s[l])}})),n.navigate.length>0){let r=t.navigate[$s]??t.navigate,s=Qa(n.navigate,r,(...a)=>{let[l,c]=a;return{to:typeof l=="number"||typeof l=="string"?l:l?Ti(l):".",...Aw(t,c??{})}});s&&(s[$s]=r,t.navigate=s)}if(n.fetch.length>0){let r=t.fetch[$s]??t.fetch,s=Qa(n.fetch,r,(...a)=>{let[l,,c,d]=a;return{href:c??".",fetcherKey:l,...Aw(t,d??{})}});s&&(s[$s]=r,t.fetch=s)}return t}function Qa(t,e,n){return t.length===0?null:async(...r)=>{let s=await mT(t,n(...r),()=>e(...r),t.length-1);if(s.type==="error")throw s.value;return s.value}}async function mT(t,e,n,r){let s=t[r],a;if(s){let l,c=async()=>(l?console.error("You cannot call instrumented handlers more than once"):l=mT(t,e,n,r-1),a=await l,tt(a,"Expected a result"),a.type==="error"&&a.value instanceof Error?{status:"error",error:a.value}:{status:"success",error:void 0});try{await s(c,e)}catch(d){console.error("An instrumentation function threw an error:",d)}l||await c(),await l}else try{a={type:"success",value:await n()}}catch(l){a={type:"error",value:l}}return a||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function Rw(t){let{request:e,context:n,params:r,unstable_pattern:s}=t;return{request:BR(e),params:{...r},unstable_pattern:s,context:$R(n)}}function Aw(t,e){return{currentUrl:Ti(t.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function BR(t){return{method:t.method,url:t.url,headers:{get:(...e)=>t.headers.get(...e)}}}function $R(t){if(WR(t)){let e={...t};return Object.freeze(e),e}else return{get:e=>t.get(e)}}var HR=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function WR(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===HR}var gT=["POST","PUT","PATCH","DELETE"],GR=new Set(gT),KR=["GET",...gT],qR=new Set(KR),yT=new Set([301,302,303,307,308]),QR=new Set([307,308]),Mp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},YR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},cu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},XR=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),vT="remix-router-transitions",wT=Symbol("ResetLoaderData");function JR(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";tt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],s=t.mapRouteProperties||XR,a=s;if(t.unstable_instrumentations){let O=t.unstable_instrumentations;a=H=>({...s(H),...UR(O.map(Y=>Y.route).filter(Boolean),H)})}let l={},c=zu(t.routes,a,void 0,l),d,p=t.basename||"/";p.startsWith("/")||(p=`/${p}`);let g=t.dataStrategy||rA,y={...t.future},_=null,T=new Set,C=null,N=null,P=null,U=t.hydrationData!=null,F=js(c,t.history.location,p),W=!1,Q=null,ee;if(F==null&&!t.patchRoutesOnNavigation){let O=br(404,{pathname:t.history.location.pathname}),{matches:H,route:Y}=Sh(c);ee=!0,F=H,Q={[Y.id]:O}}else if(F&&!t.hydrationData&&Di(F,c,t.history.location.pathname).active&&(F=null),F)if(F.some(O=>O.route.lazy))ee=!1;else if(!F.some(O=>Rg(O.route)))ee=!0;else{let O=t.hydrationData?t.hydrationData.loaderData:null,H=t.hydrationData?t.hydrationData.errors:null;if(H){let Y=F.findIndex(se=>H[se.route.id]!==void 0);ee=F.slice(0,Y+1).every(se=>!vm(se.route,O,H))}else ee=F.every(Y=>!vm(Y.route,O,H))}else{ee=!1,F=[];let O=Di(null,c,t.history.location.pathname);O.active&&O.matches&&(W=!0,F=O.matches)}let ne,b={historyAction:t.history.action,location:t.history.location,matches:F,initialized:ee,navigation:Mp,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||Q,fetchers:new Map,blockers:new Map},S="POP",A=null,L=!1,V,z=!1,D=new Map,je=null,Ke=!1,Oe=!1,pe=new Set,G=new Map,de=0,re=-1,B=new Map,te=new Set,me=new Map,ge=new Map,be=new Set,Fe=new Map,Se,_e=null;function it(){if(_=t.history.listen(({action:O,location:H,delta:Y})=>{if(Se){Se(),Se=void 0;return}Jt(Fe.size===0||Y!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let se=yr({currentLocation:b.location,nextLocation:H,historyAction:O});if(se&&Y!=null){let ue=new Promise(we=>{Se=we});t.history.go(Y*-1),qn(se,{state:"blocked",location:H,proceed(){qn(se,{state:"proceeding",proceed:void 0,reset:void 0,location:H}),ue.then(()=>t.history.go(Y))},reset(){let we=new Map(b.blockers);we.set(se,cu),st({blockers:we})}}),A==null||A.resolve(),A=null;return}return Hn(O,H)}),n){xA(e,D);let O=()=>EA(e,D);e.addEventListener("pagehide",O),je=()=>e.removeEventListener("pagehide",O)}return b.initialized||Hn("POP",b.location,{initialHydration:!0}),ne}function mt(){_&&_(),je&&je(),T.clear(),V&&V.abort(),b.fetchers.forEach((O,H)=>fs(H)),b.blockers.forEach((O,H)=>Ni(H))}function xn(O){return T.add(O),()=>T.delete(O)}function st(O,H={}){O.matches&&(O.matches=O.matches.map(ue=>{let we=l[ue.route.id],Ve=ue.route;return Ve.element!==we.element||Ve.errorElement!==we.errorElement||Ve.hydrateFallbackElement!==we.hydrateFallbackElement?{...ue,route:we}:ue})),b={...b,...O};let Y=[],se=[];b.fetchers.forEach((ue,we)=>{ue.state==="idle"&&(be.has(we)?Y.push(we):se.push(we))}),be.forEach(ue=>{!b.fetchers.has(ue)&&!G.has(ue)&&Y.push(ue)}),[...T].forEach(ue=>ue(b,{deletedFetchers:Y,newErrors:O.errors??null,viewTransitionOpts:H.viewTransitionOpts,flushSync:H.flushSync===!0})),Y.forEach(ue=>fs(ue)),se.forEach(ue=>b.fetchers.delete(ue))}function Vt(O,H,{flushSync:Y}={}){var He,De;let se=b.actionData!=null&&b.navigation.formMethod!=null&&kn(b.navigation.formMethod)&&b.navigation.state==="loading"&&((He=O.state)==null?void 0:He._isRedirect)!==!0,ue;H.actionData?Object.keys(H.actionData).length>0?ue=H.actionData:ue=null:se?ue=b.actionData:ue=null;let we=H.loaderData?Fw(b.loaderData,H.loaderData,H.matches||[],H.errors):b.loaderData,Ve=b.blockers;Ve.size>0&&(Ve=new Map(Ve),Ve.forEach((Ge,Xe)=>Ve.set(Xe,cu)));let ye=Ke?!1:_o(O,H.matches||b.matches),xe=L===!0||b.navigation.formMethod!=null&&kn(b.navigation.formMethod)&&((De=O.state)==null?void 0:De._isRedirect)!==!0;d&&(c=d,d=void 0),Ke||S==="POP"||(S==="PUSH"?t.history.push(O,O.state):S==="REPLACE"&&t.history.replace(O,O.state));let Ee;if(S==="POP"){let Ge=D.get(b.location.pathname);Ge&&Ge.has(O.pathname)?Ee={currentLocation:b.location,nextLocation:O}:D.has(O.pathname)&&(Ee={currentLocation:O,nextLocation:b.location})}else if(z){let Ge=D.get(b.location.pathname);Ge?Ge.add(O.pathname):(Ge=new Set([O.pathname]),D.set(b.location.pathname,Ge)),Ee={currentLocation:b.location,nextLocation:O}}st({...H,actionData:ue,loaderData:we,historyAction:S,location:O,initialized:!0,navigation:Mp,revalidation:"idle",restoreScrollPosition:ye,preventScrollReset:xe,blockers:Ve},{viewTransitionOpts:Ee,flushSync:Y===!0}),S="POP",L=!1,z=!1,Ke=!1,Oe=!1,A==null||A.resolve(),A=null,_e==null||_e.resolve(),_e=null}async function or(O,H){if(A==null||A.resolve(),A=null,typeof O=="number"){A||(A=$w());let Xe=A.promise;return t.history.go(O),Xe}let Y=ym(b.location,b.matches,p,O,H==null?void 0:H.fromRouteId,H==null?void 0:H.relative),{path:se,submission:ue,error:we}=kw(!1,Y,H),Ve=b.location,ye=Uu(b.location,se,H&&H.state);ye={...ye,...t.history.encodeLocation(ye)};let xe=H&&H.replace!=null?H.replace:void 0,Ee="PUSH";xe===!0?Ee="REPLACE":xe===!1||ue!=null&&kn(ue.formMethod)&&ue.formAction===b.location.pathname+b.location.search&&(Ee="REPLACE");let He=H&&"preventScrollReset"in H?H.preventScrollReset===!0:void 0,De=(H&&H.flushSync)===!0,Ge=yr({currentLocation:Ve,nextLocation:ye,historyAction:Ee});if(Ge){qn(Ge,{state:"blocked",location:ye,proceed(){qn(Ge,{state:"proceeding",proceed:void 0,reset:void 0,location:ye}),or(O,H)},reset(){let Xe=new Map(b.blockers);Xe.set(Ge,cu),st({blockers:Xe})}});return}await Hn(Ee,ye,{submission:ue,pendingError:we,preventScrollReset:He,replace:H&&H.replace,enableViewTransition:H&&H.viewTransition,flushSync:De,callSiteDefaultShouldRevalidate:H&&H.unstable_defaultShouldRevalidate})}function ha(){_e||(_e=$w()),qr(),st({revalidation:"loading"});let O=_e.promise;return b.navigation.state==="submitting"?O:b.navigation.state==="idle"?(Hn(b.historyAction,b.location,{startUninterruptedRevalidation:!0}),O):(Hn(S||b.historyAction,b.navigation.location,{overrideNavigation:b.navigation,enableViewTransition:z===!0}),O)}async function Hn(O,H,Y){V&&V.abort(),V=null,S=O,Ke=(Y&&Y.startUninterruptedRevalidation)===!0,Zr(b.location,b.matches),L=(Y&&Y.preventScrollReset)===!0,z=(Y&&Y.enableViewTransition)===!0;let se=d||c,ue=Y&&Y.overrideNavigation,we=Y!=null&&Y.initialHydration&&b.matches&&b.matches.length>0&&!W?b.matches:js(se,H,p),Ve=(Y&&Y.flushSync)===!0;if(we&&b.initialized&&!Oe&&hA(b.location,H)&&!(Y&&Y.submission&&kn(Y.submission.formMethod))){Vt(H,{matches:we},{flushSync:Ve});return}let ye=Di(we,se,H.pathname);if(ye.active&&ye.matches&&(we=ye.matches),!we){let{error:Rt,notFoundMatches:Ot,route:nt}=_t(H.pathname);Vt(H,{matches:Ot,loaderData:{},errors:{[nt.id]:Rt}},{flushSync:Ve});return}V=new AbortController;let xe=Ha(t.history,H,V.signal,Y&&Y.submission),Ee=t.getContext?await t.getContext():new Sw,He;if(Y&&Y.pendingError)He=[Fs(we).route.id,{type:"error",error:Y.pendingError}];else if(Y&&Y.submission&&kn(Y.submission.formMethod)){let Rt=await ki(xe,H,Y.submission,we,Ee,ye.active,Y&&Y.initialHydration===!0,{replace:Y.replace,flushSync:Ve});if(Rt.shortCircuited)return;if(Rt.pendingActionResult){let[Ot,nt]=Rt.pendingActionResult;if(mr(nt)&&Bu(nt.error)&&nt.error.status===404){V=null,Vt(H,{matches:Rt.matches,loaderData:{},errors:{[Ot]:nt.error}});return}}we=Rt.matches||we,He=Rt.pendingActionResult,ue=Lp(H,Y.submission),Ve=!1,ye.active=!1,xe=Ha(t.history,xe.url,xe.signal)}let{shortCircuited:De,matches:Ge,loaderData:Xe,errors:Tt}=await go(xe,H,we,Ee,ye.active,ue,Y&&Y.submission,Y&&Y.fetcherSubmission,Y&&Y.replace,Y&&Y.initialHydration===!0,Ve,He,Y&&Y.callSiteDefaultShouldRevalidate);De||(V=null,Vt(H,{matches:Ge||we,...Uw(He),loaderData:Xe,errors:Tt}))}async function ki(O,H,Y,se,ue,we,Ve,ye={}){qr();let xe=wA(H,Y);if(st({navigation:xe},{flushSync:ye.flushSync===!0}),we){let De=await Vn(se,H.pathname,O.signal);if(De.type==="aborted")return{shortCircuited:!0};if(De.type==="error"){if(De.partialMatches.length===0){let{matches:Xe,route:Tt}=Sh(c);return{matches:Xe,pendingActionResult:[Tt.id,{type:"error",error:De.error}]}}let Ge=Fs(De.partialMatches).route.id;return{matches:De.partialMatches,pendingActionResult:[Ge,{type:"error",error:De.error}]}}else if(De.matches)se=De.matches;else{let{notFoundMatches:Ge,error:Xe,route:Tt}=_t(H.pathname);return{matches:Ge,pendingActionResult:[Tt.id,{type:"error",error:Xe}]}}}let Ee,He=Uh(se,H);if(!He.route.action&&!He.route.lazy)Ee={type:"error",error:br(405,{method:O.method,pathname:H.pathname,routeId:He.route.id})};else{let De=tl(a,l,O,se,He,Ve?[]:r,ue),Ge=await Wn(O,De,ue,null);if(Ee=Ge[He.route.id],!Ee){for(let Xe of se)if(Ge[Xe.route.id]){Ee=Ge[Xe.route.id];break}}if(O.signal.aborted)return{shortCircuited:!0}}if(Wo(Ee)){let De;return ye&&ye.replace!=null?De=ye.replace:De=Vw(Ee.response.headers.get("Location"),new URL(O.url),p,t.history)===b.location.pathname+b.location.search,await gr(O,Ee,!0,{submission:Y,replace:De}),{shortCircuited:!0}}if(mr(Ee)){let De=Fs(se,He.route.id);return(ye&&ye.replace)!==!0&&(S="PUSH"),{matches:se,pendingActionResult:[De.route.id,Ee,He.route.id]}}return{matches:se,pendingActionResult:[He.route.id,Ee]}}async function go(O,H,Y,se,ue,we,Ve,ye,xe,Ee,He,De,Ge){let Xe=we||Lp(H,Ve),Tt=Ve||ye||Bw(Xe),Rt=!Ke&&!Ee;if(ue){if(Rt){let gt=kt(De);st({navigation:Xe,...gt!==void 0?{actionData:gt}:{}},{flushSync:He})}let Ze=await Vn(Y,H.pathname,O.signal);if(Ze.type==="aborted")return{shortCircuited:!0};if(Ze.type==="error"){if(Ze.partialMatches.length===0){let{matches:dn,route:Wt}=Sh(c);return{matches:dn,loaderData:{},errors:{[Wt.id]:Ze.error}}}let gt=Fs(Ze.partialMatches).route.id;return{matches:Ze.partialMatches,loaderData:{},errors:{[gt]:Ze.error}}}else if(Ze.matches)Y=Ze.matches;else{let{error:gt,notFoundMatches:dn,route:Wt}=_t(H.pathname);return{matches:dn,loaderData:{},errors:{[Wt.id]:gt}}}}let Ot=d||c,{dsMatches:nt,revalidatingFetchers:jt}=Pw(O,se,a,l,t.history,b,Y,Tt,H,Ee?[]:r,Ee===!0,Oe,pe,be,me,te,Ot,p,t.patchRoutesOnNavigation!=null,De,Ge);if(re=++de,!t.dataStrategy&&!nt.some(Ze=>Ze.shouldLoad)&&!nt.some(Ze=>Ze.route.middleware&&Ze.route.middleware.length>0)&&jt.length===0){let Ze=Kn();return Vt(H,{matches:Y,loaderData:{},errors:De&&mr(De[1])?{[De[0]]:De[1].error}:null,...Uw(De),...Ze?{fetchers:new Map(b.fetchers)}:{}},{flushSync:He}),{shortCircuited:!0}}if(Rt){let Ze={};if(!ue){Ze.navigation=Xe;let gt=kt(De);gt!==void 0&&(Ze.actionData=gt)}jt.length>0&&(Ze.fetchers=Pt(jt)),st(Ze,{flushSync:He})}jt.forEach(Ze=>{En(Ze.key),Ze.controller&&G.set(Ze.key,Ze.controller)});let ct=()=>jt.forEach(Ze=>En(Ze.key));V&&V.signal.addEventListener("abort",ct);let{loaderResults:Li,fetcherResults:On}=await ds(nt,jt,O,se);if(O.signal.aborted)return{shortCircuited:!0};V&&V.signal.removeEventListener("abort",ct),jt.forEach(Ze=>G.delete(Ze.key));let Tn=Ih(Li);if(Tn)return await gr(O,Tn.result,!0,{replace:xe}),{shortCircuited:!0};if(Tn=Ih(On),Tn)return te.add(Tn.key),await gr(O,Tn.result,!0,{replace:xe}),{shortCircuited:!0};let{loaderData:Dr,errors:Mr}=jw(b,Y,Li,De,jt,On);Ee&&b.errors&&(Mr={...b.errors,...Mr});let Qn=Kn(),vr=Pi(re),an=Qn||vr||jt.length>0;return{matches:Y,loaderData:Dr,errors:Mr,...an?{fetchers:new Map(b.fetchers)}:{}}}function kt(O){if(O&&!mr(O[1]))return{[O[0]]:O[1].data};if(b.actionData)return Object.keys(b.actionData).length===0?null:b.actionData}function Pt(O){return O.forEach(H=>{let Y=b.fetchers.get(H.key),se=hu(void 0,Y?Y.data:void 0);b.fetchers.set(H.key,se)}),new Map(b.fetchers)}async function ar(O,H,Y,se){En(O);let ue=(se&&se.flushSync)===!0,we=d||c,Ve=ym(b.location,b.matches,p,Y,H,se==null?void 0:se.relative),ye=js(we,Ve,p),xe=Di(ye,we,Ve);if(xe.active&&xe.matches&&(ye=xe.matches),!ye){Gn(O,H,br(404,{pathname:Ve}),{flushSync:ue});return}let{path:Ee,submission:He,error:De}=kw(!0,Ve,se);if(De){Gn(O,H,De,{flushSync:ue});return}let Ge=t.getContext?await t.getContext():new Sw,Xe=(se&&se.preventScrollReset)===!0;if(He&&kn(He.formMethod)){await yo(O,H,Ee,ye,Ge,xe.active,ue,Xe,He,se&&se.unstable_defaultShouldRevalidate);return}me.set(O,{routeId:H,path:Ee}),await vo(O,H,Ee,ye,Ge,xe.active,ue,Xe,He)}async function yo(O,H,Y,se,ue,we,Ve,ye,xe,Ee){qr(),me.delete(O);let He=b.fetchers.get(O);on(O,_A(xe,He),{flushSync:Ve});let De=new AbortController,Ge=Ha(t.history,Y,De.signal,xe);if(we){let yt=await Vn(se,new URL(Ge.url).pathname,Ge.signal,O);if(yt.type==="aborted")return;if(yt.type==="error"){Gn(O,H,yt.error,{flushSync:Ve});return}else if(yt.matches)se=yt.matches;else{Gn(O,H,br(404,{pathname:Y}),{flushSync:Ve});return}}let Xe=Uh(se,Y);if(!Xe.route.action&&!Xe.route.lazy){let yt=br(405,{method:xe.formMethod,pathname:Y,routeId:H});Gn(O,H,yt,{flushSync:Ve});return}G.set(O,De);let Tt=de,Rt=tl(a,l,Ge,se,Xe,r,ue),Ot=await Wn(Ge,Rt,ue,O),nt=Ot[Xe.route.id];if(!nt){for(let yt of Rt)if(Ot[yt.route.id]){nt=Ot[yt.route.id];break}}if(Ge.signal.aborted){G.get(O)===De&&G.delete(O);return}if(be.has(O)){if(Wo(nt)||mr(nt)){on(O,Xi(void 0));return}}else{if(Wo(nt))if(G.delete(O),re>Tt){on(O,Xi(void 0));return}else return te.add(O),on(O,hu(xe)),gr(Ge,nt,!1,{fetcherSubmission:xe,preventScrollReset:ye});if(mr(nt)){Gn(O,H,nt.error);return}}let jt=b.navigation.location||b.location,ct=Ha(t.history,jt,De.signal),Li=d||c,On=b.navigation.state!=="idle"?js(Li,b.navigation.location,p):b.matches;tt(On,"Didn't find any matches after fetcher action");let Tn=++de;B.set(O,Tn);let Dr=hu(xe,nt.data);b.fetchers.set(O,Dr);let{dsMatches:Mr,revalidatingFetchers:Qn}=Pw(ct,ue,a,l,t.history,b,On,xe,jt,r,!1,Oe,pe,be,me,te,Li,p,t.patchRoutesOnNavigation!=null,[Xe.route.id,nt],Ee);Qn.filter(yt=>yt.key!==O).forEach(yt=>{let jn=yt.key,Lr=b.fetchers.get(jn),ht=hu(void 0,Lr?Lr.data:void 0);b.fetchers.set(jn,ht),En(jn),yt.controller&&G.set(jn,yt.controller)}),st({fetchers:new Map(b.fetchers)});let vr=()=>Qn.forEach(yt=>En(yt.key));De.signal.addEventListener("abort",vr);let{loaderResults:an,fetcherResults:Ze}=await ds(Mr,Qn,ct,ue);if(De.signal.aborted)return;if(De.signal.removeEventListener("abort",vr),B.delete(O),G.delete(O),Qn.forEach(yt=>G.delete(yt.key)),b.fetchers.has(O)){let yt=Xi(nt.data);b.fetchers.set(O,yt)}let gt=Ih(an);if(gt)return gr(ct,gt.result,!1,{preventScrollReset:ye});if(gt=Ih(Ze),gt)return te.add(gt.key),gr(ct,gt.result,!1,{preventScrollReset:ye});let{loaderData:dn,errors:Wt}=jw(b,On,an,void 0,Qn,Ze);Pi(Tn),b.navigation.state==="loading"&&Tn>re?(tt(S,"Expected pending action"),V&&V.abort(),Vt(b.navigation.location,{matches:On,loaderData:dn,errors:Wt,fetchers:new Map(b.fetchers)})):(st({errors:Wt,loaderData:Fw(b.loaderData,dn,On,Wt),fetchers:new Map(b.fetchers)}),Oe=!1)}async function vo(O,H,Y,se,ue,we,Ve,ye,xe){let Ee=b.fetchers.get(O);on(O,hu(xe,Ee?Ee.data:void 0),{flushSync:Ve});let He=new AbortController,De=Ha(t.history,Y,He.signal);if(we){let nt=await Vn(se,new URL(De.url).pathname,De.signal,O);if(nt.type==="aborted")return;if(nt.type==="error"){Gn(O,H,nt.error,{flushSync:Ve});return}else if(nt.matches)se=nt.matches;else{Gn(O,H,br(404,{pathname:Y}),{flushSync:Ve});return}}let Ge=Uh(se,Y);G.set(O,He);let Xe=de,Tt=tl(a,l,De,se,Ge,r,ue),Ot=(await Wn(De,Tt,ue,O))[Ge.route.id];if(G.get(O)===He&&G.delete(O),!De.signal.aborted){if(be.has(O)){on(O,Xi(void 0));return}if(Wo(Ot))if(re>Xe){on(O,Xi(void 0));return}else{te.add(O),await gr(De,Ot,!1,{preventScrollReset:ye});return}if(mr(Ot)){Gn(O,H,Ot.error);return}on(O,Xi(Ot.data))}}async function gr(O,H,Y,{submission:se,fetcherSubmission:ue,preventScrollReset:we,replace:Ve}={}){Y||(A==null||A.resolve(),A=null),H.response.headers.has("X-Remix-Revalidate")&&(Oe=!0);let ye=H.response.headers.get("Location");tt(ye,"Expected a Location header on the redirect Response"),ye=Vw(ye,new URL(O.url),p,t.history);let xe=Uu(b.location,ye,{_isRedirect:!0});if(n){let Tt=!1;if(H.response.headers.has("X-Remix-Reload-Document"))Tt=!0;else if(Ig(ye)){const Rt=lT(ye,!0);Tt=Rt.origin!==e.location.origin||Ar(Rt.pathname,p)==null}if(Tt){Ve?e.location.replace(ye):e.location.assign(ye);return}}V=null;let Ee=Ve===!0||H.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:He,formAction:De,formEncType:Ge}=b.navigation;!se&&!ue&&He&&De&&Ge&&(se=Bw(b.navigation));let Xe=se||ue;if(QR.has(H.response.status)&&Xe&&kn(Xe.formMethod))await Hn(Ee,xe,{submission:{...Xe,formAction:ye},preventScrollReset:we||L,enableViewTransition:Y?z:void 0});else{let Tt=Lp(xe,se);await Hn(Ee,xe,{overrideNavigation:Tt,fetcherSubmission:ue,preventScrollReset:we||L,enableViewTransition:Y?z:void 0})}}async function Wn(O,H,Y,se){var Ve;let ue,we={};try{ue=await sA(g,O,H,se,Y,!1)}catch(ye){return H.filter(xe=>xe.shouldLoad).forEach(xe=>{we[xe.route.id]={type:"error",error:ye}}),we}if(O.signal.aborted)return we;if(!kn(O.method))for(let ye of H){if(((Ve=ue[ye.route.id])==null?void 0:Ve.type)==="error")break;!ue.hasOwnProperty(ye.route.id)&&!b.loaderData.hasOwnProperty(ye.route.id)&&(!b.errors||!b.errors.hasOwnProperty(ye.route.id))&&ye.shouldCallHandler()&&(ue[ye.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${ye.route.id}`)})}for(let[ye,xe]of Object.entries(ue))if(mA(xe)){let Ee=xe.result;we[ye]={type:"redirect",response:uA(Ee,O,ye,H,p)}}else we[ye]=await lA(xe);return we}async function ds(O,H,Y,se){let ue=Wn(Y,O,se,null),we=Promise.all(H.map(async xe=>{if(xe.matches&&xe.match&&xe.request&&xe.controller){let He=(await Wn(xe.request,xe.matches,se,xe.key))[xe.match.route.id];return{[xe.key]:He}}else return Promise.resolve({[xe.key]:{type:"error",error:br(404,{pathname:xe.path})}})})),Ve=await ue,ye=(await we).reduce((xe,Ee)=>Object.assign(xe,Ee),{});return{loaderResults:Ve,fetcherResults:ye}}function qr(){Oe=!0,me.forEach((O,H)=>{G.has(H)&&pe.add(H),En(H)})}function on(O,H,Y={}){b.fetchers.set(O,H),st({fetchers:new Map(b.fetchers)},{flushSync:(Y&&Y.flushSync)===!0})}function Gn(O,H,Y,se={}){let ue=Fs(b.matches,H);fs(O),st({errors:{[ue.route.id]:Y},fetchers:new Map(b.fetchers)},{flushSync:(se&&se.flushSync)===!0})}function Qr(O){return ge.set(O,(ge.get(O)||0)+1),be.has(O)&&be.delete(O),b.fetchers.get(O)||YR}function Yr(O,H){En(O,H==null?void 0:H.reason),on(O,Xi(null))}function fs(O){let H=b.fetchers.get(O);G.has(O)&&!(H&&H.state==="loading"&&B.has(O))&&En(O),me.delete(O),B.delete(O),te.delete(O),be.delete(O),pe.delete(O),b.fetchers.delete(O)}function Xr(O){let H=(ge.get(O)||0)-1;H<=0?(ge.delete(O),be.add(O)):ge.set(O,H),st({fetchers:new Map(b.fetchers)})}function En(O,H){let Y=G.get(O);Y&&(Y.abort(H),G.delete(O))}function ps(O){for(let H of O){let Y=Qr(H),se=Xi(Y.data);b.fetchers.set(H,se)}}function Kn(){let O=[],H=!1;for(let Y of te){let se=b.fetchers.get(Y);tt(se,`Expected fetcher: ${Y}`),se.state==="loading"&&(te.delete(Y),O.push(Y),H=!0)}return ps(O),H}function Pi(O){let H=[];for(let[Y,se]of B)if(se<O){let ue=b.fetchers.get(Y);tt(ue,`Expected fetcher: ${Y}`),ue.state==="loading"&&(En(Y),B.delete(Y),H.push(Y))}return ps(H),H.length>0}function Jr(O,H){let Y=b.blockers.get(O)||cu;return Fe.get(O)!==H&&Fe.set(O,H),Y}function Ni(O){b.blockers.delete(O),Fe.delete(O)}function qn(O,H){let Y=b.blockers.get(O)||cu;tt(Y.state==="unblocked"&&H.state==="blocked"||Y.state==="blocked"&&H.state==="blocked"||Y.state==="blocked"&&H.state==="proceeding"||Y.state==="blocked"&&H.state==="unblocked"||Y.state==="proceeding"&&H.state==="unblocked",`Invalid blocker state transition: ${Y.state} -> ${H.state}`);let se=new Map(b.blockers);se.set(O,H),st({blockers:se})}function yr({currentLocation:O,nextLocation:H,historyAction:Y}){if(Fe.size===0)return;Fe.size>1&&Jt(!1,"A router only supports one blocker at a time");let se=Array.from(Fe.entries()),[ue,we]=se[se.length-1],Ve=b.blockers.get(ue);if(!(Ve&&Ve.state==="proceeding")&&we({currentLocation:O,nextLocation:H,historyAction:Y}))return ue}function _t(O){let H=br(404,{pathname:O}),Y=d||c,{matches:se,route:ue}=Sh(Y);return{notFoundMatches:se,route:ue,error:H}}function wo(O,H,Y){if(C=O,P=H,N=Y||null,!U&&b.navigation===Mp){U=!0;let se=_o(b.location,b.matches);se!=null&&st({restoreScrollPosition:se})}return()=>{C=null,P=null,N=null}}function Nr(O,H){return N&&N(O,H.map(se=>ER(se,b.loaderData)))||O.key}function Zr(O,H){if(C&&P){let Y=Nr(O,H);C[Y]=P()}}function _o(O,H){if(C){let Y=Nr(O,H),se=C[Y];if(typeof se=="number")return se}return null}function Di(O,H,Y){if(t.patchRoutesOnNavigation)if(O){if(Object.keys(O[0].params).length>0)return{active:!0,matches:yu(H,Y,p,!0)}}else return{active:!0,matches:yu(H,Y,p,!0)||[]};return{active:!1,matches:null}}async function Vn(O,H,Y,se){if(!t.patchRoutesOnNavigation)return{type:"success",matches:O};let ue=O;for(;;){let we=d==null,Ve=d||c,ye=l;try{await t.patchRoutesOnNavigation({signal:Y,path:H,matches:ue,fetcherKey:se,patch:(He,De)=>{Y.aborted||Nw(He,De,Ve,ye,a,!1)}})}catch(He){return{type:"error",error:He,partialMatches:ue}}finally{we&&!Y.aborted&&(c=[...c])}if(Y.aborted)return{type:"aborted"};let xe=js(Ve,H,p),Ee=null;if(xe){if(Object.keys(xe[0].params).length===0)return{type:"success",matches:xe};if(Ee=yu(Ve,H,p,!0),!(Ee&&ue.length<Ee.length&&xo(ue,Ee.slice(0,ue.length))))return{type:"success",matches:xe}}if(Ee||(Ee=yu(Ve,H,p,!0)),!Ee||xo(ue,Ee))return{type:"success",matches:null};ue=Ee}}function xo(O,H){return O.length===H.length&&O.every((Y,se)=>Y.route.id===H[se].route.id)}function Mi(O){l={},d=zu(O,a,void 0,l)}function ei(O,H,Y=!1){let se=d==null;Nw(O,H,d||c,l,a,Y),se&&(c=[...c],st({}))}return ne={get basename(){return p},get future(){return y},get state(){return b},get routes(){return c},get window(){return e},initialize:it,subscribe:xn,enableScrollRestoration:wo,navigate:or,fetch:ar,revalidate:ha,createHref:O=>t.history.createHref(O),encodeLocation:O=>t.history.encodeLocation(O),getFetcher:Qr,resetFetcher:Yr,deleteFetcher:Xr,dispose:mt,getBlocker:Jr,deleteBlocker:Ni,patchRoutes:ei,_internalFetchControllers:G,_internalSetRoutes:Mi,_internalSetStateDoNotUseOrYouWillBreakYourApp(O){st(O)}},t.unstable_instrumentations&&(ne=zR(ne,t.unstable_instrumentations.map(O=>O.router).filter(Boolean))),ne}function ZR(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function ym(t,e,n,r,s,a){let l,c;if(s){l=[];for(let p of e)if(l.push(p),p.route.id===s){c=p;break}}else l=e,c=e[e.length-1];let d=Cg(r||".",bg(l),Ar(t.pathname,n)||t.pathname,a==="path");if(r==null&&(d.search=t.search,d.hash=t.hash),(r==null||r===""||r===".")&&c){let p=kg(d.search);if(c.route.index&&!p)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&p){let g=new URLSearchParams(d.search),y=g.getAll("index");g.delete("index"),y.filter(T=>T).forEach(T=>g.append("index",T));let _=g.toString();d.search=_?`?${_}`:""}}return n!=="/"&&(d.pathname=LR({basename:n,pathname:d.pathname})),Ti(d)}function kw(t,e,n){if(!n||!ZR(n))return{path:e};if(n.formMethod&&!vA(n.formMethod))return{path:e,error:br(405,{method:n.formMethod})};let r=()=>({path:e,error:br(400,{type:"invalid-body"})}),a=(n.formMethod||"get").toUpperCase(),l=IT(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!kn(a))return r();let y=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((_,[T,C])=>`${_}${T}=${C}
`,""):String(n.body);return{path:e,submission:{formMethod:a,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:y}}}else if(n.formEncType==="application/json"){if(!kn(a))return r();try{let y=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:a,formAction:l,formEncType:n.formEncType,formData:void 0,json:y,text:void 0}}}catch{return r()}}}tt(typeof FormData=="function","FormData is not available in this environment");let c,d;if(n.formData)c=_m(n.formData),d=n.formData;else if(n.body instanceof FormData)c=_m(n.body),d=n.body;else if(n.body instanceof URLSearchParams)c=n.body,d=Ow(c);else if(n.body==null)c=new URLSearchParams,d=new FormData;else try{c=new URLSearchParams(n.body),d=Ow(c)}catch{return r()}let p={formMethod:a,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(kn(p.formMethod))return{path:e,submission:p};let g=ho(e);return t&&g.search&&kg(g.search)&&c.append("index",""),g.search=`?${c}`,{path:Ti(g),submission:p}}function Pw(t,e,n,r,s,a,l,c,d,p,g,y,_,T,C,N,P,U,F,W,Q){var Ke;let ee=W?mr(W[1])?W[1].error:W[1].data:void 0,ne=s.createURL(a.location),b=s.createURL(d),S;if(g&&a.errors){let Oe=Object.keys(a.errors)[0];S=l.findIndex(pe=>pe.route.id===Oe)}else if(W&&mr(W[1])){let Oe=W[0];S=l.findIndex(pe=>pe.route.id===Oe)-1}let A=W?W[1].statusCode:void 0,L=A&&A>=400,V={currentUrl:ne,currentParams:((Ke=a.matches[0])==null?void 0:Ke.params)||{},nextUrl:b,nextParams:l[0].params,...c,actionResult:ee,actionStatus:A},z=rc(l),D=l.map((Oe,pe)=>{let{route:G}=Oe,de=null;if(S!=null&&pe>S?de=!1:G.lazy?de=!0:Rg(G)?g?de=vm(G,a.loaderData,a.errors):eA(a.loaderData,a.matches[pe],Oe)&&(de=!0):de=!1,de!==null)return wm(n,r,t,z,Oe,p,e,de);let re=!1;typeof Q=="boolean"?re=Q:L?re=!1:(y||ne.pathname+ne.search===b.pathname+b.search||ne.search!==b.search||tA(a.matches[pe],Oe))&&(re=!0);let B={...V,defaultShouldRevalidate:re},te=bu(Oe,B);return wm(n,r,t,z,Oe,p,e,te,B,Q)}),je=[];return C.forEach((Oe,pe)=>{if(g||!l.some(be=>be.route.id===Oe.routeId)||T.has(pe))return;let G=a.fetchers.get(pe),de=G&&G.state!=="idle"&&G.data===void 0,re=js(P,Oe.path,U);if(!re){if(F&&de)return;je.push({key:pe,routeId:Oe.routeId,path:Oe.path,matches:null,match:null,request:null,controller:null});return}if(N.has(pe))return;let B=Uh(re,Oe.path),te=new AbortController,me=Ha(s,Oe.path,te.signal),ge=null;if(_.has(pe))_.delete(pe),ge=tl(n,r,me,re,B,p,e);else if(de)y&&(ge=tl(n,r,me,re,B,p,e));else{let be;typeof Q=="boolean"?be=Q:L?be=!1:be=y;let Fe={...V,defaultShouldRevalidate:be};bu(B,Fe)&&(ge=tl(n,r,me,re,B,p,e,Fe))}ge&&je.push({key:pe,routeId:Oe.routeId,path:Oe.path,matches:ge,match:B,request:me,controller:te})}),{dsMatches:D,revalidatingFetchers:je}}function Rg(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function vm(t,e,n){if(t.lazy)return!0;if(!Rg(t))return!1;let r=e!=null&&t.id in e,s=n!=null&&n[t.id]!==void 0;return!r&&s?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!s}function eA(t,e,n){let r=!e||n.route.id!==e.route.id,s=!t.hasOwnProperty(n.route.id);return r||s}function tA(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function bu(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Nw(t,e,n,r,s,a){let l;if(t){let p=r[t];tt(p,`No route found to patch children into: routeId = ${t}`),p.children||(p.children=[]),l=p.children}else l=n;let c=[],d=[];if(e.forEach(p=>{let g=l.find(y=>_T(p,y));g?d.push({existingRoute:g,newRoute:p}):c.push(p)}),c.length>0){let p=zu(c,s,[t||"_","patch",String((l==null?void 0:l.length)||"0")],r);l.push(...p)}if(a&&d.length>0)for(let p=0;p<d.length;p++){let{existingRoute:g,newRoute:y}=d[p],_=g,[T]=zu([y],s,[],{},!0);Object.assign(_,{element:T.element?T.element:_.element,errorElement:T.errorElement?T.errorElement:_.errorElement,hydrateFallbackElement:T.hydrateFallbackElement?T.hydrateFallbackElement:_.hydrateFallbackElement})}}function _T(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var s;return(s=e.children)==null?void 0:s.some(a=>_T(n,a))}):!1}var Dw=new WeakMap,xT=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let s=n[e.id];if(tt(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let a=s.lazy[t];if(!a)return;let l=Dw.get(s);l||(l={},Dw.set(s,l));let c=l[t];if(c)return c;let d=(async()=>{let p=vR(t),y=s[t]!==void 0&&t!=="hasErrorBoundary";if(p)Jt(!p,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),l[t]=Promise.resolve();else if(y)Jt(!1,`Route "${s.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let _=await a();_!=null&&(Object.assign(s,{[t]:_}),Object.assign(s,r(s)))}typeof s.lazy=="object"&&(s.lazy[t]=void 0,Object.values(s.lazy).every(_=>_===void 0)&&(s.lazy=void 0))})();return l[t]=d,d},Mw=new WeakMap;function nA(t,e,n,r,s){let a=n[t.id];if(tt(a,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let g=Mw.get(a);if(g)return{lazyRoutePromise:g,lazyHandlerPromise:g};let y=(async()=>{tt(typeof t.lazy=="function","No lazy route function found");let _=await t.lazy(),T={};for(let C in _){let N=_[C];if(N===void 0)continue;let P=_R(C),F=a[C]!==void 0&&C!=="hasErrorBoundary";P?Jt(!P,"Route property "+C+" is not a supported property to be returned from a lazy route function. This property will be ignored."):F?Jt(!F,`Route "${a.id}" has a static property "${C}" defined but its lazy function is also returning a value for this property. The lazy route property "${C}" will be ignored.`):T[C]=N}Object.assign(a,T),Object.assign(a,{...r(a),lazy:void 0})})();return Mw.set(a,y),y.catch(()=>{}),{lazyRoutePromise:y,lazyHandlerPromise:y}}let l=Object.keys(t.lazy),c=[],d;for(let g of l){if(s&&s.includes(g))continue;let y=xT({key:g,route:t,manifest:n,mapRouteProperties:r});y&&(c.push(y),g===e&&(d=y))}let p=c.length>0?Promise.all(c).then(()=>{}):void 0;return p==null||p.catch(()=>{}),d==null||d.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:d}}async function Lw(t){let e=t.matches.filter(s=>s.shouldLoad),n={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,a)=>{n[e[a].route.id]=s}),n}async function rA(t){return t.matches.some(e=>e.route.middleware)?ET(t,()=>Lw(t)):Lw(t)}function ET(t,e){return iA(t,e,r=>{if(yA(r))throw r;return r},fA,n);function n(r,s,a){if(a)return Promise.resolve(Object.assign(a.value,{[s]:{type:"error",result:r}}));{let{matches:l}=t,c=Math.min(Math.max(l.findIndex(p=>p.route.id===s),0),Math.max(l.findIndex(p=>p.shouldCallHandler()),0)),d=Fs(l,l[c].route.id).route.id;return Promise.resolve({[d]:{type:"error",result:r}})}}}async function iA(t,e,n,r,s){let{matches:a,request:l,params:c,context:d,unstable_pattern:p}=t,g=a.flatMap(_=>_.route.middleware?_.route.middleware.map(T=>[_.route.id,T]):[]);return await TT({request:l,params:c,context:d,unstable_pattern:p},g,e,n,r,s)}async function TT(t,e,n,r,s,a,l=0){let{request:c}=t;if(c.signal.aborted)throw c.signal.reason??new Error(`Request aborted: ${c.method} ${c.url}`);let d=e[l];if(!d)return await n();let[p,g]=d,y,_=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");try{return y={value:await TT(t,e,n,r,s,a,l+1)},y.value}catch(T){return y={value:await a(T,p,y)},y.value}};try{let T=await g(t,_),C=T!=null?r(T):void 0;return s(C)?C:y?C??y.value:(y={value:await _()},y.value)}catch(T){return await a(T,p,y)}}function ST(t,e,n,r,s){let a=xT({key:"middleware",route:r.route,manifest:e,mapRouteProperties:t}),l=nA(r.route,kn(n.method)?"action":"loader",e,t,s);return{middleware:a,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function wm(t,e,n,r,s,a,l,c,d=null,p){let g=!1,y=ST(t,e,n,s,a);return{...s,_lazyPromises:y,shouldLoad:c,shouldRevalidateArgs:d,shouldCallHandler(_){return g=!0,d?typeof p=="boolean"?bu(s,{...d,defaultShouldRevalidate:p}):typeof _=="boolean"?bu(s,{...d,defaultShouldRevalidate:_}):bu(s,d):c},resolve(_){let{lazy:T,loader:C,middleware:N}=s.route,P=g||c||_&&!kn(n.method)&&(T||C),U=N&&N.length>0&&!C&&!T;return P&&(kn(n.method)||!U)?oA({request:n,unstable_pattern:r,match:s,lazyHandlerPromise:y==null?void 0:y.handler,lazyRoutePromise:y==null?void 0:y.route,handlerOverride:_,scopedContext:l}):Promise.resolve({type:"data",result:void 0})}}}function tl(t,e,n,r,s,a,l,c=null){return r.map(d=>d.route.id!==s.route.id?{...d,shouldLoad:!1,shouldRevalidateArgs:c,shouldCallHandler:()=>!1,_lazyPromises:ST(t,e,n,d,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}:wm(t,e,n,rc(r),d,a,l,!0,c))}async function sA(t,e,n,r,s,a){n.some(p=>{var g;return(g=p._lazyPromises)==null?void 0:g.middleware})&&await Promise.all(n.map(p=>{var g;return(g=p._lazyPromises)==null?void 0:g.middleware}));let l={request:e,unstable_pattern:rc(n),params:n[0].params,context:s,matches:n},d=await t({...l,fetcherKey:r,runClientMiddleware:p=>{let g=l;return ET(g,()=>p({...g,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(p=>{var g,y;return[(g=p._lazyPromises)==null?void 0:g.handler,(y=p._lazyPromises)==null?void 0:y.route]}))}catch{}return d}async function oA({request:t,unstable_pattern:e,match:n,lazyHandlerPromise:r,lazyRoutePromise:s,handlerOverride:a,scopedContext:l}){let c,d,p=kn(t.method),g=p?"action":"loader",y=_=>{let T,C=new Promise((U,F)=>T=F);d=()=>T(),t.signal.addEventListener("abort",d);let N=U=>typeof _!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${n.route.id}]`)):_({request:t,unstable_pattern:e,params:n.params,context:l},...U!==void 0?[U]:[]),P=(async()=>{try{return{type:"data",result:await(a?a(F=>N(F)):N())}}catch(U){return{type:"error",result:U}}})();return Promise.race([P,C])};try{let _=p?n.route.action:n.route.loader;if(r||s)if(_){let T,[C]=await Promise.all([y(_).catch(N=>{T=N}),r,s]);if(T!==void 0)throw T;c=C}else{await r;let T=p?n.route.action:n.route.loader;if(T)[c]=await Promise.all([y(T),s]);else if(g==="action"){let C=new URL(t.url),N=C.pathname+C.search;throw br(405,{method:t.method,pathname:N,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(_)c=await y(_);else{let T=new URL(t.url),C=T.pathname+T.search;throw br(404,{pathname:C})}}catch(_){return{type:"error",result:_}}finally{d&&t.signal.removeEventListener("abort",d)}return c}async function aA(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function lA(t){var r,s,a,l,c;let{result:e,type:n}=t;if(Ag(e)){let d;try{d=await aA(e)}catch(p){return{type:"error",error:p}}return n==="error"?{type:"error",error:new nc(e.status,e.statusText,d),statusCode:e.status,headers:e.headers}:{type:"data",data:d,statusCode:e.status,headers:e.headers}}return n==="error"?zw(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:dA(e),statusCode:Bu(e)?e.status:void 0,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Bu(e)?e.status:void 0}:zw(e)?{type:"data",data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function uA(t,e,n,r,s){let a=t.headers.get("Location");if(tt(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ig(a)){let l=r.slice(0,r.findIndex(c=>c.route.id===n)+1);a=ym(new URL(e.url),l,s,a),t.headers.set("Location",a)}return t}function Vw(t,e,n,r){let s=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(Ig(t)){let a=t,l=a.startsWith("//")?new URL(e.protocol+a):new URL(a);if(s.includes(l.protocol))throw new Error("Invalid redirect location");let c=Ar(l.pathname,n)!=null;if(l.origin===e.origin&&c)return l.pathname+l.search+l.hash}try{let a=r.createURL(t);if(s.includes(a.protocol))throw new Error("Invalid redirect location")}catch{}return t}function Ha(t,e,n,r){let s=t.createURL(IT(e)).toString(),a={signal:n};if(r&&kn(r.formMethod)){let{formMethod:l,formEncType:c}=r;a.method=l.toUpperCase(),c==="application/json"?(a.headers=new Headers({"Content-Type":c}),a.body=JSON.stringify(r.json)):c==="text/plain"?a.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?a.body=_m(r.formData):a.body=r.formData}return new Request(s,a)}function _m(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Ow(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function cA(t,e,n,r=!1,s=!1){let a={},l=null,c,d=!1,p={},g=n&&mr(n[1])?n[1].error:void 0;return t.forEach(y=>{if(!(y.route.id in e))return;let _=y.route.id,T=e[_];if(tt(!Wo(T),"Cannot handle redirect results in processLoaderData"),mr(T)){let C=T.error;if(g!==void 0&&(C=g,g=void 0),l=l||{},s)l[_]=C;else{let N=Fs(t,_);l[N.route.id]==null&&(l[N.route.id]=C)}r||(a[_]=wT),d||(d=!0,c=Bu(T.error)?T.error.status:500),T.headers&&(p[_]=T.headers)}else a[_]=T.data,T.statusCode&&T.statusCode!==200&&!d&&(c=T.statusCode),T.headers&&(p[_]=T.headers)}),g!==void 0&&n&&(l={[n[0]]:g},n[2]&&(a[n[2]]=void 0)),{loaderData:a,errors:l,statusCode:c||200,loaderHeaders:p}}function jw(t,e,n,r,s,a){let{loaderData:l,errors:c}=cA(e,n,r);return s.filter(d=>!d.matches||d.matches.some(p=>p.shouldLoad)).forEach(d=>{let{key:p,match:g,controller:y}=d;if(y&&y.signal.aborted)return;let _=a[p];if(tt(_,"Did not find corresponding fetcher result"),mr(_)){let T=Fs(t.matches,g==null?void 0:g.route.id);c&&c[T.route.id]||(c={...c,[T.route.id]:_.error}),t.fetchers.delete(p)}else if(Wo(_))tt(!1,"Unhandled fetcher revalidation redirect");else{let T=Xi(_.data);t.fetchers.set(p,T)}}),{loaderData:l,errors:c}}function Fw(t,e,n,r){let s=Object.entries(e).filter(([,a])=>a!==wT).reduce((a,[l,c])=>(a[l]=c,a),{});for(let a of n){let l=a.route.id;if(!e.hasOwnProperty(l)&&t.hasOwnProperty(l)&&a.route.loader&&(s[l]=t[l]),r&&r.hasOwnProperty(l))break}return s}function Uw(t){return t?mr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Fs(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Sh(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function br(t,{pathname:e,routeId:n,method:r,type:s,message:a}={}){let l="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(l="Bad Request",r&&e&&n?c=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:s==="invalid-body"&&(c="Unable to encode submission body")):t===403?(l="Forbidden",c=`Route "${n}" does not match URL "${e}"`):t===404?(l="Not Found",c=`No route matches URL "${e}"`):t===405&&(l="Method Not Allowed",r&&e&&n?c=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(c=`Invalid request method "${r.toUpperCase()}"`)),new nc(t||500,l,new Error(c),!0)}function Ih(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(Wo(s))return{key:r,result:s}}}function IT(t){let e=typeof t=="string"?ho(t):t;return Ti({...e,hash:""})}function hA(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function dA(t){var e,n;return new nc(((e=t.init)==null?void 0:e.status)??500,((n=t.init)==null?void 0:n.statusText)??"Internal Server Error",t.data)}function fA(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&pA(n))}function pA(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function mA(t){return Ag(t.result)&&yT.has(t.result.status)}function mr(t){return t.type==="error"}function Wo(t){return(t&&t.type)==="redirect"}function zw(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Ag(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function gA(t){return yT.has(t)}function yA(t){return Ag(t)&&gA(t.status)&&t.headers.has("Location")}function vA(t){return qR.has(t.toUpperCase())}function kn(t){return GR.has(t.toUpperCase())}function kg(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Uh(t,e){let n=typeof e=="string"?ho(e).search:e.search;if(t[t.length-1].route.index&&kg(n||""))return t[t.length-1];let r=dT(t);return r[r.length-1]}function Bw(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:a,json:l}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(a!=null)return{formMethod:e,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function Lp(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function wA(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function hu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function _A(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Xi(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function xA(t,e){try{let n=t.sessionStorage.getItem(vT);if(n){let r=JSON.parse(n);for(let[s,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(s,new Set(a||[]))}}catch{}}function EA(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(vT,JSON.stringify(n))}catch(r){Jt(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function $w(){let t,e,n=new Promise((r,s)=>{t=async a=>{r(a);try{await n}catch{}},e=async a=>{s(a);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var oa=k.createContext(null);oa.displayName="DataRouter";var ic=k.createContext(null);ic.displayName="DataRouterState";var bT=k.createContext(!1);function TA(){return k.useContext(bT)}var Pg=k.createContext({isTransitioning:!1});Pg.displayName="ViewTransition";var CT=k.createContext(new Map);CT.displayName="Fetchers";var SA=k.createContext(null);SA.displayName="Await";var Pr=k.createContext(null);Pr.displayName="Navigation";var Pd=k.createContext(null);Pd.displayName="Location";var ls=k.createContext({outlet:null,matches:[],isDataRoute:!1});ls.displayName="Route";var Ng=k.createContext(null);Ng.displayName="RouteError";var RT="REACT_ROUTER_ERROR",IA="REDIRECT",bA="ROUTE_ERROR_RESPONSE";function CA(t){if(t.startsWith(`${RT}:${IA}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function RA(t){if(t.startsWith(`${RT}:${bA}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new nc(e.status,e.statusText,e.data)}catch{}}function AA(t,{relative:e}={}){tt(sc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(Pr),{hash:s,pathname:a,search:l}=oc(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:vi([n,a])),r.createHref({pathname:c,search:l,hash:s})}function sc(){return k.useContext(Pd)!=null}function ir(){return tt(sc(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Pd).location}var AT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kT(t){k.useContext(Pr).static||k.useLayoutEffect(t)}function _n(){let{isDataRoute:t}=k.useContext(ls);return t?BA():kA()}function kA(){tt(sc(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(oa),{basename:e,navigator:n}=k.useContext(Pr),{matches:r}=k.useContext(ls),{pathname:s}=ir(),a=JSON.stringify(bg(r)),l=k.useRef(!1);return kT(()=>{l.current=!0}),k.useCallback((d,p={})=>{if(Jt(l.current,AT),!l.current)return;if(typeof d=="number"){n.go(d);return}let g=Cg(d,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:vi([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,a,s,t])}k.createContext(null);function oc(t,{relative:e}={}){let{matches:n}=k.useContext(ls),{pathname:r}=ir(),s=JSON.stringify(bg(n));return k.useMemo(()=>Cg(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function PA(t,e,n,r,s){tt(sc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=k.useContext(Pr),{matches:l}=k.useContext(ls),c=l[l.length-1],d=c?c.params:{},p=c?c.pathname:"/",g=c?c.pathnameBase:"/",y=c&&c.route;{let F=y&&y.path||"";NT(p,!y||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let _=ir(),T;T=_;let C=T.pathname||"/",N=C;if(g!=="/"){let F=g.replace(/^\//,"").split("/");N="/"+C.replace(/^\//,"").split("/").slice(F.length).join("/")}let P=js(t,{pathname:N});return Jt(y||P!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Jt(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),VA(P&&P.map(F=>Object.assign({},F,{params:Object.assign({},d,F.params),pathname:vi([g,a.encodeLocation?a.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?g:vi([g,a.encodeLocation?a.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),l,n,r,s)}function NA(){let t=zA(),e=Bu(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:a},"ErrorBoundary")," or"," ",k.createElement("code",{style:a},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:s},n):null,l)}var DA=k.createElement(NA,null),PT=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=RA(t.digest);n&&(t=n)}let e=t!==void 0?k.createElement(ls.Provider,{value:this.props.routeContext},k.createElement(Ng.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?k.createElement(MA,{error:t},e):e}};PT.contextType=bT;var Vp=new WeakMap;function MA({children:t,error:e}){let{basename:n}=k.useContext(Pr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=CA(e.digest);if(r){let s=Vp.get(e);if(s)throw s;let a=pT(r.location,n);if(fT&&!Vp.get(e))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw Vp.set(e,l),l}return k.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function LA({routeContext:t,match:e,children:n}){let r=k.useContext(oa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(ls.Provider,{value:t},n)}function VA(t,e=[],n=null,r=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let g=a.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);tt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let c=!1,d=-1;if(n)for(let g=0;g<a.length;g++){let y=a[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=g),y.route.id){let{loaderData:_,errors:T}=n,C=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||C){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}let p=n&&r?(g,y)=>{var _,T;r(g,{location:n.location,params:((T=(_=n.matches)==null?void 0:_[0])==null?void 0:T.params)??{},unstable_pattern:rc(n.matches),errorInfo:y})}:void 0;return a.reduceRight((g,y,_)=>{let T,C=!1,N=null,P=null;n&&(T=l&&y.route.id?l[y.route.id]:void 0,N=y.route.errorElement||DA,c&&(d<0&&_===0?(NT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,P=null):d===_&&(C=!0,P=y.route.hydrateFallbackElement||null)));let U=e.concat(a.slice(0,_+1)),F=()=>{let W;return T?W=N:C?W=P:y.route.Component?W=k.createElement(y.route.Component,null):y.route.element?W=y.route.element:W=g,k.createElement(LA,{match:y,routeContext:{outlet:g,matches:U,isDataRoute:n!=null},children:W})};return n&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?k.createElement(PT,{location:n.location,revalidation:n.revalidation,component:N,error:T,children:F(),routeContext:{outlet:null,matches:U,isDataRoute:!0},onError:p}):F()},null)}function Dg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OA(t){let e=k.useContext(oa);return tt(e,Dg(t)),e}function jA(t){let e=k.useContext(ic);return tt(e,Dg(t)),e}function FA(t){let e=k.useContext(ls);return tt(e,Dg(t)),e}function Mg(t){let e=FA(t),n=e.matches[e.matches.length-1];return tt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function UA(){return Mg("useRouteId")}function zA(){var r;let t=k.useContext(Ng),e=jA("useRouteError"),n=Mg("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function BA(){let{router:t}=OA("useNavigate"),e=Mg("useNavigate"),n=k.useRef(!1);return kT(()=>{n.current=!0}),k.useCallback(async(s,a={})=>{Jt(n.current,AT),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var Hw={};function NT(t,e,n){!e&&!Hw[t]&&(Hw[t]=!0,Jt(!1,n))}var Ww={};function Gw(t,e){!t&&!Ww[e]&&(Ww[e]=!0,console.warn(e))}var $A="useOptimistic",Kw=hR[$A],HA=()=>{};function WA(t){return Kw?Kw(t):[t,HA]}function GA(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Jt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:k.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Jt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:k.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Jt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:k.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var KA=["HydrateFallback","hydrateFallbackElement"],qA=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function QA({router:t,flushSync:e,onError:n,unstable_useTransitions:r}){r=TA()||r;let[a,l]=k.useState(t.state),[c,d]=WA(a),[p,g]=k.useState(),[y,_]=k.useState({isTransitioning:!1}),[T,C]=k.useState(),[N,P]=k.useState(),[U,F]=k.useState(),W=k.useRef(new Map),Q=k.useCallback((S,{deletedFetchers:A,newErrors:L,flushSync:V,viewTransitionOpts:z})=>{L&&n&&Object.values(L).forEach(je=>{var Ke;return n(je,{location:S.location,params:((Ke=S.matches[0])==null?void 0:Ke.params)??{},unstable_pattern:rc(S.matches)})}),S.fetchers.forEach((je,Ke)=>{je.data!==void 0&&W.current.set(Ke,je.data)}),A.forEach(je=>W.current.delete(je)),Gw(V===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let D=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(Gw(z==null||D,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!z||!D){e&&V?e(()=>l(S)):r===!1?l(S):k.startTransition(()=>{r===!0&&d(je=>qw(je,S)),l(S)});return}if(e&&V){e(()=>{N&&(T==null||T.resolve(),N.skipTransition()),_({isTransitioning:!0,flushSync:!0,currentLocation:z.currentLocation,nextLocation:z.nextLocation})});let je=t.window.document.startViewTransition(()=>{e(()=>l(S))});je.finished.finally(()=>{e(()=>{C(void 0),P(void 0),g(void 0),_({isTransitioning:!1})})}),e(()=>P(je));return}N?(T==null||T.resolve(),N.skipTransition(),F({state:S,currentLocation:z.currentLocation,nextLocation:z.nextLocation})):(g(S),_({isTransitioning:!0,flushSync:!1,currentLocation:z.currentLocation,nextLocation:z.nextLocation}))},[t.window,e,N,T,r,d,n]);k.useLayoutEffect(()=>t.subscribe(Q),[t,Q]),k.useEffect(()=>{y.isTransitioning&&!y.flushSync&&C(new qA)},[y]),k.useEffect(()=>{if(T&&p&&t.window){let S=p,A=T.promise,L=t.window.document.startViewTransition(async()=>{r===!1?l(S):k.startTransition(()=>{r===!0&&d(V=>qw(V,S)),l(S)}),await A});L.finished.finally(()=>{C(void 0),P(void 0),g(void 0),_({isTransitioning:!1})}),P(L)}},[p,T,t.window,r,d]),k.useEffect(()=>{T&&p&&c.location.key===p.location.key&&T.resolve()},[T,N,c.location,p]),k.useEffect(()=>{!y.isTransitioning&&U&&(g(U.state),_({isTransitioning:!0,flushSync:!1,currentLocation:U.currentLocation,nextLocation:U.nextLocation}),F(void 0))},[y.isTransitioning,U]);let ee=k.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:S=>t.navigate(S),push:(S,A,L)=>t.navigate(S,{state:A,preventScrollReset:L==null?void 0:L.preventScrollReset}),replace:(S,A,L)=>t.navigate(S,{replace:!0,state:A,preventScrollReset:L==null?void 0:L.preventScrollReset})}),[t]),ne=t.basename||"/",b=k.useMemo(()=>({router:t,navigator:ee,static:!1,basename:ne,onError:n}),[t,ee,ne,n]);return k.createElement(k.Fragment,null,k.createElement(oa.Provider,{value:b},k.createElement(ic.Provider,{value:c},k.createElement(CT.Provider,{value:W.current},k.createElement(Pg.Provider,{value:y},k.createElement(JA,{basename:ne,location:c.location,navigationType:c.historyAction,navigator:ee,unstable_useTransitions:r},k.createElement(YA,{routes:t.routes,future:t.future,state:c,onError:n})))))),null)}function qw(t,e){return{...t,navigation:e.navigation.state!=="idle"?e.navigation:t.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:t.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:t.actionData,fetchers:e.fetchers}}var YA=k.memo(XA);function XA({routes:t,future:e,state:n,onError:r}){return PA(t,void 0,n,r,e)}function JA({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1,unstable_useTransitions:l}){tt(!sc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=k.useMemo(()=>({basename:c,navigator:s,static:a,unstable_useTransitions:l,future:{}}),[c,s,a,l]);typeof n=="string"&&(n=ho(n));let{pathname:p="/",search:g="",hash:y="",state:_=null,key:T="default"}=n,C=k.useMemo(()=>{let N=Ar(p,c);return N==null?null:{location:{pathname:N,search:g,hash:y,state:_,key:T},navigationType:r}},[c,p,g,y,_,T,r]);return Jt(C!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:k.createElement(Pr.Provider,{value:d},k.createElement(Pd.Provider,{children:e,value:C}))}var zh="get",Bh="application/x-www-form-urlencoded";function Nd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function ZA(t){return Nd(t)&&t.tagName.toLowerCase()==="button"}function ek(t){return Nd(t)&&t.tagName.toLowerCase()==="form"}function tk(t){return Nd(t)&&t.tagName.toLowerCase()==="input"}function nk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function rk(t,e){return t.button===0&&(!e||e==="_self")&&!nk(t)}var bh=null;function ik(){if(bh===null)try{new FormData(document.createElement("form"),0),bh=!1}catch{bh=!0}return bh}var sk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Op(t){return t!=null&&!sk.has(t)?(Jt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bh}"`),null):t}function ok(t,e){let n,r,s,a,l;if(ek(t)){let c=t.getAttribute("action");r=c?Ar(c,e):null,n=t.getAttribute("method")||zh,s=Op(t.getAttribute("enctype"))||Bh,a=new FormData(t)}else if(ZA(t)||tk(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?Ar(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||zh,s=Op(t.getAttribute("formenctype"))||Op(c.getAttribute("enctype"))||Bh,a=new FormData(c,t),!ik()){let{name:p,type:g,value:y}=t;if(g==="image"){let _=p?`${p}.`:"";a.append(`${_}x`,"0"),a.append(`${_}y`,"0")}else p&&a.append(p,y)}}else{if(Nd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zh,r=null,s=Bh,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Lg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ak(t,e,n,r){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${r}`:s.pathname=`${s.pathname}.${r}`:s.pathname==="/"?s.pathname=`_root.${r}`:e&&Ar(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function lk(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uk(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ck(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await lk(a,n);return l.links?l.links():[]}return[]}));return pk(r.flat(1).filter(uk).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Qw(t,e,n,r,s,a){let l=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,c=(d,p)=>{var g;return n[p].pathname!==d.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,p)=>l(d,p)||c(d,p)):a==="data"?e.filter((d,p)=>{var y;let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(l(d,p)||c(d,p))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((y=n[0])==null?void 0:y.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function hk(t,e,{includeHydrateFallback:n}={}){return dk(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function dk(t){return[...new Set(t)]}function fk(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function pk(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(fk(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function DT(){let t=k.useContext(oa);return Lg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function mk(){let t=k.useContext(ic);return Lg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Vg=k.createContext(void 0);Vg.displayName="FrameworkContext";function MT(){let t=k.useContext(Vg);return Lg(t,"You must render this element inside a <HydratedRouter> element"),t}function gk(t,e){let n=k.useContext(Vg),[r,s]=k.useState(!1),[a,l]=k.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=e,_=k.useRef(null);k.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let N=U=>{U.forEach(F=>{l(F.isIntersecting)})},P=new IntersectionObserver(N,{threshold:.5});return _.current&&P.observe(_.current),()=>{P.disconnect()}}},[t]),k.useEffect(()=>{if(r){let N=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(N)}}},[r]);let T=()=>{s(!0)},C=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,_,{}]:[a,_,{onFocus:du(c,T),onBlur:du(d,C),onMouseEnter:du(p,T),onMouseLeave:du(g,C),onTouchStart:du(y,T)}]:[!1,_,{}]}function du(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function yk({page:t,...e}){let{router:n}=DT(),r=k.useMemo(()=>js(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?k.createElement(wk,{page:t,matches:r,...e}):null}function vk(t){let{manifest:e,routeModules:n}=MT(),[r,s]=k.useState([]);return k.useEffect(()=>{let a=!1;return ck(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),r}function wk({page:t,matches:e,...n}){let r=ir(),{future:s,manifest:a,routeModules:l}=MT(),{basename:c}=DT(),{loaderData:d,matches:p}=mk(),g=k.useMemo(()=>Qw(t,e,p,a,r,"data"),[t,e,p,a,r]),y=k.useMemo(()=>Qw(t,e,p,a,r,"assets"),[t,e,p,a,r]),_=k.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let N=new Set,P=!1;if(e.forEach(F=>{var Q;let W=a.routes[F.route.id];!W||!W.hasLoader||(!g.some(ee=>ee.route.id===F.route.id)&&F.route.id in d&&((Q=l[F.route.id])!=null&&Q.shouldRevalidate)||W.hasClientLoader?P=!0:N.add(F.route.id))}),N.size===0)return[];let U=ak(t,c,s.unstable_trailingSlashAwareDataRequests,"data");return P&&N.size>0&&U.searchParams.set("_routes",e.filter(F=>N.has(F.route.id)).map(F=>F.route.id).join(",")),[U.pathname+U.search]},[c,s.unstable_trailingSlashAwareDataRequests,d,r,a,g,e,t,l]),T=k.useMemo(()=>hk(y,a),[y,a]),C=vk(y);return k.createElement(k.Fragment,null,_.map(N=>k.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),T.map(N=>k.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),C.map(({key:N,link:P})=>k.createElement("link",{key:N,nonce:n.nonce,...P,crossOrigin:P.crossOrigin??n.crossOrigin})))}function _k(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var xk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xk&&(window.__reactRouterVersion="7.13.0")}catch{}function Ek(t,e){return JR({basename:e==null?void 0:e.basename,getContext:e==null?void 0:e.getContext,future:e==null?void 0:e.future,history:pR({window:e==null?void 0:e.window}),hydrationData:Tk(),routes:t,mapRouteProperties:GA,hydrationRouteProperties:KA,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window,unstable_instrumentations:e==null?void 0:e.unstable_instrumentations}).initialize()}function Tk(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:Sk(t.errors)}),t}function Sk(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new nc(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let a=window[s.__subType];if(typeof a=="function")try{let l=new a(s.message);l.stack="",n[r]=l}catch{}}if(n[r]==null){let a=new Error(s.message);a.stack="",n[r]=a}}else n[r]=s;return n}var LT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cu=k.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:c,target:d,to:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:_,...T},C){let{basename:N,unstable_useTransitions:P}=k.useContext(Pr),U=typeof p=="string"&&LT.test(p),F=pT(p,N);p=F.to;let W=AA(p,{relative:s}),[Q,ee,ne]=gk(r,T),b=Rk(p,{replace:l,state:c,target:d,preventScrollReset:g,relative:s,viewTransition:y,unstable_defaultShouldRevalidate:_,unstable_useTransitions:P});function S(L){e&&e(L),L.defaultPrevented||b(L)}let A=k.createElement("a",{...T,...ne,href:F.absoluteURL||W,onClick:F.isExternal||a?e:S,ref:_k(C,ee),target:d,"data-discover":!U&&n==="render"?"true":void 0});return Q&&!U?k.createElement(k.Fragment,null,A,k.createElement(yk,{page:W})):A});Cu.displayName="Link";var Ik=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:c,children:d,...p},g){let y=oc(l,{relative:p.relative}),_=ir(),T=k.useContext(ic),{navigator:C,basename:N}=k.useContext(Pr),P=T!=null&&Dk(y)&&c===!0,U=C.encodeLocation?C.encodeLocation(y).pathname:y.pathname,F=_.pathname,W=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;n||(F=F.toLowerCase(),W=W?W.toLowerCase():null,U=U.toLowerCase()),W&&N&&(W=Ar(W,N)||W);const Q=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let ee=F===U||!s&&F.startsWith(U)&&F.charAt(Q)==="/",ne=W!=null&&(W===U||!s&&W.startsWith(U)&&W.charAt(U.length)==="/"),b={isActive:ee,isPending:ne,isTransitioning:P},S=ee?e:void 0,A;typeof r=="function"?A=r(b):A=[r,ee?"active":null,ne?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(b):a;return k.createElement(Cu,{...p,"aria-current":S,className:A,ref:g,style:L,to:l,viewTransition:c},typeof d=="function"?d(b):d)});Ik.displayName="NavLink";var bk=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:l=zh,action:c,onSubmit:d,relative:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:_,...T},C)=>{let{unstable_useTransitions:N}=k.useContext(Pr),P=Pk(),U=Nk(c,{relative:p}),F=l.toLowerCase()==="get"?"get":"post",W=typeof c=="string"&&LT.test(c),Q=ee=>{if(d&&d(ee),ee.defaultPrevented)return;ee.preventDefault();let ne=ee.nativeEvent.submitter,b=(ne==null?void 0:ne.getAttribute("formmethod"))||l,S=()=>P(ne||ee.currentTarget,{fetcherKey:e,method:b,navigate:n,replace:s,state:a,relative:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:_});N&&n!==!1?k.startTransition(()=>S()):S()};return k.createElement("form",{ref:C,method:F,action:U,onSubmit:r?d:Q,...T,"data-discover":!W&&t==="render"?"true":void 0})});bk.displayName="Form";function Ck(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VT(t){let e=k.useContext(oa);return tt(e,Ck(t)),e}function Rk(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:c,unstable_useTransitions:d}={}){let p=_n(),g=ir(),y=oc(t,{relative:a});return k.useCallback(_=>{if(rk(_,e)){_.preventDefault();let T=n!==void 0?n:Ti(g)===Ti(y),C=()=>p(t,{replace:T,state:r,preventScrollReset:s,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:c});d?k.startTransition(()=>C()):C()}},[g,p,y,n,r,e,t,s,a,l,c,d])}var Ak=0,kk=()=>`__${String(++Ak)}__`;function Pk(){let{router:t}=VT("useSubmit"),{basename:e}=k.useContext(Pr),n=UA(),r=t.fetch,s=t.navigate;return k.useCallback(async(a,l={})=>{let{action:c,method:d,encType:p,formData:g,body:y}=ok(a,e);if(l.navigate===!1){let _=l.fetcherKey||kk();await r(_,n,l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||d,formEncType:l.encType||p,flushSync:l.flushSync})}else await s(l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||d,formEncType:l.encType||p,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,s,e,n])}function Nk(t,{relative:e}={}){let{basename:n}=k.useContext(Pr),r=k.useContext(ls);tt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...oc(t||".",{relative:e})},l=ir();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(g=>g==="")){c.delete("index"),d.filter(y=>y).forEach(y=>c.append("index",y));let g=c.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:vi([n,a.pathname])),Ti(a)}function Dk(t,{relative:e}={}){let n=k.useContext(Pg);tt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=VT("useViewTransitionState"),s=oc(t,{relative:e});if(!n.isTransitioning)return!1;let a=Ar(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Ar(n.nextLocation.pathname,r)||n.nextLocation.pathname;return rd(s.pathname,l)!=null||rd(s.pathname,a)!=null}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk=()=>{};var Yw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Lk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],c=t[n++],d=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},jT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,c=l?t[s+1]:0,d=s+2<t.length,p=d?t[s+2]:0,g=a>>2,y=(a&3)<<4|c>>4;let _=(c&15)<<2|p>>6,T=p&63;d||(T=64,l||(_=64)),r.push(n[g],n[y],n[_],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Lk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const y=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||c==null||p==null||y==null)throw new Vk;const _=a<<2|c>>4;if(r.push(_),p!==64){const T=c<<4&240|p>>2;if(r.push(T),y!==64){const C=p<<6&192|y;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Vk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ok=function(t){const e=OT(t);return jT.encodeByteArray(e,!0)},id=function(t){return Ok(t).replace(/\./g,"")},FT=function(t){try{return jT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=()=>jk().__FIREBASE_DEFAULTS__,Uk=()=>{if(typeof process>"u"||typeof Yw>"u")return;const t=Yw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&FT(t[1]);return e&&JSON.parse(e)},Dd=()=>{try{return Mk()||Fk()||Uk()||zk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},UT=t=>{var e,n;return(n=(e=Dd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},zT=t=>{const e=UT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},BT=()=>{var t;return(t=Dd())==null?void 0:t.config},$T=t=>{var e;return(e=Dd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Og(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[id(JSON.stringify(n)),id(JSON.stringify(l)),""].join(".")}const Ru={};function $k(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ru))Ru[e]?t.emulator.push(e):t.prod.push(e);return t}function Hk(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Xw=!1;function jg(t,e){if(typeof window>"u"||typeof document>"u"||!aa(window.location.host)||Ru[t]===e||Ru[t]||Xw)return;Ru[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",a=$k().prod.length>0;function l(){const _=document.getElementById(r);_&&_.remove()}function c(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function d(_,T){_.setAttribute("width","24"),_.setAttribute("id",T),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function p(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{Xw=!0,l()},_}function g(_,T){_.setAttribute("id",T),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=Hk(r),T=n("text"),C=document.getElementById(T)||document.createElement("span"),N=n("learnmore"),P=document.getElementById(N)||document.createElement("a"),U=n("preprendIcon"),F=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const W=_.element;c(W),g(P,N);const Q=p();d(F,U),W.append(F,C,P,Q),document.body.appendChild(W)}a?(C.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Wk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ln())}function Gk(){var e;const t=(e=Dd())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Kk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Qk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Yk(){const t=Ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Xk(){return!Gk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jk(){try{return typeof indexedDB=="object"}catch{return!1}}function Zk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP="FirebaseError";class Ri extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eP,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ac.prototype.create)}}class ac{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?tP(a,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new Ri(s,c,r)}}function tP(t,e){return t.replace(nP,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const nP=/\{\$([^}]+)}/g;function rP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ea(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if(Jw(a)&&Jw(l)){if(!ea(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Jw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function wu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function iP(t,e){const n=new sP(t,e);return n.subscribe.bind(n)}class sP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");oP(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=jp),s.error===void 0&&(s.error=jp),s.complete===void 0&&(s.complete=jp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function jp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t){return t&&t._delegate?t._delegate:t}class no{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Bk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uP(e))try{this.getOrInitializeService({instanceIdentifier:$o})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=$o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$o){return this.instances.has(e)}getOptions(e=$o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$o){return this.component?this.component.multipleInstances?e:$o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lP(t){return t===$o?void 0:t}function uP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(rt||(rt={}));const hP={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},dP=rt.INFO,fP={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},pP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=fP[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fg{constructor(e){this.name=e,this._logLevel=dP,this._logHandler=pP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const mP=(t,e)=>e.some(n=>t instanceof n);let Zw,e_;function gP(){return Zw||(Zw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yP(){return e_||(e_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WT=new WeakMap,xm=new WeakMap,GT=new WeakMap,Fp=new WeakMap,Ug=new WeakMap;function vP(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Ks(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&WT.set(n,t)}).catch(()=>{}),Ug.set(e,t),e}function wP(t){if(xm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});xm.set(t,e)}let Em={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return xm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||GT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ks(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _P(t){Em=t(Em)}function xP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Up(this),e,...n);return GT.set(r,e.sort?e.sort():[e]),Ks(r)}:yP().includes(t)?function(...e){return t.apply(Up(this),e),Ks(WT.get(this))}:function(...e){return Ks(t.apply(Up(this),e))}}function EP(t){return typeof t=="function"?xP(t):(t instanceof IDBTransaction&&wP(t),mP(t,gP())?new Proxy(t,Em):t)}function Ks(t){if(t instanceof IDBRequest)return vP(t);if(Fp.has(t))return Fp.get(t);const e=EP(t);return e!==t&&(Fp.set(t,e),Ug.set(e,t)),e}const Up=t=>Ug.get(t);function TP(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),c=Ks(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Ks(l.result),d.oldVersion,d.newVersion,Ks(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),s&&d.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const SP=["get","getKey","getAll","getAllKeys","count"],IP=["put","add","delete","clear"],zp=new Map;function t_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zp.get(e))return zp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=IP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||SP.includes(n)))return;const a=async function(l,...c){const d=this.transaction(l,s?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[n](...c),s&&d.done]))[0]};return zp.set(e,a),a}_P(t=>({...t,get:(e,n,r)=>t_(e,n)||t.get(e,n,r),has:(e,n)=>!!t_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(CP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function CP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tm="@firebase/app",n_="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new Fg("@firebase/app"),RP="@firebase/app-compat",AP="@firebase/analytics-compat",kP="@firebase/analytics",PP="@firebase/app-check-compat",NP="@firebase/app-check",DP="@firebase/auth",MP="@firebase/auth-compat",LP="@firebase/database",VP="@firebase/data-connect",OP="@firebase/database-compat",jP="@firebase/functions",FP="@firebase/functions-compat",UP="@firebase/installations",zP="@firebase/installations-compat",BP="@firebase/messaging",$P="@firebase/messaging-compat",HP="@firebase/performance",WP="@firebase/performance-compat",GP="@firebase/remote-config",KP="@firebase/remote-config-compat",qP="@firebase/storage",QP="@firebase/storage-compat",YP="@firebase/firestore",XP="@firebase/ai",JP="@firebase/firestore-compat",ZP="firebase",eN="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="[DEFAULT]",tN={[Tm]:"fire-core",[RP]:"fire-core-compat",[kP]:"fire-analytics",[AP]:"fire-analytics-compat",[NP]:"fire-app-check",[PP]:"fire-app-check-compat",[DP]:"fire-auth",[MP]:"fire-auth-compat",[LP]:"fire-rtdb",[VP]:"fire-data-connect",[OP]:"fire-rtdb-compat",[jP]:"fire-fn",[FP]:"fire-fn-compat",[UP]:"fire-iid",[zP]:"fire-iid-compat",[BP]:"fire-fcm",[$P]:"fire-fcm-compat",[HP]:"fire-perf",[WP]:"fire-perf-compat",[GP]:"fire-rc",[KP]:"fire-rc-compat",[qP]:"fire-gcs",[QP]:"fire-gcs-compat",[YP]:"fire-fst",[JP]:"fire-fst-compat",[XP]:"fire-vertex","fire-js":"fire-js",[ZP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sd=new Map,nN=new Map,Im=new Map;function r_(t,e){try{t.container.addComponent(e)}catch(n){rs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ta(t){const e=t.name;if(Im.has(e))return rs.debug(`There were multiple attempts to register component ${e}.`),!1;Im.set(e,t);for(const n of sd.values())r_(n,t);for(const n of nN.values())r_(n,t);return!0}function Md(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function rr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qs=new ac("app","Firebase",rN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new no("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=eN;function KT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Sm,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw qs.create("bad-app-name",{appName:String(s)});if(n||(n=BT()),!n)throw qs.create("no-options");const a=sd.get(s);if(a){if(ea(n,a.options)&&ea(r,a.config))return a;throw qs.create("duplicate-app",{appName:s})}const l=new cP(s);for(const d of Im.values())l.addComponent(d);const c=new iN(n,r,l);return sd.set(s,c),c}function zg(t=Sm){const e=sd.get(t);if(!e&&t===Sm&&BT())return KT();if(!e)throw qs.create("no-app",{appName:t});return e}function wi(t,e,n){let r=tN[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rs.warn(l.join(" "));return}ta(new no(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="firebase-heartbeat-database",oN=1,$u="firebase-heartbeat-store";let Bp=null;function qT(){return Bp||(Bp=TP(sN,oN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($u)}catch(n){console.warn(n)}}}}).catch(t=>{throw qs.create("idb-open",{originalErrorMessage:t.message})})),Bp}async function aN(t){try{const n=(await qT()).transaction($u),r=await n.objectStore($u).get(QT(t));return await n.done,r}catch(e){if(e instanceof Ri)rs.warn(e.message);else{const n=qs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rs.warn(n.message)}}}async function i_(t,e){try{const r=(await qT()).transaction($u,"readwrite");await r.objectStore($u).put(e,QT(t)),await r.done}catch(n){if(n instanceof Ri)rs.warn(n.message);else{const r=qs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rs.warn(r.message)}}}function QT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=1024,uN=30;class cN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=s_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>uN){const l=fN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){rs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=s_(),{heartbeatsToSend:r,unsentEntries:s}=hN(this._heartbeatsCache.heartbeats),a=id(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return rs.warn(n),""}}}function s_(){return new Date().toISOString().substring(0,10)}function hN(t,e=lN){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),o_(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),o_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jk()?Zk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return i_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return i_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function o_(t){return id(JSON.stringify({version:2,heartbeats:t})).length}function fN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(t){ta(new no("platform-logger",e=>new bP(e),"PRIVATE")),ta(new no("heartbeat",e=>new cN(e),"PRIVATE")),wi(Tm,n_,t),wi(Tm,n_,"esm2020"),wi("fire-js","")}pN("");var a_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qs,YT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,S){function A(){}A.prototype=S.prototype,b.F=S.prototype,b.prototype=new A,b.prototype.constructor=b,b.D=function(L,V,z){for(var D=Array(arguments.length-2),je=2;je<arguments.length;je++)D[je-2]=arguments[je];return S.prototype[V].apply(L,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,S,A){A||(A=0);const L=Array(16);if(typeof S=="string")for(var V=0;V<16;++V)L[V]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(V=0;V<16;++V)L[V]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=b.g[0],A=b.g[1],V=b.g[2];let z=b.g[3],D;D=S+(z^A&(V^z))+L[0]+3614090360&4294967295,S=A+(D<<7&4294967295|D>>>25),D=z+(V^S&(A^V))+L[1]+3905402710&4294967295,z=S+(D<<12&4294967295|D>>>20),D=V+(A^z&(S^A))+L[2]+606105819&4294967295,V=z+(D<<17&4294967295|D>>>15),D=A+(S^V&(z^S))+L[3]+3250441966&4294967295,A=V+(D<<22&4294967295|D>>>10),D=S+(z^A&(V^z))+L[4]+4118548399&4294967295,S=A+(D<<7&4294967295|D>>>25),D=z+(V^S&(A^V))+L[5]+1200080426&4294967295,z=S+(D<<12&4294967295|D>>>20),D=V+(A^z&(S^A))+L[6]+2821735955&4294967295,V=z+(D<<17&4294967295|D>>>15),D=A+(S^V&(z^S))+L[7]+4249261313&4294967295,A=V+(D<<22&4294967295|D>>>10),D=S+(z^A&(V^z))+L[8]+1770035416&4294967295,S=A+(D<<7&4294967295|D>>>25),D=z+(V^S&(A^V))+L[9]+2336552879&4294967295,z=S+(D<<12&4294967295|D>>>20),D=V+(A^z&(S^A))+L[10]+4294925233&4294967295,V=z+(D<<17&4294967295|D>>>15),D=A+(S^V&(z^S))+L[11]+2304563134&4294967295,A=V+(D<<22&4294967295|D>>>10),D=S+(z^A&(V^z))+L[12]+1804603682&4294967295,S=A+(D<<7&4294967295|D>>>25),D=z+(V^S&(A^V))+L[13]+4254626195&4294967295,z=S+(D<<12&4294967295|D>>>20),D=V+(A^z&(S^A))+L[14]+2792965006&4294967295,V=z+(D<<17&4294967295|D>>>15),D=A+(S^V&(z^S))+L[15]+1236535329&4294967295,A=V+(D<<22&4294967295|D>>>10),D=S+(V^z&(A^V))+L[1]+4129170786&4294967295,S=A+(D<<5&4294967295|D>>>27),D=z+(A^V&(S^A))+L[6]+3225465664&4294967295,z=S+(D<<9&4294967295|D>>>23),D=V+(S^A&(z^S))+L[11]+643717713&4294967295,V=z+(D<<14&4294967295|D>>>18),D=A+(z^S&(V^z))+L[0]+3921069994&4294967295,A=V+(D<<20&4294967295|D>>>12),D=S+(V^z&(A^V))+L[5]+3593408605&4294967295,S=A+(D<<5&4294967295|D>>>27),D=z+(A^V&(S^A))+L[10]+38016083&4294967295,z=S+(D<<9&4294967295|D>>>23),D=V+(S^A&(z^S))+L[15]+3634488961&4294967295,V=z+(D<<14&4294967295|D>>>18),D=A+(z^S&(V^z))+L[4]+3889429448&4294967295,A=V+(D<<20&4294967295|D>>>12),D=S+(V^z&(A^V))+L[9]+568446438&4294967295,S=A+(D<<5&4294967295|D>>>27),D=z+(A^V&(S^A))+L[14]+3275163606&4294967295,z=S+(D<<9&4294967295|D>>>23),D=V+(S^A&(z^S))+L[3]+4107603335&4294967295,V=z+(D<<14&4294967295|D>>>18),D=A+(z^S&(V^z))+L[8]+1163531501&4294967295,A=V+(D<<20&4294967295|D>>>12),D=S+(V^z&(A^V))+L[13]+2850285829&4294967295,S=A+(D<<5&4294967295|D>>>27),D=z+(A^V&(S^A))+L[2]+4243563512&4294967295,z=S+(D<<9&4294967295|D>>>23),D=V+(S^A&(z^S))+L[7]+1735328473&4294967295,V=z+(D<<14&4294967295|D>>>18),D=A+(z^S&(V^z))+L[12]+2368359562&4294967295,A=V+(D<<20&4294967295|D>>>12),D=S+(A^V^z)+L[5]+4294588738&4294967295,S=A+(D<<4&4294967295|D>>>28),D=z+(S^A^V)+L[8]+2272392833&4294967295,z=S+(D<<11&4294967295|D>>>21),D=V+(z^S^A)+L[11]+1839030562&4294967295,V=z+(D<<16&4294967295|D>>>16),D=A+(V^z^S)+L[14]+4259657740&4294967295,A=V+(D<<23&4294967295|D>>>9),D=S+(A^V^z)+L[1]+2763975236&4294967295,S=A+(D<<4&4294967295|D>>>28),D=z+(S^A^V)+L[4]+1272893353&4294967295,z=S+(D<<11&4294967295|D>>>21),D=V+(z^S^A)+L[7]+4139469664&4294967295,V=z+(D<<16&4294967295|D>>>16),D=A+(V^z^S)+L[10]+3200236656&4294967295,A=V+(D<<23&4294967295|D>>>9),D=S+(A^V^z)+L[13]+681279174&4294967295,S=A+(D<<4&4294967295|D>>>28),D=z+(S^A^V)+L[0]+3936430074&4294967295,z=S+(D<<11&4294967295|D>>>21),D=V+(z^S^A)+L[3]+3572445317&4294967295,V=z+(D<<16&4294967295|D>>>16),D=A+(V^z^S)+L[6]+76029189&4294967295,A=V+(D<<23&4294967295|D>>>9),D=S+(A^V^z)+L[9]+3654602809&4294967295,S=A+(D<<4&4294967295|D>>>28),D=z+(S^A^V)+L[12]+3873151461&4294967295,z=S+(D<<11&4294967295|D>>>21),D=V+(z^S^A)+L[15]+530742520&4294967295,V=z+(D<<16&4294967295|D>>>16),D=A+(V^z^S)+L[2]+3299628645&4294967295,A=V+(D<<23&4294967295|D>>>9),D=S+(V^(A|~z))+L[0]+4096336452&4294967295,S=A+(D<<6&4294967295|D>>>26),D=z+(A^(S|~V))+L[7]+1126891415&4294967295,z=S+(D<<10&4294967295|D>>>22),D=V+(S^(z|~A))+L[14]+2878612391&4294967295,V=z+(D<<15&4294967295|D>>>17),D=A+(z^(V|~S))+L[5]+4237533241&4294967295,A=V+(D<<21&4294967295|D>>>11),D=S+(V^(A|~z))+L[12]+1700485571&4294967295,S=A+(D<<6&4294967295|D>>>26),D=z+(A^(S|~V))+L[3]+2399980690&4294967295,z=S+(D<<10&4294967295|D>>>22),D=V+(S^(z|~A))+L[10]+4293915773&4294967295,V=z+(D<<15&4294967295|D>>>17),D=A+(z^(V|~S))+L[1]+2240044497&4294967295,A=V+(D<<21&4294967295|D>>>11),D=S+(V^(A|~z))+L[8]+1873313359&4294967295,S=A+(D<<6&4294967295|D>>>26),D=z+(A^(S|~V))+L[15]+4264355552&4294967295,z=S+(D<<10&4294967295|D>>>22),D=V+(S^(z|~A))+L[6]+2734768916&4294967295,V=z+(D<<15&4294967295|D>>>17),D=A+(z^(V|~S))+L[13]+1309151649&4294967295,A=V+(D<<21&4294967295|D>>>11),D=S+(V^(A|~z))+L[4]+4149444226&4294967295,S=A+(D<<6&4294967295|D>>>26),D=z+(A^(S|~V))+L[11]+3174756917&4294967295,z=S+(D<<10&4294967295|D>>>22),D=V+(S^(z|~A))+L[2]+718787259&4294967295,V=z+(D<<15&4294967295|D>>>17),D=A+(z^(V|~S))+L[9]+3951481745&4294967295,b.g[0]=b.g[0]+S&4294967295,b.g[1]=b.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,b.g[2]=b.g[2]+V&4294967295,b.g[3]=b.g[3]+z&4294967295}r.prototype.v=function(b,S){S===void 0&&(S=b.length);const A=S-this.blockSize,L=this.C;let V=this.h,z=0;for(;z<S;){if(V==0)for(;z<=A;)s(this,b,z),z+=this.blockSize;if(typeof b=="string"){for(;z<S;)if(L[V++]=b.charCodeAt(z++),V==this.blockSize){s(this,L),V=0;break}}else for(;z<S;)if(L[V++]=b[z++],V==this.blockSize){s(this,L),V=0;break}}this.h=V,this.o+=S},r.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var S=1;S<b.length-8;++S)b[S]=0;S=this.o*8;for(var A=b.length-8;A<b.length;++A)b[A]=S&255,S/=256;for(this.v(b),b=Array(16),S=0,A=0;A<4;++A)for(let L=0;L<32;L+=8)b[S++]=this.g[A]>>>L&255;return b};function a(b,S){var A=c;return Object.prototype.hasOwnProperty.call(A,b)?A[b]:A[b]=S(b)}function l(b,S){this.h=S;const A=[];let L=!0;for(let V=b.length-1;V>=0;V--){const z=b[V]|0;L&&z==S||(A[V]=z,L=!1)}this.g=A}var c={};function d(b){return-128<=b&&b<128?a(b,function(S){return new l([S|0],S<0?-1:0)}):new l([b|0],b<0?-1:0)}function p(b){if(isNaN(b)||!isFinite(b))return y;if(b<0)return P(p(-b));const S=[];let A=1;for(let L=0;b>=A;L++)S[L]=b/A|0,A*=4294967296;return new l(S,0)}function g(b,S){if(b.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(b.charAt(0)=="-")return P(g(b.substring(1),S));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=p(Math.pow(S,8));let L=y;for(let z=0;z<b.length;z+=8){var V=Math.min(8,b.length-z);const D=parseInt(b.substring(z,z+V),S);V<8?(V=p(Math.pow(S,V)),L=L.j(V).add(p(D))):(L=L.j(A),L=L.add(p(D)))}return L}var y=d(0),_=d(1),T=d(16777216);t=l.prototype,t.m=function(){if(N(this))return-P(this).m();let b=0,S=1;for(let A=0;A<this.g.length;A++){const L=this.i(A);b+=(L>=0?L:4294967296+L)*S,S*=4294967296}return b},t.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C(this))return"0";if(N(this))return"-"+P(this).toString(b);const S=p(Math.pow(b,6));var A=this;let L="";for(;;){const V=Q(A,S).g;A=U(A,V.j(S));let z=((A.g.length>0?A.g[0]:A.h)>>>0).toString(b);if(A=V,C(A))return z+L;for(;z.length<6;)z="0"+z;L=z+L}},t.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function C(b){if(b.h!=0)return!1;for(let S=0;S<b.g.length;S++)if(b.g[S]!=0)return!1;return!0}function N(b){return b.h==-1}t.l=function(b){return b=U(this,b),N(b)?-1:C(b)?0:1};function P(b){const S=b.g.length,A=[];for(let L=0;L<S;L++)A[L]=~b.g[L];return new l(A,~b.h).add(_)}t.abs=function(){return N(this)?P(this):this},t.add=function(b){const S=Math.max(this.g.length,b.g.length),A=[];let L=0;for(let V=0;V<=S;V++){let z=L+(this.i(V)&65535)+(b.i(V)&65535),D=(z>>>16)+(this.i(V)>>>16)+(b.i(V)>>>16);L=D>>>16,z&=65535,D&=65535,A[V]=D<<16|z}return new l(A,A[A.length-1]&-2147483648?-1:0)};function U(b,S){return b.add(P(S))}t.j=function(b){if(C(this)||C(b))return y;if(N(this))return N(b)?P(this).j(P(b)):P(P(this).j(b));if(N(b))return P(this.j(P(b)));if(this.l(T)<0&&b.l(T)<0)return p(this.m()*b.m());const S=this.g.length+b.g.length,A=[];for(var L=0;L<2*S;L++)A[L]=0;for(L=0;L<this.g.length;L++)for(let V=0;V<b.g.length;V++){const z=this.i(L)>>>16,D=this.i(L)&65535,je=b.i(V)>>>16,Ke=b.i(V)&65535;A[2*L+2*V]+=D*Ke,F(A,2*L+2*V),A[2*L+2*V+1]+=z*Ke,F(A,2*L+2*V+1),A[2*L+2*V+1]+=D*je,F(A,2*L+2*V+1),A[2*L+2*V+2]+=z*je,F(A,2*L+2*V+2)}for(b=0;b<S;b++)A[b]=A[2*b+1]<<16|A[2*b];for(b=S;b<2*S;b++)A[b]=0;return new l(A,0)};function F(b,S){for(;(b[S]&65535)!=b[S];)b[S+1]+=b[S]>>>16,b[S]&=65535,S++}function W(b,S){this.g=b,this.h=S}function Q(b,S){if(C(S))throw Error("division by zero");if(C(b))return new W(y,y);if(N(b))return S=Q(P(b),S),new W(P(S.g),P(S.h));if(N(S))return S=Q(b,P(S)),new W(P(S.g),S.h);if(b.g.length>30){if(N(b)||N(S))throw Error("slowDivide_ only works with positive integers.");for(var A=_,L=S;L.l(b)<=0;)A=ee(A),L=ee(L);var V=ne(A,1),z=ne(L,1);for(L=ne(L,2),A=ne(A,2);!C(L);){var D=z.add(L);D.l(b)<=0&&(V=V.add(A),z=D),L=ne(L,1),A=ne(A,1)}return S=U(b,V.j(S)),new W(V,S)}for(V=y;b.l(S)>=0;){for(A=Math.max(1,Math.floor(b.m()/S.m())),L=Math.ceil(Math.log(A)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),z=p(A),D=z.j(S);N(D)||D.l(b)>0;)A-=L,z=p(A),D=z.j(S);C(z)&&(z=_),V=V.add(z),b=U(b,D)}return new W(V,b)}t.B=function(b){return Q(this,b).h},t.and=function(b){const S=Math.max(this.g.length,b.g.length),A=[];for(let L=0;L<S;L++)A[L]=this.i(L)&b.i(L);return new l(A,this.h&b.h)},t.or=function(b){const S=Math.max(this.g.length,b.g.length),A=[];for(let L=0;L<S;L++)A[L]=this.i(L)|b.i(L);return new l(A,this.h|b.h)},t.xor=function(b){const S=Math.max(this.g.length,b.g.length),A=[];for(let L=0;L<S;L++)A[L]=this.i(L)^b.i(L);return new l(A,this.h^b.h)};function ee(b){const S=b.g.length+1,A=[];for(let L=0;L<S;L++)A[L]=b.i(L)<<1|b.i(L-1)>>>31;return new l(A,b.h)}function ne(b,S){const A=S>>5;S%=32;const L=b.g.length-A,V=[];for(let z=0;z<L;z++)V[z]=S>0?b.i(z+A)>>>S|b.i(z+A+1)<<32-S:b.i(z+A);return new l(V,b.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,YT=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,Qs=l}).apply(typeof a_<"u"?a_:typeof self<"u"?self:typeof window<"u"?window:{});var Ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XT,_u,JT,$h,bm,ZT,e1,t1;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ch=="object"&&Ch];for(var w=0;w<h.length;++w){var E=h[w];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(h,w){if(w)e:{var E=r;h=h.split(".");for(var R=0;R<h.length-1;R++){var q=h[R];if(!(q in E))break e;E=E[q]}h=h[h.length-1],R=E[h],w=w(R),w!=R&&w!=null&&e(E,h,{configurable:!0,writable:!0,value:w})}}s("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(h){return h||function(w){var E=[],R;for(R in w)Object.prototype.hasOwnProperty.call(w,R)&&E.push([R,w[R]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function d(h,w,E){return h.call.apply(h.bind,arguments)}function p(h,w,E){return p=d,p.apply(null,arguments)}function g(h,w){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),h.apply(this,R)}}function y(h,w){function E(){}E.prototype=w.prototype,h.Z=w.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(R,q,Z){for(var fe=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)fe[qe-2]=arguments[qe];return w.prototype[q].apply(R,fe)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function T(h){const w=h.length;if(w>0){const E=Array(w);for(let R=0;R<w;R++)E[R]=h[R];return E}return[]}function C(h,w){for(let R=1;R<arguments.length;R++){const q=arguments[R];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=h.length||0;const Z=q.length||0;h.length=E+Z;for(let fe=0;fe<Z;fe++)h[E+fe]=q[fe]}else h.push(q)}}class N{constructor(w,E){this.i=w,this.j=E,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function P(h){l.setTimeout(()=>{throw h},0)}function U(){var h=b;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class F{constructor(){this.h=this.g=null}add(w,E){const R=W.get();R.set(w,E),this.h?this.h.next=R:this.g=R,this.h=R}}var W=new N(()=>new Q,h=>h.reset());class Q{constructor(){this.next=this.g=this.h=null}set(w,E){this.h=w,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,ne=!1,b=new F,S=()=>{const h=Promise.resolve(void 0);ee=()=>{h.then(A)}};function A(){for(var h;h=U();){try{h.h.call(h.g)}catch(E){P(E)}var w=W;w.j(h),w.h<100&&(w.h++,h.next=w.g,w.g=h)}ne=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};l.addEventListener("test",E,w),l.removeEventListener("test",E,w)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function je(h,w){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,w)}y(je,V),je.prototype.init=function(h,w){const E=this.type=h.type,R=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget,w||(E=="mouseover"?w=h.fromElement:E=="mouseout"&&(w=h.toElement)),this.relatedTarget=w,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&je.Z.h.call(this)},je.prototype.h=function(){je.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ke="closure_listenable_"+(Math.random()*1e6|0),Oe=0;function pe(h,w,E,R,q){this.listener=h,this.proxy=null,this.src=w,this.type=E,this.capture=!!R,this.ha=q,this.key=++Oe,this.da=this.fa=!1}function G(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function de(h,w,E){for(const R in h)w.call(E,h[R],R,h)}function re(h,w){for(const E in h)w.call(void 0,h[E],E,h)}function B(h){const w={};for(const E in h)w[E]=h[E];return w}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(h,w){let E,R;for(let q=1;q<arguments.length;q++){R=arguments[q];for(E in R)h[E]=R[E];for(let Z=0;Z<te.length;Z++)E=te[Z],Object.prototype.hasOwnProperty.call(R,E)&&(h[E]=R[E])}}function ge(h){this.src=h,this.g={},this.h=0}ge.prototype.add=function(h,w,E,R,q){const Z=h.toString();h=this.g[Z],h||(h=this.g[Z]=[],this.h++);const fe=Fe(h,w,R,q);return fe>-1?(w=h[fe],E||(w.fa=!1)):(w=new pe(w,this.src,Z,!!R,q),w.fa=E,h.push(w)),w};function be(h,w){const E=w.type;if(E in h.g){var R=h.g[E],q=Array.prototype.indexOf.call(R,w,void 0),Z;(Z=q>=0)&&Array.prototype.splice.call(R,q,1),Z&&(G(w),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Fe(h,w,E,R){for(let q=0;q<h.length;++q){const Z=h[q];if(!Z.da&&Z.listener==w&&Z.capture==!!E&&Z.ha==R)return q}return-1}var Se="closure_lm_"+(Math.random()*1e6|0),_e={};function it(h,w,E,R,q){if(Array.isArray(w)){for(let Z=0;Z<w.length;Z++)it(h,w[Z],E,R,q);return null}return E=go(E),h&&h[Ke]?h.J(w,E,c(R)?!!R.capture:!1,q):mt(h,w,E,!1,R,q)}function mt(h,w,E,R,q,Z){if(!w)throw Error("Invalid event type");const fe=c(q)?!!q.capture:!!q;let qe=Hn(h);if(qe||(h[Se]=qe=new ge(h)),E=qe.add(w,E,R,fe,Z),E.proxy)return E;if(R=xn(),E.proxy=R,R.src=h,R.listener=E,h.addEventListener)z||(q=fe),q===void 0&&(q=!1),h.addEventListener(w.toString(),R,q);else if(h.attachEvent)h.attachEvent(or(w.toString()),R);else if(h.addListener&&h.removeListener)h.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function xn(){function h(E){return w.call(h.src,h.listener,E)}const w=ha;return h}function st(h,w,E,R,q){if(Array.isArray(w))for(var Z=0;Z<w.length;Z++)st(h,w[Z],E,R,q);else R=c(R)?!!R.capture:!!R,E=go(E),h&&h[Ke]?(h=h.i,Z=String(w).toString(),Z in h.g&&(w=h.g[Z],E=Fe(w,E,R,q),E>-1&&(G(w[E]),Array.prototype.splice.call(w,E,1),w.length==0&&(delete h.g[Z],h.h--)))):h&&(h=Hn(h))&&(w=h.g[w.toString()],h=-1,w&&(h=Fe(w,E,R,q)),(E=h>-1?w[h]:null)&&Vt(E))}function Vt(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[Ke])be(w.i,h);else{var E=h.type,R=h.proxy;w.removeEventListener?w.removeEventListener(E,R,h.capture):w.detachEvent?w.detachEvent(or(E),R):w.addListener&&w.removeListener&&w.removeListener(R),(E=Hn(w))?(be(E,h),E.h==0&&(E.src=null,w[Se]=null)):G(h)}}}function or(h){return h in _e?_e[h]:_e[h]="on"+h}function ha(h,w){if(h.da)h=!0;else{w=new je(w,this);const E=h.listener,R=h.ha||h.src;h.fa&&Vt(h),h=E.call(R,w)}return h}function Hn(h){return h=h[Se],h instanceof ge?h:null}var ki="__closure_events_fn_"+(Math.random()*1e9>>>0);function go(h){return typeof h=="function"?h:(h[ki]||(h[ki]=function(w){return h.handleEvent(w)}),h[ki])}function kt(){L.call(this),this.i=new ge(this),this.M=this,this.G=null}y(kt,L),kt.prototype[Ke]=!0,kt.prototype.removeEventListener=function(h,w,E,R){st(this,h,w,E,R)};function Pt(h,w){var E,R=h.G;if(R)for(E=[];R;R=R.G)E.push(R);if(h=h.M,R=w.type||w,typeof w=="string")w=new V(w,h);else if(w instanceof V)w.target=w.target||h;else{var q=w;w=new V(R,h),me(w,q)}q=!0;let Z,fe;if(E)for(fe=E.length-1;fe>=0;fe--)Z=w.g=E[fe],q=ar(Z,R,!0,w)&&q;if(Z=w.g=h,q=ar(Z,R,!0,w)&&q,q=ar(Z,R,!1,w)&&q,E)for(fe=0;fe<E.length;fe++)Z=w.g=E[fe],q=ar(Z,R,!1,w)&&q}kt.prototype.N=function(){if(kt.Z.N.call(this),this.i){var h=this.i;for(const w in h.g){const E=h.g[w];for(let R=0;R<E.length;R++)G(E[R]);delete h.g[w],h.h--}}this.G=null},kt.prototype.J=function(h,w,E,R){return this.i.add(String(h),w,!1,E,R)},kt.prototype.K=function(h,w,E,R){return this.i.add(String(h),w,!0,E,R)};function ar(h,w,E,R){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();let q=!0;for(let Z=0;Z<w.length;++Z){const fe=w[Z];if(fe&&!fe.da&&fe.capture==E){const qe=fe.listener,zt=fe.ha||fe.src;fe.fa&&be(h.i,fe),q=qe.call(zt,R)!==!1&&q}}return q&&!R.defaultPrevented}function yo(h,w){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:l.setTimeout(h,w||0)}function vo(h){h.g=yo(()=>{h.g=null,h.i&&(h.i=!1,vo(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class gr extends L{constructor(w,E){super(),this.m=w,this.l=E,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:vo(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wn(h){L.call(this),this.h=h,this.g={}}y(Wn,L);var ds=[];function qr(h){de(h.g,function(w,E){this.g.hasOwnProperty(E)&&Vt(w)},h),h.g={}}Wn.prototype.N=function(){Wn.Z.N.call(this),qr(this)},Wn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var on=l.JSON.stringify,Gn=l.JSON.parse,Qr=class{stringify(h){return l.JSON.stringify(h,void 0)}parse(h){return l.JSON.parse(h,void 0)}};function Yr(){}function fs(){}var Xr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function En(){V.call(this,"d")}y(En,V);function ps(){V.call(this,"c")}y(ps,V);var Kn={},Pi=null;function Jr(){return Pi=Pi||new kt}Kn.Ia="serverreachability";function Ni(h){V.call(this,Kn.Ia,h)}y(Ni,V);function qn(h){const w=Jr();Pt(w,new Ni(w))}Kn.STAT_EVENT="statevent";function yr(h,w){V.call(this,Kn.STAT_EVENT,h),this.stat=w}y(yr,V);function _t(h){const w=Jr();Pt(w,new yr(w,h))}Kn.Ja="timingevent";function wo(h,w){V.call(this,Kn.Ja,h),this.size=w}y(wo,V);function Nr(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){h()},w)}function Zr(){this.g=!0}Zr.prototype.ua=function(){this.g=!1};function _o(h,w,E,R,q,Z){h.info(function(){if(h.g)if(Z){var fe="",qe=Z.split("&");for(let vt=0;vt<qe.length;vt++){var zt=qe[vt].split("=");if(zt.length>1){const Gt=zt[0];zt=zt[1];const hr=Gt.split("_");fe=hr.length>=2&&hr[1]=="type"?fe+(Gt+"="+zt+"&"):fe+(Gt+"=redacted&")}}}else fe=null;else fe=Z;return"XMLHTTP REQ ("+R+") [attempt "+q+"]: "+w+`
`+E+`
`+fe})}function Di(h,w,E,R,q,Z,fe){h.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+q+"]: "+w+`
`+E+`
`+Z+" "+fe})}function Vn(h,w,E,R){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+Mi(h,E)+(R?" "+R:"")})}function xo(h,w){h.info(function(){return"TIMEOUT: "+w})}Zr.prototype.info=function(){};function Mi(h,w){if(!h.g)return w;if(!w)return null;try{const Z=JSON.parse(w);if(Z){for(h=0;h<Z.length;h++)if(Array.isArray(Z[h])){var E=Z[h];if(!(E.length<2)){var R=E[1];if(Array.isArray(R)&&!(R.length<1)){var q=R[0];if(q!="noop"&&q!="stop"&&q!="close")for(let fe=1;fe<R.length;fe++)R[fe]=""}}}}return on(Z)}catch{return w}}var ei={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},O={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},H;function Y(){}y(Y,Yr),Y.prototype.g=function(){return new XMLHttpRequest},H=new Y;function se(h){return encodeURIComponent(String(h))}function ue(h){var w=1;h=h.split(":");const E=[];for(;w>0&&h.length;)E.push(h.shift()),w--;return h.length&&E.push(h.join(":")),E}function we(h,w,E,R){this.j=h,this.i=w,this.l=E,this.S=R||1,this.V=new Wn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ve}function Ve(){this.i=null,this.g="",this.h=!1}var ye={},xe={};function Ee(h,w,E){h.M=1,h.A=Vi(Wt(w)),h.u=E,h.R=!0,He(h,null)}function He(h,w){h.F=Date.now(),Tt(h),h.B=Wt(h.A);var E=h.B,R=h.S;Array.isArray(R)||(R=[String(R)]),Dl(E.i,"t",R),h.C=0,E=h.j.L,h.h=new Ve,h.g=Cc(h.j,E?w:null,!h.u),h.P>0&&(h.O=new gr(p(h.Y,h,h.g),h.P)),w=h.V,E=h.g,R=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(ds[0]=q.toString()),q=ds);for(let Z=0;Z<q.length;Z++){const fe=it(E,q[Z],R||w.handleEvent,!1,w.h||w);if(!fe)break;w.g[fe.key]=fe}w=h.J?B(h.J):{},h.u?(h.v||(h.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,w)):(h.v="GET",h.g.ea(h.B,h.v,null,w)),qn(),_o(h.i,h.v,h.B,h.l,h.S,h.u)}we.prototype.ba=function(h){h=h.target;const w=this.O;w&&si(h)==3?w.j():this.Y(h)},we.prototype.Y=function(h){try{if(h==this.g)e:{const qe=si(this.g),zt=this.g.ya(),vt=this.g.ca();if(!(qe<3)&&(qe!=3||this.g&&(this.h.h||this.g.la()||Ic(this.g)))){this.K||qe!=4||zt==7||(zt==8||vt<=0?qn(3):qn(2)),Ot(this);var w=this.g.ca();this.X=w;var E=De(this);if(this.o=w==200,Di(this.i,this.v,this.B,this.l,this.S,qe,w),this.o){if(this.U&&!this.L){t:{if(this.g){var R,q=this.g;if((R=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(R)){var Z=R;break t}}Z=null}if(h=Z)Vn(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ct(this,h);else{this.o=!1,this.m=3,_t(12),jt(this),nt(this);break e}}if(this.R){h=!0;let Gt;for(;!this.K&&this.C<E.length;)if(Gt=Xe(this,E),Gt==xe){qe==4&&(this.m=4,_t(14),h=!1),Vn(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==ye){this.m=4,_t(15),Vn(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Vn(this.i,this.l,Gt,null),ct(this,Gt);if(Ge(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qe!=4||E.length!=0||this.h.h||(this.m=1,_t(16),h=!1),this.o=this.o&&h,!h)Vn(this.i,this.l,E,"[Invalid Chunked Response]"),jt(this),nt(this);else if(E.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Co(fe),fe.P=!0,_t(11))}}else Vn(this.i,this.l,E,null),ct(this,E);qe==4&&jt(this),this.o&&!this.K&&(qe==4?wa(this.j,this):(this.o=!1,Tt(this)))}else Ll(this.g),w==400&&E.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),jt(this),nt(this)}}}catch{}finally{}};function De(h){if(!Ge(h))return h.g.la();const w=Ic(h.g);if(w==="")return"";let E="";const R=w.length,q=si(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return jt(h),nt(h),"";h.h.i=new l.TextDecoder}for(let Z=0;Z<R;Z++)h.h.h=!0,E+=h.h.i.decode(w[Z],{stream:!(q&&Z==R-1)});return w.length=0,h.h.g+=E,h.C=0,h.h.g}function Ge(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Xe(h,w){var E=h.C,R=w.indexOf(`
`,E);return R==-1?xe:(E=Number(w.substring(E,R)),isNaN(E)?ye:(R+=1,R+E>w.length?xe:(w=w.slice(R,R+E),h.C=R+E,w)))}we.prototype.cancel=function(){this.K=!0,jt(this)};function Tt(h){h.T=Date.now()+h.H,Rt(h,h.H)}function Rt(h,w){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Nr(p(h.aa,h),w)}function Ot(h){h.D&&(l.clearTimeout(h.D),h.D=null)}we.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(xo(this.i,this.B),this.M!=2&&(qn(),_t(17)),jt(this),this.m=2,nt(this)):Rt(this,this.T-h)};function nt(h){h.j.I==0||h.K||wa(h.j,h)}function jt(h){Ot(h);var w=h.O;w&&typeof w.dispose=="function"&&w.dispose(),h.O=null,qr(h.V),h.g&&(w=h.g,h.g=null,w.abort(),w.dispose())}function ct(h,w){try{var E=h.j;if(E.I!=0&&(E.g==h||Mr(E.h,h))){if(!h.L&&Mr(E.h,h)&&E.I==3){try{var R=E.Ba.g.parse(w)}catch{R=null}if(Array.isArray(R)&&R.length==3){var q=R;if(q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)va(E),ur(E);else break e;li(E),_t(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Nr(p(E.Va,E),6e3));Dr(E.h)<=1&&E.ta&&(E.ta=void 0)}else cr(E,11)}else if((h.L||E.g==h)&&va(E),!D(w))for(q=E.Ba.g.parse(w),w=0;w<q.length;w++){let vt=q[w];const Gt=vt[0];if(!(Gt<=E.K))if(E.K=Gt,vt=vt[1],E.I==2)if(vt[0]=="c"){E.M=vt[1],E.ba=vt[2];const hr=vt[3];hr!=null&&(E.ka=hr,E.j.info("VER="+E.ka));const zi=vt[4];zi!=null&&(E.za=zi,E.j.info("SVER="+E.za));const ui=vt[5];ui!=null&&typeof ui=="number"&&ui>0&&(R=1.5*ui,E.O=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const ci=h.g;if(ci){const Ea=ci.g?ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ea){var Z=R.h;Z.g||Ea.indexOf("spdy")==-1&&Ea.indexOf("quic")==-1&&Ea.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Qn(Z,Z.h),Z.h=null))}if(R.G){const jl=ci.g?ci.g.getResponseHeader("X-HTTP-Session-Id"):null;jl&&(R.wa=jl,ht(R.J,R.G,jl))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),R=E;var fe=h;if(R.na=Ol(R,R.L?R.ba:null,R.W),fe.L){vr(R.h,fe);var qe=fe,zt=R.O;zt&&(qe.H=zt),qe.D&&(Ot(qe),Tt(qe)),R.g=fe}else Sn(R);E.i.length>0&&Ui(E)}else vt[0]!="stop"&&vt[0]!="close"||cr(E,7);else E.I==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?cr(E,7):ga(E):vt[0]!="noop"&&E.l&&E.l.qa(vt),E.A=0)}}qn(4)}catch{}}var Li=class{constructor(h,w){this.g=h,this.map=w}};function On(h){this.l=h||10,l.PerformanceNavigationTiming?(h=l.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Tn(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Dr(h){return h.h?1:h.g?h.g.size:0}function Mr(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function Qn(h,w){h.g?h.g.add(w):h.h=w}function vr(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}On.prototype.cancel=function(){if(this.i=an(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function an(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const E of h.g.values())w=w.concat(E.G);return w}return T(h.i)}var Ze=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gt(h,w){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const R=h[E].indexOf("=");let q,Z=null;R>=0?(q=h[E].substring(0,R),Z=h[E].substring(R+1)):q=h[E],w(q,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function dn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;h instanceof dn?(this.l=h.l,yt(this,h.j),this.o=h.o,this.g=h.g,jn(this,h.u),this.h=h.h,Lr(this,Ml(h.i)),this.m=h.m):h&&(w=String(h).match(Ze))?(this.l=!1,yt(this,w[1]||"",!0),this.o=Eo(w[2]||""),this.g=Eo(w[3]||"",!0),jn(this,w[4]),this.h=Eo(w[5]||"",!0),Lr(this,w[6]||"",!0),this.m=Eo(w[7]||"")):(this.l=!1,this.i=new ot(null,this.l))}dn.prototype.toString=function(){const h=[];var w=this.j;w&&h.push(To(w,Rl,!0),":");var E=this.g;return(E||w=="file")&&(h.push("//"),(w=this.o)&&h.push(To(w,Rl,!0),"@"),h.push(se(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(To(E,E.charAt(0)=="/"?So:Al,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",To(E,kl)),h.join("")},dn.prototype.resolve=function(h){const w=Wt(this);let E=!!h.j;E?yt(w,h.j):E=!!h.o,E?w.o=h.o:E=!!h.g,E?w.g=h.g:E=h.u!=null;var R=h.h;if(E)jn(w,h.u);else if(E=!!h.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var q=w.h.lastIndexOf("/");q!=-1&&(R=w.h.slice(0,q+1)+R)}if(q=R,q==".."||q==".")R="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){R=q.lastIndexOf("/",0)==0,q=q.split("/");const Z=[];for(let fe=0;fe<q.length;){const qe=q[fe++];qe=="."?R&&fe==q.length&&Z.push(""):qe==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),R&&fe==q.length&&Z.push("")):(Z.push(qe),R=!0)}R=Z.join("/")}else R=q}return E?w.h=R:E=h.i.toString()!=="",E?Lr(w,Ml(h.i)):E=!!h.m,E&&(w.m=h.m),w};function Wt(h){return new dn(h)}function yt(h,w,E){h.j=E?Eo(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function jn(h,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);h.u=w}else h.u=null}function Lr(h,w,E){w instanceof ot?(h.i=w,fa(h.i,h.l)):(E||(w=To(w,sf)),h.i=new ot(w,h.l))}function ht(h,w,E){h.i.set(w,E)}function Vi(h){return ht(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Eo(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function To(h,w,E){return typeof h=="string"?(h=encodeURI(h).replace(w,Cl),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Cl(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Rl=/[#\/\?@]/g,Al=/[#\?:]/g,So=/[#\?]/g,sf=/[#\?@]/g,kl=/#/g;function ot(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function ti(h){h.g||(h.g=new Map,h.h=0,h.i&&gt(h.i,function(w,E){h.add(decodeURIComponent(w.replace(/\+/g," ")),E)}))}t=ot.prototype,t.add=function(h,w){ti(this),this.i=null,h=ni(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(w),this.h+=1,this};function Pl(h,w){ti(h),w=ni(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function da(h,w){return ti(h),w=ni(h,w),h.g.has(w)}t.forEach=function(h,w){ti(this),this.g.forEach(function(E,R){E.forEach(function(q){h.call(w,q,R,this)},this)},this)};function Nl(h,w){ti(h);let E=[];if(typeof w=="string")da(h,w)&&(E=E.concat(h.g.get(ni(h,w))));else for(h=Array.from(h.g.values()),w=0;w<h.length;w++)E=E.concat(h[w]);return E}t.set=function(h,w){return ti(this),this.i=null,h=ni(this,h),da(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},t.get=function(h,w){return h?(h=Nl(this,h),h.length>0?String(h[0]):w):w};function Dl(h,w,E){Pl(h,w),E.length>0&&(h.i=null,h.g.set(ni(h,w),T(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(let R=0;R<w.length;R++){var E=w[R];const q=se(E);E=Nl(this,E);for(let Z=0;Z<E.length;Z++){let fe=q;E[Z]!==""&&(fe+="="+se(E[Z])),h.push(fe)}}return this.i=h.join("&")};function Ml(h){const w=new ot;return w.i=h.i,h.g&&(w.g=new Map(h.g),w.h=h.h),w}function ni(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function fa(h,w){w&&!h.j&&(ti(h),h.i=null,h.g.forEach(function(E,R){const q=R.toLowerCase();R!=q&&(Pl(this,R),Dl(this,q,E))},h)),h.j=w}function ri(h,w){const E=new Zr;if(l.Image){const R=new Image;R.onload=g(fn,E,"TestLoadImage: loaded",!0,w,R),R.onerror=g(fn,E,"TestLoadImage: error",!1,w,R),R.onabort=g(fn,E,"TestLoadImage: abort",!1,w,R),R.ontimeout=g(fn,E,"TestLoadImage: timeout",!1,w,R),l.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=h}else w(!1)}function ii(h,w){const E=new Zr,R=new AbortController,q=setTimeout(()=>{R.abort(),fn(E,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:R.signal}).then(Z=>{clearTimeout(q),Z.ok?fn(E,"TestPingServer: ok",!0,w):fn(E,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(q),fn(E,"TestPingServer: error",!1,w)})}function fn(h,w,E,R,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),R(E)}catch{}}function Io(){this.g=new Qr}function Oi(h){this.i=h.Sb||null,this.h=h.ab||!1}y(Oi,Yr),Oi.prototype.g=function(){return new lr(this.i,this.h)};function lr(h,w){kt.call(this),this.H=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(lr,kt),t=lr.prototype,t.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=w,this.readyState=1,Vr(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(w.body=h),(this.H||l).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ms(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Vr(this)),this.g&&(this.readyState=3,Vr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ec(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ec(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?ms(this):Vr(this),this.readyState==3&&Ec(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,ms(this))},t.Na=function(h){this.g&&(this.response=h,ms(this))},t.ga=function(){this.g&&ms(this)};function ms(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Vr(h)}t.setRequestHeader=function(h,w){this.A.append(h,w)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var E=w.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=w.next();return h.join(`\r
`)};function Vr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(lr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Tc(h){let w="";return de(h,function(E,R){w+=R,w+=":",w+=E,w+=`\r
`}),w}function pa(h,w,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=Tc(E),typeof h=="string"?E!=null&&se(E):ht(h,w,E))}function wt(h){kt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(wt,kt);var Sc=/^https?$/i,of=["POST","PUT"];t=wt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,w,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():H.g(),this.g.onreadystatechange=_(p(this.Ca,this));try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(Z){gs(this,Z);return}if(h=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var q in R)E.set(q,R[q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Z of R.keys())E.set(Z,R.get(Z));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(Z=>Z.toLowerCase()=="content-type"),q=l.FormData&&h instanceof l.FormData,!(Array.prototype.indexOf.call(of,w,void 0)>=0)||R||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,fe]of E)this.g.setRequestHeader(Z,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Z){gs(this,Z)}};function gs(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.o=5,ys(h),Fi(h)}function ys(h){h.A||(h.A=!0,Pt(h,"complete"),Pt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Pt(this,"complete"),Pt(this,"abort"),Fi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fi(this,!0)),wt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ji(this):this.Xa())},t.Xa=function(){ji(this)};function ji(h){if(h.h&&typeof a<"u"){if(h.v&&si(h)==4)setTimeout(h.Ca.bind(h),0);else if(Pt(h,"readystatechange"),si(h)==4){h.h=!1;try{const Z=h.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var E;if(!(E=w)){var R;if(R=Z===0){let fe=String(h.D).match(Ze)[1]||null;!fe&&l.self&&l.self.location&&(fe=l.self.location.protocol.slice(0,-1)),R=!Sc.test(fe?fe.toLowerCase():"")}E=R}if(E)Pt(h,"complete"),Pt(h,"success");else{h.o=6;try{var q=si(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",ys(h)}}finally{Fi(h)}}}}function Fi(h,w){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,w||Pt(h,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function si(h){return h.g?h.g.readyState:0}t.ca=function(){try{return si(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),Gn(w)}};function Ic(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ll(h){const w={};h=(h.g&&si(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<h.length;R++){if(D(h[R]))continue;var E=ue(h[R]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Z=w[q]||[];w[q]=Z,Z.push(E)}re(w,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function oi(h,w,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||w}function ma(h){this.za=0,this.i=[],this.j=new Zr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=oi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=oi("baseRetryDelayMs",5e3,h),this.Za=oi("retryDelaySeedMs",1e4,h),this.Ta=oi("forwardChannelMaxRetries",2,h),this.va=oi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new On(h&&h.concurrentRequestLimit),this.Ba=new Io,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ma.prototype,t.ka=8,t.I=1,t.connect=function(h,w,E,R){_t(0),this.W=h,this.H=w||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.J=Ol(this,null,this.W),Ui(this)};function ga(h){if(ya(h),h.I==3){var w=h.V++,E=Wt(h.J);if(ht(E,"SID",h.M),ht(E,"RID",w),ht(E,"TYPE","terminate"),ai(h,E),w=new we(h,h.j,w),w.M=2,w.A=Vi(Wt(E)),E=!1,l.navigator&&l.navigator.sendBeacon)try{E=l.navigator.sendBeacon(w.A.toString(),"")}catch{}!E&&l.Image&&(new Image().src=w.A,E=!0),E||(w.g=Cc(w.j,null),w.g.ea(w.A)),w.F=Date.now(),Tt(w)}Ro(h)}function ur(h){h.g&&(Co(h),h.g.cancel(),h.g=null)}function ya(h){ur(h),h.v&&(l.clearTimeout(h.v),h.v=null),va(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&l.clearTimeout(h.m),h.m=null)}function Ui(h){if(!Tn(h.h)&&!h.m){h.m=!0;var w=h.Ea;ee||S(),ne||(ee(),ne=!0),b.add(w,h),h.D=0}}function bc(h,w){return Dr(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=w.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Nr(p(h.Ea,h,w),_a(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new we(this,this.j,h);let Z=this.o;if(this.U&&(Z?(Z=B(Z),me(Z,this.U)):Z=this.U),this.u!==null||this.R||(q.J=Z,Z=null),this.S)e:{for(var w=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(w+=R,w>4096){w=E;break e}if(w===4096||E===this.i.length-1){w=E+1;break e}}w=1e3}else w=1e3;w=Vl(this,q,w),E=Wt(this.J),ht(E,"RID",h),ht(E,"CVER",22),this.G&&ht(E,"X-HTTP-Session-Id",this.G),ai(this,E),Z&&(this.R?w="headers="+se(Tc(Z))+"&"+w:this.u&&pa(E,this.u,Z)),Qn(this.h,q),this.Ra&&ht(E,"TYPE","init"),this.S?(ht(E,"$req",w),ht(E,"SID","null"),q.U=!0,Ee(q,E,null)):Ee(q,E,w),this.I=2}}else this.I==3&&(h?bo(this,h):this.i.length==0||Tn(this.h)||bo(this))};function bo(h,w){var E;w?E=w.l:E=h.V++;const R=Wt(h.J);ht(R,"SID",h.M),ht(R,"RID",E),ht(R,"AID",h.K),ai(h,R),h.u&&h.o&&pa(R,h.u,h.o),E=new we(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),w&&(h.i=w.G.concat(h.i)),w=Vl(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Qn(h.h,E),Ee(E,R,w)}function ai(h,w){h.H&&de(h.H,function(E,R){ht(w,R,E)}),h.l&&de({},function(E,R){ht(w,R,E)})}function Vl(h,w,E){E=Math.min(h.i.length,E);const R=h.l?p(h.l.Ka,h.l,h):null;e:{var q=h.i;let qe=-1;for(;;){const zt=["count="+E];qe==-1?E>0?(qe=q[0].g,zt.push("ofs="+qe)):qe=0:zt.push("ofs="+qe);let vt=!0;for(let Gt=0;Gt<E;Gt++){var Z=q[Gt].g;const hr=q[Gt].map;if(Z-=qe,Z<0)qe=Math.max(0,q[Gt].g-100),vt=!1;else try{Z="req"+Z+"_"||"";try{var fe=hr instanceof Map?hr:Object.entries(hr);for(const[zi,ui]of fe){let ci=ui;c(ui)&&(ci=on(ui)),zt.push(Z+zi+"="+encodeURIComponent(ci))}}catch(zi){throw zt.push(Z+"type="+encodeURIComponent("_badmap")),zi}}catch{R&&R(hr)}}if(vt){fe=zt.join("&");break e}}fe=void 0}return h=h.i.splice(0,E),w.G=h,fe}function Sn(h){if(!h.g&&!h.v){h.Y=1;var w=h.Da;ee||S(),ne||(ee(),ne=!0),b.add(w,h),h.A=0}}function li(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Nr(p(h.Da,h),_a(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,vs(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Nr(p(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),ur(this),vs(this))};function Co(h){h.B!=null&&(l.clearTimeout(h.B),h.B=null)}function vs(h){h.g=new we(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var w=Wt(h.na);ht(w,"RID","rpc"),ht(w,"SID",h.M),ht(w,"AID",h.K),ht(w,"CI",h.F?"0":"1"),!h.F&&h.ia&&ht(w,"TO",h.ia),ht(w,"TYPE","xmlhttp"),ai(h,w),h.u&&h.o&&pa(w,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Vi(Wt(w)),E.u=null,E.R=!0,He(E,h)}t.Va=function(){this.C!=null&&(this.C=null,ur(this),li(this),_t(19))};function va(h){h.C!=null&&(l.clearTimeout(h.C),h.C=null)}function wa(h,w){var E=null;if(h.g==w){va(h),Co(h),h.g=null;var R=2}else if(Mr(h.h,w))E=w.G,vr(h.h,w),R=1;else return;if(h.I!=0){if(w.o)if(R==1){E=w.u?w.u.length:0,w=Date.now()-w.F;var q=h.D;R=Jr(),Pt(R,new wo(R,E)),Ui(h)}else Sn(h);else if(q=w.m,q==3||q==0&&w.X>0||!(R==1&&bc(h,w)||R==2&&li(h)))switch(E&&E.length>0&&(w=h.h,w.i=w.i.concat(E)),q){case 1:cr(h,5);break;case 4:cr(h,10);break;case 3:cr(h,6);break;default:cr(h,2)}}}function _a(h,w){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*w}function cr(h,w){if(h.j.info("Error code "+w),w==2){var E=p(h.bb,h),R=h.Ua;const q=!R;R=new dn(R||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||yt(R,"https"),Vi(R),q?ri(R.toString(),E):ii(R.toString(),E)}else _t(2);h.I=0,h.l&&h.l.pa(w),Ro(h),ya(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function Ro(h){if(h.I=0,h.ja=[],h.l){const w=an(h.h);(w.length!=0||h.i.length!=0)&&(C(h.ja,w),C(h.ja,h.i),h.h.i.length=0,T(h.i),h.i.length=0),h.l.oa()}}function Ol(h,w,E){var R=E instanceof dn?Wt(E):new dn(E);if(R.g!="")w&&(R.g=w+"."+R.g),jn(R,R.u);else{var q=l.location;R=q.protocol,w=w?w+"."+q.hostname:q.hostname,q=+q.port;const Z=new dn(null);R&&yt(Z,R),w&&(Z.g=w),q&&jn(Z,q),E&&(Z.h=E),R=Z}return E=h.G,w=h.wa,E&&w&&ht(R,E,w),ht(R,"VER",h.ka),ai(h,R),R}function Cc(h,w,E){if(w&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Aa&&!h.ma?new wt(new Oi({ab:E})):new wt(h.ma),w.Fa(h.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rc(){}t=Rc.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function xa(){}xa.prototype.g=function(h,w){return new pn(h,w)};function pn(h,w){kt.call(this),this.g=new ma(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(h?h["X-WebChannel-Client-Profile"]=w.sa:h={"X-WebChannel-Client-Profile":w.sa}),this.g.U=h,(h=w&&w.Qb)&&!D(h)&&(this.g.u=h),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!D(w)&&(this.g.G=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new ws(this)}y(pn,kt),pn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){ga(this.g)},pn.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=on(h),h=E);w.i.push(new Li(w.Ya++,h)),w.I==3&&Ui(w)},pn.prototype.N=function(){this.g.l=null,delete this.j,ga(this.g),delete this.g,pn.Z.N.call(this)};function Ac(h){En.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const E in w){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}y(Ac,En);function kc(){ps.call(this),this.status=1}y(kc,ps);function ws(h){this.g=h}y(ws,Rc),ws.prototype.ra=function(){Pt(this.g,"a")},ws.prototype.qa=function(h){Pt(this.g,new Ac(h))},ws.prototype.pa=function(h){Pt(this.g,new kc)},ws.prototype.oa=function(){Pt(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,t1=function(){return new xa},e1=function(){return Jr()},ZT=Kn,bm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ei.NO_ERROR=0,ei.TIMEOUT=8,ei.HTTP_ERROR=6,$h=ei,O.COMPLETE="complete",JT=O,fs.EventType=Xr,Xr.OPEN="a",Xr.CLOSE="b",Xr.ERROR="c",Xr.MESSAGE="d",kt.prototype.listen=kt.prototype.J,_u=fs,wt.prototype.listenOnce=wt.prototype.K,wt.prototype.getLastError=wt.prototype.Ha,wt.prototype.getLastErrorCode=wt.prototype.ya,wt.prototype.getStatus=wt.prototype.ca,wt.prototype.getResponseJson=wt.prototype.La,wt.prototype.getResponseText=wt.prototype.la,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Fa,XT=wt}).apply(typeof Ch<"u"?Ch:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Pn.UNAUTHENTICATED=new Pn(null),Pn.GOOGLE_CREDENTIALS=new Pn("google-credentials-uid"),Pn.FIRST_PARTY=new Pn("first-party-uid"),Pn.MOCK_USER=new Pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vl="12.8.0";function mN(t){vl=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new Fg("@firebase/firestore");function Wa(){return na.logLevel}function Te(t,...e){if(na.logLevel<=rt.DEBUG){const n=e.map(Bg);na.debug(`Firestore (${vl}): ${t}`,...n)}}function is(t,...e){if(na.logLevel<=rt.ERROR){const n=e.map(Bg);na.error(`Firestore (${vl}): ${t}`,...n)}}function cl(t,...e){if(na.logLevel<=rt.WARN){const n=e.map(Bg);na.warn(`Firestore (${vl}): ${t}`,...n)}}function Bg(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,n1(t,r,n)}function n1(t,e,n){let r=`FIRESTORE (${vl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw is(r),new Error(r)}function Lt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||n1(e,s,r)}function ut(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends Ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Pn.UNAUTHENTICATED)))}shutdown(){}}class yN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class vN{constructor(e){this.t=e,this.currentUser=Pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Lt(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new Ys;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ys,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},c=d=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ys)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Lt(typeof r.accessToken=="string",31837,{l:r}),new r1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Lt(e===null||typeof e=="string",2055,{h:e}),new Pn(e)}}class wN{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Pn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class _N{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new wN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class l_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,rr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Lt(this.o===void 0,3512);const r=a=>{a.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,Te("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new l_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Lt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new l_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=EN(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function at(t,e){return t<e?-1:t>e?1:0}function Cm(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),a=e.charAt(r);if(s!==a)return $p(s)===$p(a)?at(s,a):$p(s)?1:-1}return at(t.length,e.length)}const TN=55296,SN=57343;function $p(t){const e=t.charCodeAt(0);return e>=TN&&e<=SN}function hl(t,e,n){return t.length===e.length&&t.every(((r,s)=>n(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="__name__";class mi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ye(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ye(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=mi.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return at(e.length,n.length)}static compareSegments(e,n){const r=mi.isNumericId(e),s=mi.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?mi.extractNumericId(e).compare(mi.extractNumericId(n)):Cm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qs.fromString(e.substring(4,e.length-2))}}class bt extends mi{construct(e,n,r){return new bt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Le(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((s=>s.length>0)))}return new bt(n)}static emptyPath(){return new bt([])}}const IN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zn extends mi{construct(e,n,r){return new zn(e,n,r)}static isValidIdentifier(e){return IN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===u_}static keyField(){return new zn([u_])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new Le(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new Le(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Le(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(a(),s++)}if(a(),l)throw new Le(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zn(n)}static emptyPath(){return new zn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(bt.fromString(e))}static fromName(e){return new Be(bt.fromString(e).popFirst(5))}static empty(){return new Be(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new bt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(t,e,n){if(!n)throw new Le(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bN(t,e,n,r){if(e===!0&&r===!0)throw new Le(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function c_(t){if(!Be.isDocumentKey(t))throw new Le(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function h_(t){if(Be.isDocumentKey(t))throw new Le(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function CN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function RN(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ye(12329,{type:typeof t})}function Hu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Le(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=RN(t);throw new Le(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(t,e){const n={typeString:t};return e&&(n.value=e),n}function uc(t,e){if(!CN(t))throw new Le(he.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(s&&typeof l!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&l!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Le(he.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=-62135596800,f_=1e6;class Yt{static now(){return Yt.fromMillis(Date.now())}static fromDate(e){return Yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*f_);return new Yt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Le(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Le(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<d_)throw new Le(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/f_}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(uc(e,Yt._jsonSchema))return new Yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-d_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Yt._jsonSchemaVersion="firestore/timestamp/1.0",Yt._jsonSchema={type:Xt("string",Yt._jsonSchemaVersion),seconds:Xt("number"),nanoseconds:Xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{static fromTimestamp(e){return new Qe(e)}static min(){return new Qe(new Yt(0,0))}static max(){return new Qe(new Yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu=-1;function AN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Qe.fromTimestamp(r===1e9?new Yt(n+1,0):new Yt(n,r));return new ro(s,Be.empty(),e)}function kN(t){return new ro(t.readTime,t.key,Wu)}class ro{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ro(Qe.min(),Be.empty(),Wu)}static max(){return new ro(Qe.max(),Be.empty(),Wu)}}function PN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Be.comparator(t.documentKey,e.documentKey),n!==0?n:at(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ld(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==NN)throw t;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,r)=>{n(e)}))}static reject(e){return new ie(((n,r)=>{r(e)}))}static waitFor(e){return new ie(((n,r)=>{let s=0,a=0,l=!1;e.forEach((c=>{++s,c.next((()=>{++a,l&&a===s&&n()}),(d=>r(d)))})),l=!0,a===s&&n()}))}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next((s=>s?ie.resolve(s):r()));return n}static forEach(e,n){const r=[];return e.forEach(((s,a)=>{r.push(n.call(this,s,a))})),this.waitFor(r)}static mapArray(e,n){return new ie(((r,s)=>{const a=e.length,l=new Array(a);let c=0;for(let d=0;d<a;d++){const p=d;n(e[p]).next((g=>{l[p]=g,++c,c===a&&r(l)}),(g=>s(g)))}}))}static doWhile(e,n){return new ie(((r,s)=>{const a=()=>{e()===!0?n().next((()=>{a()}),s):r()};a()}))}}function MN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Vd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=-1;function Od(t){return t==null}function Rm(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="";function VN(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=p_(e)),e=ON(t.get(n),e);return p_(e)}function ON(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case s1:n+="";break;default:n+=a}}return n}function p_(t){return t+s1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function cc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new Ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new Ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rh(this.root,e,this.comparator,!0)}}class Rh{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vn{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??vn.RED,this.left=s??vn.EMPTY,this.right=a??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new vn(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return vn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ye(27949);return e+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ye(57766)}get value(){throw Ye(16141)}get color(){throw Ye(16727)}get left(){throw Ye(29726)}get right(){throw Ye(36894)}copy(e,n,r,s,a){return this}insert(e,n,r){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.comparator=e,this.data=new Ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new g_(this.data.getIterator())}getIteratorFrom(e){return new g_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new sn(this.comparator);return n.data=e,n}}class g_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.fields=e,e.sort(zn.comparator)}static empty(){return new Hs([])}unionWith(e){let n=new sn(zn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Hs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new o1("Invalid base64 string: "+a):a}})(e);return new wn(n)}static fromUint8Array(e){const n=(function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a})(e);return new wn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wn.EMPTY_BYTE_STRING=new wn("");const FN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function io(t){if(Lt(!!t,39018),typeof t=="string"){let e=0;const n=FN.exec(t);if(Lt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$t(t.seconds),nanos:$t(t.nanos)}}function $t(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function so(t){return typeof t=="string"?wn.fromBase64String(t):wn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="server_timestamp",l1="__type__",u1="__previous_value__",c1="__local_write_time__";function Hg(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[l1])==null?void 0:r.stringValue)===a1}function jd(t){const e=t.mapValue.fields[u1];return Hg(e)?jd(e):e}function Gu(t){const e=io(t.mapValue.fields[c1].timestampValue);return new Yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,n,r,s,a,l,c,d,p,g,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=g,this.apiKey=y}}const od="(default)";class Ku{constructor(e,n){this.projectId=e,this.database=n||od}static empty(){return new Ku("","")}get isDefaultDatabase(){return this.database===od}isEqual(e){return e instanceof Ku&&e.projectId===this.projectId&&e.database===this.database}}function zN(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Le(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ku(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="__type__",$N="__max__",Ah={mapValue:{}},HN="__vector__",Am="value";function oo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hg(t)?4:GN(t)?9007199254740991:WN(t)?10:11:Ye(28295,{value:t})}function Si(t,e){if(t===e)return!0;const n=oo(t);if(n!==oo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gu(t).isEqual(Gu(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=io(s.timestampValue),c=io(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(s,a){return so(s.bytesValue).isEqual(so(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(s,a){return $t(s.geoPointValue.latitude)===$t(a.geoPointValue.latitude)&&$t(s.geoPointValue.longitude)===$t(a.geoPointValue.longitude)})(t,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return $t(s.integerValue)===$t(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=$t(s.doubleValue),c=$t(a.doubleValue);return l===c?Rm(l)===Rm(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return hl(t.arrayValue.values||[],e.arrayValue.values||[],Si);case 10:case 11:return(function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(m_(l)!==m_(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!Si(l[d],c[d])))return!1;return!0})(t,e);default:return Ye(52216,{left:t})}}function qu(t,e){return(t.values||[]).find((n=>Si(n,e)))!==void 0}function dl(t,e){if(t===e)return 0;const n=oo(t),r=oo(e);if(n!==r)return at(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return at(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const c=$t(a.integerValue||a.doubleValue),d=$t(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(t,e);case 3:return y_(t.timestampValue,e.timestampValue);case 4:return y_(Gu(t),Gu(e));case 5:return Cm(t.stringValue,e.stringValue);case 6:return(function(a,l){const c=so(a),d=so(l);return c.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const c=a.split("/"),d=l.split("/");for(let p=0;p<c.length&&p<d.length;p++){const g=at(c[p],d[p]);if(g!==0)return g}return at(c.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const c=at($t(a.latitude),$t(l.latitude));return c!==0?c:at($t(a.longitude),$t(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return v_(t.arrayValue,e.arrayValue);case 10:return(function(a,l){var _,T,C,N;const c=a.fields||{},d=l.fields||{},p=(_=c[Am])==null?void 0:_.arrayValue,g=(T=d[Am])==null?void 0:T.arrayValue,y=at(((C=p==null?void 0:p.values)==null?void 0:C.length)||0,((N=g==null?void 0:g.values)==null?void 0:N.length)||0);return y!==0?y:v_(p,g)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Ah.mapValue&&l===Ah.mapValue)return 0;if(a===Ah.mapValue)return 1;if(l===Ah.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),p=l.fields||{},g=Object.keys(p);d.sort(),g.sort();for(let y=0;y<d.length&&y<g.length;++y){const _=Cm(d[y],g[y]);if(_!==0)return _;const T=dl(c[d[y]],p[g[y]]);if(T!==0)return T}return at(d.length,g.length)})(t.mapValue,e.mapValue);default:throw Ye(23264,{he:n})}}function y_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return at(t,e);const n=io(t),r=io(e),s=at(n.seconds,r.seconds);return s!==0?s:at(n.nanos,r.nanos)}function v_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=dl(n[s],r[s]);if(a)return a}return at(n.length,r.length)}function fl(t){return km(t)}function km(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=io(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return so(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=km(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${km(n.fields[l])}`;return s+"}"})(t.mapValue):Ye(61005,{value:t})}function Hh(t){switch(oo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jd(t);return e?16+Hh(e):16;case 5:return 2*t.stringValue.length;case 6:return so(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+Hh(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let s=0;return cc(r.fields,((a,l)=>{s+=a.length+Hh(l)})),s})(t.mapValue);default:throw Ye(13486,{value:t})}}function Pm(t){return!!t&&"integerValue"in t}function Wg(t){return!!t&&"arrayValue"in t}function w_(t){return!!t&&"nullValue"in t}function __(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hp(t){return!!t&&"mapValue"in t}function WN(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[BN])==null?void 0:r.stringValue)===HN}function Au(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return cc(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Au(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Au(t.arrayValue.values[n]);return e}return{...t}}function GN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===$N}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this.value=e}static empty(){return new gi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Hp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Au(n)}setAll(e){let n=zn.emptyPath(),r={},s=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,s),r={},s=[],n=c.popLast()}l?r[c.lastSegment()]=Au(l):s.push(c.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());Hp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Si(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Hp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){cc(n,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new gi(Au(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n,r,s,a,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Nn(e,0,Qe.min(),Qe.min(),Qe.min(),gi.empty(),0)}static newFoundDocument(e,n,r,s){return new Nn(e,1,n,Qe.min(),r,s,0)}static newNoDocument(e,n){return new Nn(e,2,n,Qe.min(),Qe.min(),gi.empty(),0)}static newUnknownDocument(e,n){return new Nn(e,3,n,Qe.min(),Qe.min(),gi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n){this.position=e,this.inclusive=n}}function x_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=Be.comparator(Be.fromName(l.referenceValue),n.key):r=dl(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function E_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Si(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,n="asc"){this.field=e,this.dir=n}}function KN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{}class rn extends h1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new QN(e,n,r):n==="array-contains"?new JN(e,r):n==="in"?new ZN(e,r):n==="not-in"?new e2(e,r):n==="array-contains-any"?new t2(e,r):new rn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new YN(e,r):new XN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(dl(n,this.value)):n!==null&&oo(this.value)===oo(n)&&this.matchesComparison(dl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ii extends h1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ii(e,n)}matches(e){return d1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function d1(t){return t.op==="and"}function f1(t){return qN(t)&&d1(t)}function qN(t){for(const e of t.filters)if(e instanceof Ii)return!1;return!0}function Nm(t){if(t instanceof rn)return t.field.canonicalString()+t.op.toString()+fl(t.value);if(f1(t))return t.filters.map((e=>Nm(e))).join(",");{const e=t.filters.map((n=>Nm(n))).join(",");return`${t.op}(${e})`}}function p1(t,e){return t instanceof rn?(function(r,s){return s instanceof rn&&r.op===s.op&&r.field.isEqual(s.field)&&Si(r.value,s.value)})(t,e):t instanceof Ii?(function(r,s){return s instanceof Ii&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,l,c)=>a&&p1(l,s.filters[c])),!0):!1})(t,e):void Ye(19439)}function m1(t){return t instanceof rn?(function(n){return`${n.field.canonicalString()} ${n.op} ${fl(n.value)}`})(t):t instanceof Ii?(function(n){return n.op.toString()+" {"+n.getFilters().map(m1).join(" ,")+"}"})(t):"Filter"}class QN extends rn{constructor(e,n,r){super(e,n,r),this.key=Be.fromName(r.referenceValue)}matches(e){const n=Be.comparator(e.key,this.key);return this.matchesComparison(n)}}class YN extends rn{constructor(e,n){super(e,"in",n),this.keys=g1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class XN extends rn{constructor(e,n){super(e,"not-in",n),this.keys=g1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function g1(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Be.fromName(r.referenceValue)))}class JN extends rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wg(n)&&qu(n.arrayValue,this.value)}}class ZN extends rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qu(this.value.arrayValue,n)}}class e2 extends rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!qu(this.value.arrayValue,n)}}class t2 extends rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>qu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n=null,r=[],s=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.Te=null}}function T_(t,e=null,n=[],r=[],s=null,a=null,l=null){return new n2(t,e,n,r,s,a,l)}function Gg(t){const e=ut(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Nm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Od(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>fl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>fl(r))).join(",")),e.Te=n}return e.Te}function Kg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!KN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!p1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!E_(t.startAt,e.startAt)&&E_(t.endAt,e.endAt)}function Dm(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n=null,r=[],s=[],a=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function r2(t,e,n,r,s,a,l,c){return new Fd(t,e,n,r,s,a,l,c)}function qg(t){return new Fd(t)}function S_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function i2(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function s2(t){return t.collectionGroup!==null}function ku(t){const e=ut(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new sn(zn.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(c=c.add(p.field))}))})),c})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new ld(a,r))})),n.has(zn.keyField().canonicalString())||e.Ie.push(new ld(zn.keyField(),r))}return e.Ie}function _i(t){const e=ut(t);return e.Ee||(e.Ee=o2(e,ku(t))),e.Ee}function o2(t,e){if(t.limitType==="F")return T_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new ld(s.field,a)}));const n=t.endAt?new ad(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ad(t.startAt.position,t.startAt.inclusive):null;return T_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Mm(t,e,n){return new Fd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ud(t,e){return Kg(_i(t),_i(e))&&t.limitType===e.limitType}function y1(t){return`${Gg(_i(t))}|lt:${t.limitType}`}function Ga(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((s=>m1(s))).join(", ")}]`),Od(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((s=>fl(s))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((s=>fl(s))).join(",")),`Target(${r})`})(_i(t))}; limitType=${t.limitType})`}function zd(t,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Be.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,s){for(const a of ku(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(t,e)&&(function(r,s){return!(r.startAt&&!(function(l,c,d){const p=x_(l,c,d);return l.inclusive?p<=0:p<0})(r.startAt,ku(r),s)||r.endAt&&!(function(l,c,d){const p=x_(l,c,d);return l.inclusive?p>=0:p>0})(r.endAt,ku(r),s))})(t,e)}function a2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function v1(t){return(e,n)=>{let r=!1;for(const s of ku(t)){const a=l2(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function l2(t,e,n){const r=t.field.isKeyField()?Be.comparator(e.key,n.key):(function(a,l,c){const d=l.data.field(a),p=c.data.field(a);return d!==null&&p!==null?dl(d,p):Ye(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ye(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){cc(this.inner,((n,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return jN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=new Ht(Be.comparator);function ao(){return u2}const w1=new Ht(Be.comparator);function xu(...t){let e=w1;for(const n of t)e=e.insert(n.key,n);return e}function c2(t){let e=w1;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Go(){return Pu()}function _1(){return Pu()}function Pu(){return new ua((t=>t.toString()),((t,e)=>t.isEqual(e)))}const h2=new sn(Be.comparator);function ft(...t){let e=h2;for(const n of t)e=e.add(n);return e}const d2=new sn(at);function f2(){return d2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rm(e)?"-0":e}}function m2(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(){this._=void 0}}function g2(t,e,n){return t instanceof Lm?(function(s,a){const l={fields:{[l1]:{stringValue:a1},[c1]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Hg(a)&&(a=jd(a)),a&&(l.fields[u1]=a),{mapValue:l}})(n,e):t instanceof ud?x1(t,e):t instanceof cd?E1(t,e):(function(s,a){const l=v2(s,a),c=I_(l)+I_(s.Ae);return Pm(l)&&Pm(s.Ae)?m2(c):p2(s.serializer,c)})(t,e)}function y2(t,e,n){return t instanceof ud?x1(t,e):t instanceof cd?E1(t,e):n}function v2(t,e){return t instanceof Vm?(function(r){return Pm(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Lm extends Bd{}class ud extends Bd{constructor(e){super(),this.elements=e}}function x1(t,e){const n=T1(e);for(const r of t.elements)n.some((s=>Si(s,r)))||n.push(r);return{arrayValue:{values:n}}}class cd extends Bd{constructor(e){super(),this.elements=e}}function E1(t,e){let n=T1(e);for(const r of t.elements)n=n.filter((s=>!Si(s,r)));return{arrayValue:{values:n}}}class Vm extends Bd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function I_(t){return $t(t.integerValue||t.doubleValue)}function T1(t){return Wg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function w2(t,e){return t.field.isEqual(e.field)&&(function(r,s){return r instanceof ud&&s instanceof ud||r instanceof cd&&s instanceof cd?hl(r.elements,s.elements,Si):r instanceof Vm&&s instanceof Vm?Si(r.Ae,s.Ae):r instanceof Lm&&s instanceof Lm})(t.transform,e.transform)}class Yo{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yo}static exists(e){return new Yo(void 0,e)}static updateTime(e){return new Yo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qg{}function S1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new x2(t.key,Yo.none()):new Yg(t.key,t.data,Yo.none());{const n=t.data,r=gi.empty();let s=new sn(zn.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new $d(t.key,r,new Hs(s.toArray()),Yo.none())}}function _2(t,e,n){t instanceof Yg?(function(s,a,l){const c=s.value.clone(),d=C_(s.fieldTransforms,a,l.transformResults);c.setAll(d),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof $d?(function(s,a,l){if(!Wh(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=C_(s.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(I1(s)),d.setAll(c),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):(function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Nu(t,e,n,r){return t instanceof Yg?(function(a,l,c,d){if(!Wh(a.precondition,l))return c;const p=a.value.clone(),g=R_(a.fieldTransforms,d,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof $d?(function(a,l,c,d){if(!Wh(a.precondition,l))return c;const p=R_(a.fieldTransforms,d,l),g=l.data;return g.setAll(I1(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((y=>y.field)))})(t,e,n,r):(function(a,l,c){return Wh(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function b_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&hl(r,s,((a,l)=>w2(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Yg extends Qg{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class $d extends Qg{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function I1(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function C_(t,e,n){const r=new Map;Lt(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,c=e.data.field(a.field);r.set(a.field,y2(l,c,n[s]))}return r}function R_(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,g2(a,l,e))}return r}class x2 extends Qg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&_2(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Nu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Nu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=_1();return this.mutations.forEach((s=>{const a=e.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(s.key)?null:c;const d=S1(l,c);d!==null&&r.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(Qe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ft())}isEqual(e){return this.batchId===e.batchId&&hl(this.mutations,e.mutations,((n,r)=>b_(n,r)))&&hl(this.baseMutations,e.baseMutations,((n,r)=>b_(n,r)))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,lt;function b1(t){if(t===void 0)return is("GRPC error has no .code"),he.UNKNOWN;switch(t){case qt.OK:return he.OK;case qt.CANCELLED:return he.CANCELLED;case qt.UNKNOWN:return he.UNKNOWN;case qt.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case qt.INTERNAL:return he.INTERNAL;case qt.UNAVAILABLE:return he.UNAVAILABLE;case qt.UNAUTHENTICATED:return he.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case qt.NOT_FOUND:return he.NOT_FOUND;case qt.ALREADY_EXISTS:return he.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return he.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case qt.ABORTED:return he.ABORTED;case qt.OUT_OF_RANGE:return he.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return he.UNIMPLEMENTED;case qt.DATA_LOSS:return he.DATA_LOSS;default:return Ye(39323,{code:t})}}(lt=qt||(qt={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=new Qs([4294967295,4294967295],0);function A_(t){const e=I2().encode(t),n=new YT;return n.update(e),new Uint8Array(n.digest())}function k_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Qs([n,r],0),new Qs([s,a],0)]}class Xg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Eu(`Invalid padding: ${n}`);if(r<0)throw new Eu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Eu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Eu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Qs.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Qs.fromNumber(r)));return s.compare(b2)===1&&(s=new Qs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=A_(e),[r,s]=k_(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);if(!this.we(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Xg(a,s,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=A_(e),[r,s]=k_(n);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,s,a);this.be(l)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,hc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hd(Qe.min(),s,new Ht(at),ao(),ft())}}class hc{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new hc(r,n,ft(),ft(),ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=s}}class C1{constructor(e,n){this.targetId=e,this.Ce=n}}class R1{constructor(e,n,r=wn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class P_{constructor(){this.ve=0,this.Fe=N_(),this.Me=wn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ft(),n=ft(),r=ft();return this.Fe.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ye(38017,{changeType:a})}})),new hc(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=N_()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Lt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class C2{constructor(e){this.Ge=e,this.ze=new Map,this.je=ao(),this.He=kh(),this.Je=kh(),this.Ze=new Ht(at)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ye(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,s)=>{this.rt(s)&&n(s)}))}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const a=s.target;if(Dm(a))if(r===0){const l=new Be(a.path);this.et(n,l,Nn.newNoDocument(l,Qe.min()))}else Lt(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),d=c?this.ct(c,e,l):1;if(d!==0){this.it(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,c;try{l=so(r).toUint8Array()}catch(d){if(d instanceof o1)return cl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new Xg(l,s,a)}catch(d){return cl(d instanceof Eu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach((a=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(n,a,null),s++)})),s}Tt(e){const n=new Map;this.ze.forEach(((a,l)=>{const c=this.ot(l);if(c){if(a.current&&Dm(c.target)){const d=new Be(c.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,Nn.newNoDocument(d,e))}a.Be&&(n.set(l,a.ke()),a.Ke())}}));let r=ft();this.Je.forEach(((a,l)=>{let c=!0;l.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const s=new Hd(e,n,this.Ze,this.je,r);return this.je=ao(),this.He=kh(),this.Je=kh(),this.Ze=new Ht(at),s}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new P_,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new sn(at),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new sn(at),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Te("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new P_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function kh(){return new Ht(Be.comparator)}function N_(){return new Ht(Be.comparator)}const R2={asc:"ASCENDING",desc:"DESCENDING"},A2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},k2={and:"AND",or:"OR"};class P2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Om(t,e){return t.useProto3Json||Od(e)?e:{value:e}}function N2(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function D2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function nl(t){return Lt(!!t,49232),Qe.fromTimestamp((function(n){const r=io(n);return new Yt(r.seconds,r.nanos)})(t))}function M2(t,e){return jm(t,e).canonicalString()}function jm(t,e){const n=(function(s){return new bt(["projects",s.projectId,"databases",s.database])})(t).child("documents");return e===void 0?n:n.child(e)}function A1(t){const e=bt.fromString(t);return Lt(M1(e),10190,{key:e.toString()}),e}function Wp(t,e){const n=A1(e);if(n.get(1)!==t.databaseId.projectId)throw new Le(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Le(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Be(P1(n))}function k1(t,e){return M2(t.databaseId,e)}function L2(t){const e=A1(t);return e.length===4?bt.emptyPath():P1(e)}function D_(t){return new bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function P1(t){return Lt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function V2(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ye(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(p,g){return p.useProto3Json?(Lt(g===void 0||typeof g=="string",58123),wn.fromBase64String(g||"")):(Lt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),wn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(p){const g=p.code===void 0?he.UNKNOWN:b1(p.code);return new Le(g,p.message||"")})(l);n=new R1(r,s,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Wp(t,r.document.name),a=nl(r.document.updateTime),l=r.document.createTime?nl(r.document.createTime):Qe.min(),c=new gi({mapValue:{fields:r.document.fields}}),d=Nn.newFoundDocument(s,a,l,c),p=r.targetIds||[],g=r.removedTargetIds||[];n=new Gh(p,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Wp(t,r.document),a=r.readTime?nl(r.readTime):Qe.min(),l=Nn.newNoDocument(s,a),c=r.removedTargetIds||[];n=new Gh([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Wp(t,r.document),a=r.removedTargetIds||[];n=new Gh([],a,s,null)}else{if(!("filter"in e))return Ye(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new S2(s,a),c=r.targetId;n=new C1(c,l)}}return n}function O2(t,e){return{documents:[k1(t,e.path)]}}function j2(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=k1(t,s);const a=(function(p){if(p.length!==0)return D1(Ii.create(p,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(p){if(p.length!==0)return p.map((g=>(function(_){return{field:Ka(_.field),direction:z2(_.dir)}})(g)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=Om(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:s}}function F2(t){let e=L2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Lt(r===1,65062);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=(function(y){const _=N1(y);return _ instanceof Ii&&f1(_)?_.getFilters():[_]})(n.where));let l=[];n.orderBy&&(l=(function(y){return y.map((_=>(function(C){return new ld(qa(C.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(_)))})(n.orderBy));let c=null;n.limit&&(c=(function(y){let _;return _=typeof y=="object"?y.value:y,Od(_)?null:_})(n.limit));let d=null;n.startAt&&(d=(function(y){const _=!!y.before,T=y.values||[];return new ad(T,_)})(n.startAt));let p=null;return n.endAt&&(p=(function(y){const _=!y.before,T=y.values||[];return new ad(T,_)})(n.endAt)),r2(e,s,l,a,c,"F",d,p)}function U2(t,e){const n=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ye(28987,{purpose:s})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function N1(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=qa(n.unaryFilter.field);return rn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=qa(n.unaryFilter.field);return rn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=qa(n.unaryFilter.field);return rn.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=qa(n.unaryFilter.field);return rn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ye(61313);default:return Ye(60726)}})(t):t.fieldFilter!==void 0?(function(n){return rn.create(qa(n.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ye(58110);default:return Ye(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ii.create(n.compositeFilter.filters.map((r=>N1(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ye(1026)}})(n.compositeFilter.op))})(t):Ye(30097,{filter:t})}function z2(t){return R2[t]}function B2(t){return A2[t]}function $2(t){return k2[t]}function Ka(t){return{fieldPath:t.canonicalString()}}function qa(t){return zn.fromServerFormat(t.fieldPath)}function D1(t){return t instanceof rn?(function(n){if(n.op==="=="){if(__(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NAN"}};if(w_(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(__(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NOT_NAN"}};if(w_(n.value))return{unaryFilter:{field:Ka(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(n.field),op:B2(n.op),value:n.value}}})(t):t instanceof Ii?(function(n){const r=n.getFilters().map((s=>D1(s)));return r.length===1?r[0]:{compositeFilter:{op:$2(n.op),filters:r}}})(t):Ye(54877,{filter:t})}function M1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n,r,s,a=Qe.min(),l=Qe.min(),c=wn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e){this.yt=e}}function W2(t){const e=F2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(){this.Sn=new K2}addToCollectionParentIndex(e,n){return this.Sn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(ro.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(ro.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class K2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new sn(bt.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new sn(bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},L1=41943040;class nr{static withCacheSize(e){return new nr(e,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nr.DEFAULT_COLLECTION_PERCENTILE=10,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nr.DEFAULT=new nr(L1,nr.DEFAULT_COLLECTION_PERCENTILE,nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nr.DISABLED=new nr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new pl(0)}static ar(){return new pl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="LruGarbageCollector",q2=1048576;function V_([t,e],[n,r]){const s=at(t,n);return s===0?at(e,r):s}class Q2{constructor(e){this.Pr=e,this.buffer=new sn(V_),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();V_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Y2{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Te(L_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wl(n)?Te(L_,"Ignoring IndexedDB error during garbage collection: ",n):await Ld(n)}await this.Ar(3e5)}))}}class X2{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Vd.ce);const r=new Q2(n);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(M_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),M_):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,s,a,l,c,d,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),s=this.params.maximumSequenceNumbersToCollect):s=y,l=Date.now(),this.nthSequenceNumber(e,s)))).next((y=>(r=y,c=Date.now(),this.removeTargets(e,r,n)))).next((y=>(a=y,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(p=Date.now(),Wa()<=rt.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${y} documents in `+(p-d)+`ms
Total Duration: ${p-g}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:y}))))}}function J2(t,e){return new X2(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(){this.changes=new ua((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,n)))).next((s=>(r!==null&&Nu(r.mutation,s,Hs.empty(),Yt.now()),s)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ft()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ft()){const s=Go();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,r).next((a=>{let l=xu();return a.forEach(((c,d)=>{l=l.insert(c,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=Go();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ft())))}populateOverlays(e,n,r){const s=[];return r.forEach((a=>{n.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,s){let a=ao();const l=Pu(),c=(function(){return Pu()})();return n.forEach(((d,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof $d)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),Nu(g.mutation,p,g.mutation.getFieldMask(),Yt.now())):l.set(p.key,Hs.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((p,g)=>l.set(p,g))),n.forEach(((p,g)=>c.set(p,new eD(g,l.get(p)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Pu();let s=new Ht(((l,c)=>l-c)),a=ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((d=>{const p=n.get(d);if(p===null)return;let g=r.get(d)||Hs.empty();g=c.applyToLocalView(p,g),r.set(d,g);const y=(s.get(c.batchId)||ft()).add(d);s=s.insert(c.batchId,y)}))})).next((()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),p=d.key,g=d.value,y=_1();g.forEach((_=>{if(!a.has(_)){const T=S1(n.get(_),r.get(_));T!==null&&y.set(_,T),a=a.add(_)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,y))}return ie.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,s){return i2(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):s2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next((a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):ie.resolve(Go());let c=Wu,d=a;return l.next((p=>ie.forEach(p,((g,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),a.get(g)?ie.resolve():this.remoteDocumentCache.getEntry(e,g).next((_=>{d=d.insert(g,_)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,d,p,ft()))).next((g=>({batchId:c,changes:c2(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Be(n)).next((r=>{let s=xu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=xu();return this.indexManager.getCollectionParents(e,a).next((c=>ie.forEach(c,(d=>{const p=(function(y,_){return new Fd(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((g=>{g.forEach(((y,_)=>{l=l.insert(y,_)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s)))).next((l=>{a.forEach(((d,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,Nn.newInvalidDocument(g)))}));let c=xu();return l.forEach(((d,p)=>{const g=a.get(d);g!==void 0&&Nu(g.mutation,p,Hs.empty(),Yt.now()),zd(n,p)&&(c=c.insert(d,p))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ie.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(s){return{id:s.id,version:s.version,createTime:nl(s.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(s){return{name:s.name,query:W2(s.bundledQuery),readTime:nl(s.readTime)}})(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(){this.overlays=new Ht(Be.comparator),this.Lr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Go();return ie.forEach(n,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((s,a)=>{this.bt(e,n,a)})),ie.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const s=Go(),a=n.length+1,l=new Be(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&d.largestBatchId>r&&s.set(d.getKey(),d)}return ie.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new Ht(((p,g)=>p-g));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=Go(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=Go(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,g)=>c.set(p,g))),!(c.size()>=s)););return ie.resolve(c)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new T2(n,r));let a=this.Lr.get(n);a===void 0&&(a=ft(),this.Lr.set(n,a)),this.Lr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.sessionToken=wn.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(){this.kr=new sn(hn.Kr),this.qr=new sn(hn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new hn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new hn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Be(new bt([])),r=new hn(n,e),s=new hn(n,e+1),a=[];return this.qr.forEachInRange([r,s],(l=>{this.Wr(l),a.push(l.key)})),a}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Be(new bt([])),r=new hn(n,e),s=new hn(n,e+1);let a=ft();return this.qr.forEachInRange([r,s],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new hn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class hn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Be.comparator(e.key,n.key)||at(e.Hr,n.Hr)}static Ur(e,n){return at(e.Hr,n.Hr)||Be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new sn(hn.Kr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new E2(a,n,r,s);this.mutationQueue.push(l);for(const c of s)this.Jr=this.Jr.add(new hn(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ie.resolve(l)}lookupMutationBatch(e,n){return ie.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),a=s<0?0:s;return ie.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?LN:this.Yn-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new hn(n,0),s=new hn(n,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,s],(l=>{const c=this.Zr(l.Hr);a.push(c)})),ie.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new sn(at);return n.forEach((s=>{const a=new hn(s,0),l=new hn(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,l],(c=>{r=r.add(c.Hr)}))})),ie.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;Be.isDocumentKey(a)||(a=a.child(""));const l=new hn(new Be(a),0);let c=new sn(at);return this.Jr.forEachWhile((d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(c=c.add(d.Hr)),!0)}),l),ie.resolve(this.Yr(c))}Yr(e){const n=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&n.push(s)})),n}removeMutationBatch(e,n){Lt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ie.forEach(n.mutations,(s=>{const a=new hn(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new hn(n,0),s=this.Jr.firstAfterOrEqual(r);return ie.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.ti=e,this.docs=(function(){return new Ht(Be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():Nn.newInvalidDocument(n))}getEntries(e,n){let r=ao();return n.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Nn.newInvalidDocument(s))})),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=ao();const l=n.path,c=new Be(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:p,value:{document:g}}=d.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||PN(kN(g),r)<=0||(s.has(g.key)||zd(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return ie.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Ye(9500)}ni(e,n){return ie.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new aD(this)}getSize(e){return ie.resolve(this.size)}}class aD extends Z2{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)})),ie.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.persistence=e,this.ri=new ua((n=>Gg(n)),Kg),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this.ii=0,this.si=new Jg,this.targetCount=0,this.oi=pl._r()}forEachTarget(e,n){return this.ri.forEach(((r,s)=>n(s))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),ie.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new pl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.lr(n),ie.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.ri.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ri.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),ie.waitFor(a).next((()=>s))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach((l=>{a.push(s.markPotentiallyOrphaned(e,l))})),ie.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,n){this._i={},this.overlays={},this.ai=new Vd(0),this.ui=!1,this.ui=!0,this.ci=new iD,this.referenceDelegate=e(this),this.li=new lD(this),this.indexManager=new G2,this.remoteDocumentCache=(function(s){return new oD(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new H2(n),this.Pi=new nD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new sD(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Te("MemoryPersistence","Starting transaction:",e);const s=new uD(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((a=>this.referenceDelegate.Ii(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ei(e,n){return ie.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class uD extends DN{constructor(e){super(),this.currentSequenceNumber=e}}class Zg{constructor(e){this.persistence=e,this.Ri=new Jg,this.Ai=null}static Vi(e){return new Zg(e)}get di(){if(this.Ai)return this.Ai;throw Ye(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((s=>{s.forEach((a=>this.di.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.di,(r=>{const s=Be.fromPath(r);return this.mi(e,s).next((a=>{a||n.removeEntry(s,Qe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class hd{constructor(e,n){this.persistence=e,this.fi=new ua((r=>VN(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=J2(this,n)}static Vi(e,n){return new hd(e,n)}Ti(){}Ii(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((s=>r+s))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return ie.forEach(this.fi,((r,s)=>this.wr(e,r,s).next((a=>a?ie.resolve():n(s)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ni(e,(l=>this.wr(e,l,n).next((c=>{c||(r++,a.removeEntry(l,Qe.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Hh(e.data.value)),n}wr(e,n,r){return ie.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return ie.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=s}static Es(e,n){let r=ft(),s=ft();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new ey(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Xk()?8:MN(Ln())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.gs(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ps(e,n,s,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new cD;return this.ys(e,n,l).next((c=>{if(a.result=c,this.As)return this.ws(e,n,l,c.size)}))})).next((()=>a.result))}ws(e,n,r,s){return r.documentReadCount<this.Vs?(Wa()<=rt.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",Ga(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ie.resolve()):(Wa()<=rt.DEBUG&&Te("QueryEngine","Query:",Ga(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Wa()<=rt.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",Ga(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_i(n))):ie.resolve())}gs(e,n){if(S_(n))return ie.resolve(null);let r=_i(n);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(n.limit!==null&&s===1&&(n=Mm(n,null,"F"),r=_i(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=ft(...a);return this.fs.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const p=this.bs(n,c);return this.Ss(n,p,l,d.readTime)?this.gs(e,Mm(n,null,"F")):this.Ds(e,p,n,d)}))))})))))}ps(e,n,r,s){return S_(n)||s.isEqual(Qe.min())?ie.resolve(null):this.fs.getDocuments(e,r).next((a=>{const l=this.bs(n,a);return this.Ss(n,l,r,s)?ie.resolve(null):(Wa()<=rt.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ga(n)),this.Ds(e,l,n,AN(s,Wu)).next((c=>c)))}))}bs(e,n){let r=new sn(v1(e));return n.forEach(((s,a)=>{zd(e,a)&&(r=r.add(a))})),r}Ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ys(e,n,r){return Wa()<=rt.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",Ga(n)),this.fs.getDocumentsMatchingQuery(e,n,ro.min(),r)}Ds(e,n,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty="LocalStore",dD=3e8;class fD{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new Ht(at),this.Fs=new ua((a=>Gg(a)),Kg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tD(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function pD(t,e,n,r){return new fD(t,e,n,r)}async function O1(t,e){const n=ut(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],c=[];let d=ft();for(const p of s){l.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}for(const p of a){c.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(r,d).next((p=>({Ns:p,removedBatchIds:l,addedBatchIds:c})))}))}))}function j1(t){const e=ut(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function mD(t,e){const n=ut(t),r=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const c=[];e.targetChanges.forEach(((g,y)=>{const _=s.get(y);if(!_)return;c.push(n.li.removeMatchingKeys(a,g.removedDocuments,y).next((()=>n.li.addMatchingKeys(a,g.addedDocuments,y))));let T=_.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(y)!==null?T=T.withResumeToken(wn.EMPTY_BYTE_STRING,Qe.min()).withLastLimboFreeSnapshotVersion(Qe.min()):g.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(g.resumeToken,r)),s=s.insert(y,T),(function(N,P,U){return N.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=dD?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(_,T,g)&&c.push(n.li.updateTargetData(a,T))}));let d=ao(),p=ft();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))})),c.push(gD(a,l,e.documentUpdates).next((g=>{d=g.Bs,p=g.Ls}))),!r.isEqual(Qe.min())){const g=n.li.getLastRemoteSnapshotVersion(a).next((y=>n.li.setTargetsMetadata(a,a.currentSequenceNumber,r)));c.push(g)}return ie.waitFor(c).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,d,p))).next((()=>d))})).then((a=>(n.vs=s,a)))}function gD(t,e,n){let r=ft(),s=ft();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=ao();return n.forEach(((c,d)=>{const p=a.get(c);d.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(c)),d.isNoDocument()&&d.version.isEqual(Qe.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):Te(ty,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",d.version)})),{Bs:l,Ls:s}}))}function yD(t,e){const n=ut(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return n.li.getTargetData(r,e).next((a=>a?(s=a,ie.resolve(s)):n.li.allocateTargetId(r).next((l=>(s=new Ws(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function Fm(t,e,n){const r=ut(t),s=r.vs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!wl(l))throw l;Te(ty,`Failed to update sequence numbers for target ${e}: ${l}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function O_(t,e,n){const r=ut(t);let s=Qe.min(),a=ft();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,p,g){const y=ut(d),_=y.Fs.get(g);return _!==void 0?ie.resolve(y.vs.get(_)):y.li.getTargetData(p,g)})(r,l,_i(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(l,c.targetId).next((d=>{a=d}))})).next((()=>r.Cs.getDocumentsMatchingQuery(l,e,n?s:Qe.min(),n?a:ft()))).next((c=>(vD(r,a2(e),c),{documents:c,ks:a})))))}function vD(t,e,n){let r=t.Ms.get(e)||Qe.min();n.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Ms.set(e,r)}class j_{constructor(){this.activeTargetIds=f2()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wD{constructor(){this.vo=new j_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new j_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="ConnectivityMonitor";class U_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Te(F_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Te(F_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph=null;function Um(){return Ph===null?Ph=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ph++,"0x"+Ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp="RestConnection",xD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class ED{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===od?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,a){const l=Um(),c=this.Qo(e,n.toUriEncodedString());Te(Gp,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,s,a);const{host:p}=new URL(c),g=aa(p);return this.zo(e,c,d,r,g).then((y=>(Te(Gp,`Received RPC '${e}' ${l}: `,y),y)),(y=>{throw cl(Gp,`RPC '${e}' ${l} failed with error: `,y,"url: ",c,"request:",r),y}))}jo(e,n,r,s,a,l){return this.Wo(e,n,r,s,a)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}Qo(e,n){const r=xD[e];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="WebChannelConnection",fu=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class rl extends ED{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!rl.c_){const e=e1();fu(e,ZT.STAT_EVENT,(n=>{n.stat===bm.PROXY?Te(An,"STAT_EVENT: detected buffering proxy"):n.stat===bm.NOPROXY&&Te(An,"STAT_EVENT: detected no buffering proxy")})),rl.c_=!0}}zo(e,n,r,s,a){const l=Um();return new Promise(((c,d)=>{const p=new XT;p.setWithCredentials(!0),p.listenOnce(JT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case $h.NO_ERROR:const y=p.getResponseJson();Te(An,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case $h.TIMEOUT:Te(An,`RPC '${e}' ${l} timed out`),d(new Le(he.DEADLINE_EXCEEDED,"Request time out"));break;case $h.HTTP_ERROR:const _=p.getStatus();if(Te(An,`RPC '${e}' ${l} failed with status:`,_,"response text:",p.getResponseText()),_>0){let T=p.getResponseJson();Array.isArray(T)&&(T=T[0]);const C=T==null?void 0:T.error;if(C&&C.status&&C.message){const N=(function(U){const F=U.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(F)>=0?F:he.UNKNOWN})(C.status);d(new Le(N,C.message))}else d(new Le(he.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new Le(he.UNAVAILABLE,"Connection failed."));break;default:Ye(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{Te(An,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(s);Te(An,`RPC '${e}' ${l} sending request:`,s),p.send(n,"POST",g,r,15)}))}T_(e,n,r){const s=Um(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=this.createWebChannelTransport(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Go(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const p=a.join("");Te(An,`Creating RPC '${e}' stream ${s}: ${p}`,c);const g=l.createWebChannel(p,c);this.I_(g);let y=!1,_=!1;const T=new TD({Ho:C=>{_?Te(An,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(y||(Te(An,`Opening RPC '${e}' stream ${s} transport.`),g.open(),y=!0),Te(An,`RPC '${e}' stream ${s} sending:`,C),g.send(C))},Jo:()=>g.close()});return fu(g,_u.EventType.OPEN,(()=>{_||(Te(An,`RPC '${e}' stream ${s} transport opened.`),T.i_())})),fu(g,_u.EventType.CLOSE,(()=>{_||(_=!0,Te(An,`RPC '${e}' stream ${s} transport closed`),T.o_(),this.E_(g))})),fu(g,_u.EventType.ERROR,(C=>{_||(_=!0,cl(An,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),T.o_(new Le(he.UNAVAILABLE,"The operation could not be completed")))})),fu(g,_u.EventType.MESSAGE,(C=>{var N;if(!_){const P=C.data[0];Lt(!!P,16349);const U=P,F=(U==null?void 0:U.error)||((N=U[0])==null?void 0:N.error);if(F){Te(An,`RPC '${e}' stream ${s} received error:`,F);const W=F.status;let Q=(function(b){const S=qt[b];if(S!==void 0)return b1(S)})(W),ee=F.message;Q===void 0&&(Q=he.INTERNAL,ee="Unknown error status: "+W+" with message "+F.message),_=!0,T.o_(new Le(Q,ee)),g.close()}else Te(An,`RPC '${e}' stream ${s} received:`,P),T.__(P)}})),rl.u_(),setTimeout((()=>{T.s_()}),0),T}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return t1()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(t){return new rl(t)}function Kp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(t){return new P2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rl.c_=!1;class U1{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=s,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="PersistentStream";class ID{constructor(e,n,r,s,a,l,c,d){this.Ci=e,this.b_=r,this.S_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new U1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(is(n.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===n&&this.G_(r,s)}),(r=>{e((()=>{const s=new Le(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Te(z_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Te(z_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class bD extends ID{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=V2(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Qe.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Qe.min():l.readTime?nl(l.readTime):Qe.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=D_(this.serializer),n.addTarget=(function(a,l){let c;const d=l.target;if(c=Dm(d)?{documents:O2(a,d)}:{query:j2(a,d).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=D2(a,l.resumeToken);const p=Om(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(Qe.min())>0){c.readTime=N2(a,l.snapshotVersion.toTimestamp());const p=Om(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c})(this.serializer,e);const r=U2(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=D_(this.serializer),n.removeTarget=e,this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{}class RD extends CD{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new Le(he.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Wo(e,jm(n,r),s,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Le(he.UNKNOWN,a.toString())}))}jo(e,n,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.jo(e,jm(n,r),s,l,c,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Le(he.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function AD(t,e,n,r){return new RD(t,e,n,r)}class kD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(is(n),this.aa=!1):Te("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml="RemoteStore";class PD{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((l=>{r.enqueueAndForget((async()=>{fc(this)&&(Te(ml,"Restarting streams for network reachability change."),await(async function(d){const p=ut(d);p.Ea.add(4),await dc(p),p.Va.set("Unknown"),p.Ea.delete(4),await Wd(p)})(this))}))})),this.Va=new kD(r,s)}}async function Wd(t){if(fc(t))for(const e of t.Ra)await e(!0)}async function dc(t){for(const e of t.Ra)await e(!1)}function z1(t,e){const n=ut(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),sy(n)?iy(n):_l(n).O_()&&ry(n,e))}function ny(t,e){const n=ut(t),r=_l(n);n.Ia.delete(e),r.O_()&&B1(n,e),n.Ia.size===0&&(r.O_()?r.L_():fc(n)&&n.Va.set("Unknown"))}function ry(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_l(t).Z_(e)}function B1(t,e){t.da.$e(e),_l(t).X_(e)}function iy(t){t.da=new C2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),_l(t).start(),t.Va.ua()}function sy(t){return fc(t)&&!_l(t).x_()&&t.Ia.size>0}function fc(t){return ut(t).Ea.size===0}function $1(t){t.da=void 0}async function ND(t){t.Va.set("Online")}async function DD(t){t.Ia.forEach(((e,n)=>{ry(t,e)}))}async function MD(t,e){$1(t),sy(t)?(t.Va.ha(e),iy(t)):t.Va.set("Unknown")}async function LD(t,e,n){if(t.Va.set("Online"),e instanceof R1&&e.state===2&&e.cause)try{await(async function(s,a){const l=a.cause;for(const c of a.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ia.delete(c),s.da.removeTarget(c))})(t,e)}catch(r){Te(ml,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await B_(t,r)}else if(e instanceof Gh?t.da.Xe(e):e instanceof C1?t.da.st(e):t.da.tt(e),!n.isEqual(Qe.min()))try{const r=await j1(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const c=a.da.Tt(l);return c.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const g=a.Ia.get(p);g&&a.Ia.set(p,g.withResumeToken(d.resumeToken,l))}})),c.targetMismatches.forEach(((d,p)=>{const g=a.Ia.get(d);if(!g)return;a.Ia.set(d,g.withResumeToken(wn.EMPTY_BYTE_STRING,g.snapshotVersion)),B1(a,d);const y=new Ws(g.target,d,p,g.sequenceNumber);ry(a,y)})),a.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){Te(ml,"Failed to raise snapshot:",r),await B_(t,r)}}async function B_(t,e,n){if(!wl(e))throw e;t.Ea.add(1),await dc(t),t.Va.set("Offline"),n||(n=()=>j1(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Te(ml,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Wd(t)}))}async function $_(t,e){const n=ut(t);n.asyncQueue.verifyOperationInProgress(),Te(ml,"RemoteStore received new credentials");const r=fc(n);n.Ea.add(3),await dc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Wd(n)}async function VD(t,e){const n=ut(t);e?(n.Ea.delete(2),await Wd(n)):e||(n.Ea.add(2),await dc(n),n.Va.set("Unknown"))}function _l(t){return t.ma||(t.ma=(function(n,r,s){const a=ut(n);return a.sa(),new bD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(t.datastore,t.asyncQueue,{Zo:ND.bind(null,t),Yo:DD.bind(null,t),t_:MD.bind(null,t),J_:LD.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),sy(t)?iy(t):t.Va.set("Unknown")):(await t.ma.stop(),$1(t))}))),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,c=new oy(e,n,l,s,a);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Le(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function H1(t,e){if(is("AsyncQueue",`${e}: ${t}`),wl(t))return new Le(he.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{static emptySet(e){return new il(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Be.comparator(n.key,r.key):(n,r)=>Be.comparator(n.key,r.key),this.keyedMap=xu(),this.sortedSet=new Ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof il)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new il;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(){this.ga=new Ht(Be.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ye(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class gl{constructor(e,n,r,s,a,l,c,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new gl(e,n,il.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ud(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class jD{constructor(){this.queries=W_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ut(n),a=s.queries;s.queries=W_(),a.forEach(((l,c)=>{for(const d of c.ba)d.onError(r)}))})(this,new Le(he.ABORTED,"Firestore shutting down"))}}function W_(){return new ua((t=>y1(t)),Ud)}async function W1(t,e){const n=ut(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.Sa()&&e.Da()&&(r=2):(a=new OD,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(s,!0);break;case 1:a.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=H1(l,`Initialization of query '${Ga(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,a),a.ba.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&ay(n)}async function G1(t,e){const n=ut(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const l=a.ba.indexOf(e);l>=0&&(a.ba.splice(l,1),a.ba.length===0?s=e.Da()?0:1:!a.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function FD(t,e){const n=ut(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const c of l.ba)c.Fa(s)&&(r=!0);l.wa=s}}r&&ay(n)}function UD(t,e,n){const r=ut(t),s=r.queries.get(e);if(s)for(const a of s.ba)a.onError(n);r.queries.delete(e)}function ay(t){t.Ca.forEach((e=>{e.next()}))}var zm,G_;(G_=zm||(zm={})).Ma="default",G_.Cache="cache";class K1{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new gl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==zm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){this.key=e}}class Q1{constructor(e){this.key=e}}class zD{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ft(),this.mutatedKeys=ft(),this.eu=v1(e),this.tu=new il(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new H_,s=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,y)=>{const _=s.get(g),T=zd(this.query,y)?y:null,C=!!_&&this.mutatedKeys.has(_.key),N=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let P=!1;_&&T?_.data.isEqual(T.data)?C!==N&&(r.track({type:3,doc:T}),P=!0):this.su(_,T)||(r.track({type:2,doc:T}),P=!0,(d&&this.eu(T,d)>0||p&&this.eu(T,p)<0)&&(c=!0)):!_&&T?(r.track({type:0,doc:T}),P=!0):_&&!T&&(r.track({type:1,doc:_}),P=!0,(d||p)&&(c=!0)),P&&(T?(l=l.add(T),a=N?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:l,iu:r,Ss:c,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,y)=>(function(T,C){const N=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ye(20277,{Vt:P})}};return N(T)-N(C)})(g.type,y.type)||this.eu(g.doc,y.doc))),this.ou(r),s=s??!1;const c=n&&!s?this._u():[],d=this.Ya.size===0&&this.current&&!s?1:0,p=d!==this.Xa;return this.Xa=d,l.length!==0||p?{snapshot:new gl(this.query,e.tu,a,l,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new H_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ft(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new Q1(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new q1(r))})),n}cu(e){this.Za=e.ks,this.Ya=ft();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return gl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ly="SyncEngine";class BD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $D{constructor(e){this.key=e,this.hu=!1}}class HD{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new ua((c=>y1(c)),Ud),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ht(Be.comparator),this.Au=new Map,this.Vu=new Jg,this.du={},this.mu=new Map,this.fu=pl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function WD(t,e,n=!0){const r=eS(t);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await Y1(r,e,n,!0),s}async function GD(t,e){const n=eS(t);await Y1(n,e,!0,!1)}async function Y1(t,e,n,r){const s=await yD(t.localStore,_i(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await KD(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&z1(t.remoteStore,s),c}async function KD(t,e,n,r,s){t.pu=(y,_,T)=>(async function(N,P,U,F){let W=P.view.ru(U);W.Ss&&(W=await O_(N.localStore,P.query,!1).then((({documents:b})=>P.view.ru(b,W))));const Q=F&&F.targetChanges.get(P.targetId),ee=F&&F.targetMismatches.get(P.targetId)!=null,ne=P.view.applyChanges(W,N.isPrimaryClient,Q,ee);return q_(N,P.targetId,ne.au),ne.snapshot})(t,y,_,T);const a=await O_(t.localStore,e,!0),l=new zD(e,a.ks),c=l.ru(a.documents),d=hc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=l.applyChanges(c,t.isPrimaryClient,d);q_(t,n,p.au);const g=new BD(e,n,l);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function qD(t,e,n){const r=ut(t),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter((l=>!Ud(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Fm(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),n&&ny(r.remoteStore,s.targetId),Bm(r,s.targetId)})).catch(Ld)):(Bm(r,s.targetId),await Fm(r.localStore,s.targetId,!0))}async function QD(t,e){const n=ut(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ny(n.remoteStore,r.targetId))}async function X1(t,e){const n=ut(t);try{const r=await mD(n.localStore,e);e.targetChanges.forEach(((s,a)=>{const l=n.Au.get(a);l&&(Lt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Lt(l.hu,14607):s.removedDocuments.size>0&&(Lt(l.hu,42227),l.hu=!1))})),await Z1(n,r,e)}catch(r){await Ld(r)}}function K_(t,e,n){const r=ut(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach(((a,l)=>{const c=l.view.va(e);c.snapshot&&s.push(c.snapshot)})),(function(l,c){const d=ut(l);d.onlineState=c;let p=!1;d.queries.forEach(((g,y)=>{for(const _ of y.ba)_.va(c)&&(p=!0)})),p&&ay(d)})(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function YD(t,e,n){const r=ut(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),a=s&&s.key;if(a){let l=new Ht(Be.comparator);l=l.insert(a,Nn.newNoDocument(a,Qe.min()));const c=ft().add(a),d=new Hd(Qe.min(),new Map,new Ht(at),l,c);await X1(r,d),r.Ru=r.Ru.remove(a),r.Au.delete(e),uy(r)}else await Fm(r.localStore,e,!1).then((()=>Bm(r,e,n))).catch(Ld)}function Bm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||J1(t,r)}))}function J1(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(ny(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),uy(t))}function q_(t,e,n){for(const r of n)r instanceof q1?(t.Vu.addReference(r.key,e),XD(t,r)):r instanceof Q1?(Te(ly,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||J1(t,r.key)):Ye(19791,{wu:r})}function XD(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Te(ly,"New document in limbo: "+n),t.Eu.add(r),uy(t))}function uy(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Be(bt.fromString(e)),r=t.fu.next();t.Au.set(r,new $D(n)),t.Ru=t.Ru.insert(n,r),z1(t.remoteStore,new Ws(_i(qg(n.path)),r,"TargetPurposeLimboResolution",Vd.ce))}}async function Z1(t,e,n){const r=ut(t),s=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,d)=>{l.push(r.pu(d,e,n).then((p=>{var g;if((p||n)&&r.isPrimaryClient){const y=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(d.targetId))==null?void 0:g.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(p){s.push(p);const y=ey.Es(d.targetId,p);a.push(y)}})))})),await Promise.all(l),r.Pu.J_(s),await(async function(d,p){const g=ut(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>ie.forEach(p,(_=>ie.forEach(_.Ts,(T=>g.persistence.referenceDelegate.addReference(y,_.targetId,T))).next((()=>ie.forEach(_.Is,(T=>g.persistence.referenceDelegate.removeReference(y,_.targetId,T)))))))))}catch(y){if(!wl(y))throw y;Te(ty,"Failed to update sequence numbers: "+y)}for(const y of p){const _=y.targetId;if(!y.fromCache){const T=g.vs.get(_),C=T.snapshotVersion,N=T.withLastLimboFreeSnapshotVersion(C);g.vs=g.vs.insert(_,N)}}})(r.localStore,a))}async function JD(t,e){const n=ut(t);if(!n.currentUser.isEqual(e)){Te(ly,"User change. New user:",e.toKey());const r=await O1(n.localStore,e);n.currentUser=e,(function(a,l){a.mu.forEach((c=>{c.forEach((d=>{d.reject(new Le(he.CANCELLED,l))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Z1(n,r.Ns)}}function ZD(t,e){const n=ut(t),r=n.Au.get(e);if(r&&r.hu)return ft().add(r.key);{let s=ft();const a=n.Iu.get(e);if(!a)return s;for(const l of a){const c=n.Tu.get(l);s=s.unionWith(c.view.nu)}return s}}function eS(t){const e=ut(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=X1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YD.bind(null,e),e.Pu.J_=FD.bind(null,e.eventManager),e.Pu.yu=UD.bind(null,e.eventManager),e}class dd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=F1(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return pD(this.persistence,new hD,e.initialUser,this.serializer)}Cu(e){return new V1(Zg.Vi,this.serializer)}Du(e){return new wD}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dd.provider={build:()=>new dd};class eM extends dd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Lt(this.persistence.referenceDelegate instanceof hd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Y2(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?nr.withCacheSize(this.cacheSizeBytes):nr.DEFAULT;return new V1((r=>hd.Vi(r,n)),this.serializer)}}class $m{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>K_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=JD.bind(null,this.syncEngine),await VD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new jD})()}createDatastore(e){const n=F1(e.databaseInfo.databaseId),r=SD(e.databaseInfo);return AD(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,s,a,l,c){return new PD(r,s,a,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>K_(this.syncEngine,n,0)),(function(){return U_.v()?new U_:new _D})())}createSyncEngine(e,n){return(function(s,a,l,c,d,p,g){const y=new HD(s,a,l,c,d,p);return g&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(s){const a=ut(s);Te(ml,"RemoteStore shutting down."),a.Ea.add(5),await dc(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}$m.provider={build:()=>new $m};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):is("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo="FirestoreClient";class tM{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=Pn.UNAUTHENTICATED,this.clientId=$g.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{Te(lo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Te(lo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=H1(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function qp(t,e){t.asyncQueue.verifyOperationInProgress(),Te(lo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async s=>{r.isEqual(s)||(await O1(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Q_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await nM(t);Te(lo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>$_(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,s)=>$_(e.remoteStore,s))),t._onlineComponents=e}async function nM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(lo,"Using user provided OfflineComponentProvider");try{await qp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(s){return s.name==="FirebaseError"?s.code===he.FAILED_PRECONDITION||s.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(n))throw n;cl("Error using user provided cache. Falling back to memory cache: "+n),await qp(t,new dd)}}else Te(lo,"Using default OfflineComponentProvider"),await qp(t,new eM(void 0));return t._offlineComponents}async function rM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(lo,"Using user provided OnlineComponentProvider"),await Q_(t,t._uninitializedComponentsProvider._online)):(Te(lo,"Using default OnlineComponentProvider"),await Q_(t,new $m))),t._onlineComponents}async function nS(t){const e=await rM(t),n=e.eventManager;return n.onListen=WD.bind(null,e.syncEngine),n.onUnlisten=qD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=GD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=QD.bind(null,e.syncEngine),n}function iM(t,e,n={}){const r=new Ys;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,d,p){const g=new tS({next:_=>{g.Nu(),l.enqueueAndForget((()=>G1(a,y)));const T=_.docs.has(c);!T&&_.fromCache?p.reject(new Le(he.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&d&&d.source==="server"?p.reject(new Le(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(_)},error:_=>p.reject(_)}),y=new K1(qg(c.path),g,{includeMetadataChanges:!0,Ka:!0});return W1(a,y)})(await nS(t),t.asyncQueue,e,n,r))),r.promise}function sM(t,e,n={}){const r=new Ys;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,d,p){const g=new tS({next:_=>{g.Nu(),l.enqueueAndForget((()=>G1(a,y))),_.fromCache&&d.source==="server"?p.reject(new Le(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(_)},error:_=>p.reject(_)}),y=new K1(c,g,{includeMetadataChanges:!0,Ka:!0});return W1(a,y)})(await nS(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM="ComponentProvider",Y_=new Map;function aM(t,e,n,r,s){return new UN(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,rS(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="firestore.googleapis.com",X_=!0;class J_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Le(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iS,this.ssl=X_}else this.host=e.host,this.ssl=e.ssl??X_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=L1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<q2)throw new Le(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Le(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Le(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Le(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gd{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new J_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Le(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Le(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new J_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new gN;switch(r.type){case"firstParty":return new _N(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Le(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Y_.get(n);r&&(Te(oM,"Removing Datastore"),Y_.delete(n),r.terminate())})(this),Promise.resolve()}}function lM(t,e,n,r={}){var p;t=Hu(t,Gd);const s=aa(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;s&&(Og(`https://${c}`),jg("Firestore",!0)),a.host!==iS&&a.host!==c&&cl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:c,ssl:s,emulatorOptions:r};if(!ea(d,l)&&(t._setSettings(d),r.mockUserToken)){let g,y;if(typeof r.mockUserToken=="string")g=r.mockUserToken,y=Pn.MOCK_USER;else{g=HT(r.mockUserToken,(p=t._app)==null?void 0:p.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Le(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Pn(_)}t._authCredentials=new yN(new r1(g,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Kd(this.firestore,e,this._query)}}class Dn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dn(this.firestore,e,this._key)}toJSON(){return{type:Dn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(uc(n,Dn._jsonSchema))return new Dn(e,r||null,new Be(bt.fromString(n.referencePath)))}}Dn._jsonSchemaVersion="firestore/documentReference/1.0",Dn._jsonSchema={type:Xt("string",Dn._jsonSchemaVersion),referencePath:Xt("string")};class Xs extends Kd{constructor(e,n,r){super(e,n,qg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dn(this.firestore,null,new Be(e))}withConverter(e){return new Xs(this.firestore,e,this._path)}}function Z_(t,e,...n){if(t=sr(t),i1("collection","path",e),t instanceof Gd){const r=bt.fromString(e,...n);return h_(r),new Xs(t,null,r)}{if(!(t instanceof Dn||t instanceof Xs))throw new Le(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(bt.fromString(e,...n));return h_(r),new Xs(t.firestore,null,r)}}function cy(t,e,...n){if(t=sr(t),arguments.length===1&&(e=$g.newId()),i1("doc","path",e),t instanceof Gd){const r=bt.fromString(e,...n);return c_(r),new Dn(t,null,new Be(r))}{if(!(t instanceof Dn||t instanceof Xs))throw new Le(he.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(bt.fromString(e,...n));return c_(r),new Dn(t.firestore,t instanceof Xs?t.converter:null,new Be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex="AsyncQueue";class tx{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new U1(this,"async_queue_retry"),this._c=()=>{const r=Kp();r&&Te(ex,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Kp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Kp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ys;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!wl(e))throw e;Te(ex,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,is("INTERNAL UNHANDLED ERROR: ",nx(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=oy.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&Ye(47125,{Pc:nx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function nx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class hy extends Gd{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new tx,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tx(e),this._firestoreClient=void 0,await e}}}function uM(t,e){const n=typeof t=="object"?t:zg(),r=typeof t=="string"?t:od,s=Md(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=zT("firestore");a&&lM(s,...a)}return s}function sS(t){if(t._terminated)throw new Le(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||cM(t),t._firestoreClient}function cM(t){var r,s,a,l;const e=t._freezeSettings(),n=aM(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(s=t._app)==null?void 0:s.options.apiKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new tM(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yi(wn.fromBase64String(e))}catch(n){throw new Le(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yi(wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:yi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(uc(e,yi._jsonSchema))return yi.fromBase64String(e.bytes)}}yi._jsonSchemaVersion="firestore/bytes/1.0",yi._jsonSchema={type:Xt("string",yi._jsonSchemaVersion),bytes:Xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Le(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Le(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Le(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Js._jsonSchemaVersion}}static fromJSON(e){if(uc(e,Js._jsonSchema))return new Js(e.latitude,e.longitude)}}Js._jsonSchemaVersion="firestore/geoPoint/1.0",Js._jsonSchema={type:Xt("string",Js._jsonSchemaVersion),latitude:Xt("number"),longitude:Xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Zs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(uc(e,Zs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Zs(e.vectorValues);throw new Le(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zs._jsonSchemaVersion="firestore/vectorValue/1.0",Zs._jsonSchema={type:Xt("string",Zs._jsonSchemaVersion),vectorValues:Xt("object")};function aS(t,e,n){if((e=sr(e))instanceof oS)return e._internalPath;if(typeof e=="string")return dM(t,e);throw Hm("Field path arguments must be of type string or ",t)}const hM=new RegExp("[~\\*/\\[\\]]");function dM(t,e,n){if(e.search(hM)>=0)throw Hm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new oS(...e.split("."))._internalPath}catch{throw Hm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function Hm(t,e,n,r,s){let a=`Function ${e}() called with invalid data`;a+=". ";let l="";return new Le(he.INVALID_ARGUMENT,a+t+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{convertValue(e,n="none"){switch(oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(so(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ye(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return cc(e,((s,a)=>{r[s]=this.convertValue(a,n)})),r}convertVectorValue(e){var r,s,a;const n=(a=(s=(r=e.fields)==null?void 0:r[Am].arrayValue)==null?void 0:s.values)==null?void 0:a.map((l=>$t(l.doubleValue)));return new Zs(n)}convertGeoPoint(e){return new Js($t(e.latitude),$t(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=jd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gu(e));default:return null}}convertTimestamp(e){const n=io(e);return new Yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=bt.fromString(e);Lt(M1(r),9688,{name:e});const s=new Ku(r.get(1),r.get(3)),a=new Be(r.popFirst(5));return s.isEqual(n)||is(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS extends fM{constructor(e){super(),this.firestore=e}convertBytes(e){return new yi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dn(this.firestore,null,n)}}const rx="@firebase/firestore",ix="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(aS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pM extends uS{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Le(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xo extends uS{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(aS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Le(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xo._jsonSchema={type:Xt("string",Xo._jsonSchemaVersion),bundleSource:Xt("string","DocumentSnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class Kh extends Xo{data(e={}){return super.data(e)}}class sl{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Tu(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Kh(this._firestore,this._userDataWriter,r.key,r,new Tu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Le(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((c=>{const d=new Kh(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Tu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const d=new Kh(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Tu(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:gM(c.type),doc:d,oldIndex:p,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Le(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=sl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$g.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function gM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ye(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sl._jsonSchemaVersion="firestore/querySnapshot/1.0",sl._jsonSchema={type:Xt("string",sl._jsonSchemaVersion),bundleSource:Xt("string","QuerySnapshot"),bundleName:Xt("string"),bundle:Xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(t){t=Hu(t,Dn);const e=Hu(t.firestore,hy),n=sS(e);return iM(n,t._key).then((r=>yM(e,t,r)))}function sx(t){t=Hu(t,Kd);const e=Hu(t.firestore,hy),n=sS(e),r=new lS(e);return mM(t._query),sM(n,t._query).then((s=>new sl(e,r,t,s)))}function yM(t,e,n){const r=n.docs.get(e._key),s=new lS(t);return new Xo(t,s,e._key,r,new Tu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){mN(la),ta(new no("firestore",((r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new hy(new vN(r.getProvider("auth-internal")),new xN(l,r.getProvider("app-check-internal")),zN(l,s),l);return a={useFetchStreams:n,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),wi(rx,ix,e),wi(rx,ix,"esm2020")})();var vM="firebase",wM="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wi(vM,wM,"app");function cS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _M=cS,hS=new ac("auth","Firebase",cS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=new Fg("@firebase/auth");function xM(t,...e){fd.logLevel<=rt.WARN&&fd.warn(`Auth (${la}): ${t}`,...e)}function qh(t,...e){fd.logLevel<=rt.ERROR&&fd.error(`Auth (${la}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(t,...e){throw py(t,...e)}function Kr(t,...e){return py(t,...e)}function fy(t,e,n){const r={..._M(),[e]:n};return new ac("auth","Firebase",r).create(e,{appName:t.name})}function ts(t){return fy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function EM(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&kr(t,"argument-error"),fy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function py(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return hS.create(t,...e)}function $e(t,e,...n){if(!t)throw py(e,...n)}function Zi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qh(e),new Error(e)}function ss(t,e){t||Zi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function TM(){return ox()==="http:"||ox()==="https:"}function ox(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TM()||qk()||"connection"in navigator)?navigator.onLine:!0}function IM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ss(n>e,"Short delay should be less than long delay!"),this.isMobile=Wk()||Qk()}get(){return SM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(t,e){ss(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RM=new pc(3e4,6e4);function us(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function cs(t,e,n,r,s={}){return fS(t,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=lc({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:d,...a};return Kk()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&aa(t.emulatorConfig.host)&&(p.credentials="include"),dS.fetch()(await pS(t,t.config.apiHost,n,c),p)})}async function fS(t,e,n){t._canInitEmulator=!1;const r={...bM,...e};try{const s=new kM(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Nh(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[d,p]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nh(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Nh(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Nh(t,"user-disabled",l);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw fy(t,g,p);kr(t,g)}}catch(s){if(s instanceof Ri)throw s;kr(t,"network-request-failed",{message:String(s)})}}async function mc(t,e,n,r,s={}){const a=await cs(t,e,n,r,s);return"mfaPendingCredential"in a&&kr(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function pS(t,e,n,r){const s=`${e}${n}?${r}`,a=t,l=a.config.emulator?my(t.config,s):`${t.config.apiScheme}://${s}`;return CM.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function AM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Kr(this.auth,"network-request-failed")),RM.get())})}}function Nh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Kr(t,e,r);return s.customData._tokenResponse=n,s}function ax(t){return t!==void 0&&t.enterprise!==void 0}class PM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return AM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function NM(t,e){return cs(t,"GET","/v2/recaptchaConfig",us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DM(t,e){return cs(t,"POST","/v1/accounts:delete",e)}async function pd(t,e){return cs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MM(t,e=!1){const n=sr(t),r=await n.getIdToken(e),s=gy(r);$e(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:Du(Qp(s.auth_time)),issuedAtTime:Du(Qp(s.iat)),expirationTime:Du(Qp(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Qp(t){return Number(t)*1e3}function gy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return qh("JWT malformed, contained fewer than 3 sections"),null;try{const s=FT(n);return s?JSON.parse(s):(qh("Failed to decode base64 JWT payload"),null)}catch(s){return qh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function lx(t){const e=gy(t);return $e(e,"internal-error"),$e(typeof e.exp<"u","internal-error"),$e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ri&&LM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function LM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Du(this.lastLoginAt),this.creationTime=Du(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function md(t){var y;const e=t.auth,n=await t.getIdToken(),r=await Qu(t,pd(e,{idToken:n}));$e(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const a=(y=s.providerUserInfo)!=null&&y.length?mS(s.providerUserInfo):[],l=jM(t.providerData,a),c=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),p=c?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Gm(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function OM(t){const e=sr(t);await md(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jM(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function mS(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FM(t,e){const n=await fS(t,{},async()=>{const r=lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=await pS(t,s,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&aa(t.emulatorConfig.host)&&(d.credentials="include"),dS.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function UM(t,e){return cs(t,"POST","/v2/accounts:revokeToken",us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$e(e.idToken,"internal-error"),$e(typeof e.idToken<"u","internal-error"),$e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){$e(e.length!==0,"internal-error");const n=lx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:($e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await FM(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,l=new ol;return r&&($e(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&($e(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&($e(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ol,this.toJSON())}_performRefresh(){return Zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(t,e){$e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wr{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new VM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Gm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Qu(this,this.stsTokenManager.getToken(this.auth,e));return $e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return MM(this,e)}reload(){return OM(this)}_assign(e){this!==e&&($e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await md(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rr(this.auth.app))return Promise.reject(ts(this.auth));const e=await this.getIdToken();return await Qu(this,DM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,a=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,p=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:y,emailVerified:_,isAnonymous:T,providerData:C,stsTokenManager:N}=n;$e(y&&N,e,"internal-error");const P=ol.fromJSON(this.name,N);$e(typeof y=="string",e,"internal-error"),Ms(r,e.name),Ms(s,e.name),$e(typeof _=="boolean",e,"internal-error"),$e(typeof T=="boolean",e,"internal-error"),Ms(a,e.name),Ms(l,e.name),Ms(c,e.name),Ms(d,e.name),Ms(p,e.name),Ms(g,e.name);const U=new Wr({uid:y,auth:e,email:s,emailVerified:_,displayName:r,isAnonymous:T,photoURL:l,phoneNumber:a,tenantId:c,stsTokenManager:P,createdAt:p,lastLoginAt:g});return C&&Array.isArray(C)&&(U.providerData=C.map(F=>({...F}))),d&&(U._redirectEventId=d),U}static async _fromIdTokenResponse(e,n,r=!1){const s=new ol;s.updateFromServerResponse(n);const a=new Wr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await md(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];$e(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?mS(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),c=new ol;c.updateFromIdToken(r);const d=new Wr({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Gm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=new Map;function es(t){ss(t instanceof Function,"Expected a class definition");let e=ux.get(t);return e?(ss(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ux.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gS.type="NONE";const cx=gS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(t,e,n){return`firebase:${t}:${e}:${n}`}class al{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=Qh(this.userKey,s.apiKey,a),this.fullPersistenceKey=Qh("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await pd(this.auth,{idToken:e}).catch(()=>{});return n?Wr._fromGetAccountInfoResponse(this.auth,n,e):null}return Wr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new al(es(cx),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||es(cx);const l=Qh(r,e.config.apiKey,e.name);let c=null;for(const p of n)try{const g=await p._get(l);if(g){let y;if(typeof g=="string"){const _=await pd(e,{idToken:g}).catch(()=>{});if(!_)break;y=await Wr._fromGetAccountInfoResponse(e,_,g)}else y=Wr._fromJSON(e,g);p!==a&&(c=y),a=p;break}}catch{}const d=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new al(a,e,r):(a=d[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new al(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_S(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ES(e))return"Blackberry";if(TS(e))return"Webos";if(vS(e))return"Safari";if((e.includes("chrome/")||wS(e))&&!e.includes("edge/"))return"Chrome";if(xS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function yS(t=Ln()){return/firefox\//i.test(t)}function vS(t=Ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wS(t=Ln()){return/crios\//i.test(t)}function _S(t=Ln()){return/iemobile/i.test(t)}function xS(t=Ln()){return/android/i.test(t)}function ES(t=Ln()){return/blackberry/i.test(t)}function TS(t=Ln()){return/webos/i.test(t)}function yy(t=Ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zM(t=Ln()){var e;return yy(t)&&!!((e=window.navigator)!=null&&e.standalone)}function BM(){return Yk()&&document.documentMode===10}function SS(t=Ln()){return yy(t)||xS(t)||TS(t)||ES(t)||/windows phone/i.test(t)||_S(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(t,e=[]){let n;switch(t){case"Browser":n=hx(Ln());break;case"Worker":n=`${hx(Ln())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${la}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,c)=>{try{const d=e(a);l(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HM(t,e={}){return cs(t,"GET","/v2/passwordPolicy",us(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=6;class GM{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??WM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dx(this),this.idTokenSubscription=new dx(this),this.beforeStateQueue=new $M(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=es(n)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await al.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await pd(this,{idToken:e}),r=await Wr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(rr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(a=this.redirectUser)==null?void 0:a._redirectEventId,c=r==null?void 0:r._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(r=d.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return $e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await md(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rr(this.app))return Promise.reject(ts(this));const n=e?sr(e):null;return n&&$e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&$e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rr(this.app)?Promise.reject(ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rr(this.app)?Promise.reject(ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HM(this),n=new GM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ac("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await UM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&es(e)||this._popupRedirectResolver;$e(n,this,"argument-error"),this.redirectPersistenceManager=await al.create(this,[es(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if($e(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,s);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(rr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&xM(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function fo(t){return sr(t)}class dx{constructor(e){this.auth=e,this.observer=null,this.addObserver=iP(n=>this.observer=n)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qM(t){qd=t}function bS(t){return qd.loadJS(t)}function QM(){return qd.recaptchaEnterpriseScript}function YM(){return qd.gapiScript}function XM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class JM{constructor(){this.enterprise=new ZM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class ZM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const eL="recaptcha-enterprise",CS="NO_RECAPTCHA";class tL{constructor(e){this.type=eL,this.auth=fo(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{NM(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new PM(d);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(d=>{c(d)})})}function s(a,l,c){const d=window.grecaptcha;ax(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(CS)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new JM().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!n&&ax(window.grecaptcha))s(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=QM();d.length!==0&&(d+=c),bS(d).then(()=>{s(c,a,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function fx(t,e,n,r=!1,s=!1){const a=new tL(t);let l;if(s)l=CS;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Km(t,e,n,r,s){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await fx(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await fx(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(t,e){const n=Md(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(ea(a,e??{}))return s;kr(s,"already-initialized")}return n.initialize({options:e})}function rL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(es);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function iL(t,e,n){const r=fo(t);$e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=RS(e),{host:l,port:c}=sL(e),d=c===null?"":`:${c}`,p={url:`${a}//${l}${d}/`},g=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){$e(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),$e(ea(p,r.config.emulator)&&ea(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,aa(l)?(Og(`${a}//${l}${d}`),jg("Auth",!0)):oL()}function RS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function sL(t){const e=RS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:px(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:px(l)}}}function px(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function oL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zi("not implemented")}_getIdTokenResponse(e){return Zi("not implemented")}_linkToIdToken(e,n){return Zi("not implemented")}_getReauthenticationResolver(e){return Zi("not implemented")}}async function aL(t,e){return cs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lL(t,e){return mc(t,"POST","/v1/accounts:signInWithPassword",us(t,e))}async function uL(t,e){return cs(t,"POST","/v1/accounts:sendOobCode",us(t,e))}async function cL(t,e){return uL(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hL(t,e){return mc(t,"POST","/v1/accounts:signInWithEmailLink",us(t,e))}async function dL(t,e){return mc(t,"POST","/v1/accounts:signInWithEmailLink",us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends vy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Yu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Yu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Km(e,n,"signInWithPassword",lL);case"emailLink":return hL(e,{email:this._email,oobCode:this._password});default:kr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Km(e,r,"signUpPassword",aL);case"emailLink":return dL(e,{idToken:n,email:this._email,oobCode:this._password});default:kr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(t,e){return mc(t,"POST","/v1/accounts:signInWithIdp",us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL="http://localhost";class ra extends vy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):kr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=n;if(!r||!s)return null;const l=new ra(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return ll(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ll(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ll(e,n)}buildRequest(){const e={requestUri:fL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=lc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mL(t){const e=vu(wu(t)).link,n=e?vu(wu(e)).deep_link_id:null,r=vu(wu(t)).deep_link_id;return(r?vu(wu(r)).link:null)||r||n||e||t}class wy{constructor(e){const n=vu(wu(e)),r=n.apiKey??null,s=n.oobCode??null,a=pL(n.mode??null);$e(r&&s&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=mL(e);try{return new wy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(){this.providerId=xl.PROVIDER_ID}static credential(e,n){return Yu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=wy.parseLink(n);return $e(r,"argument-error"),Yu._fromEmailAndCode(e,r.code,r.tenantId)}}xl.PROVIDER_ID="password";xl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends _y{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us extends gc{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Us.credentialFromTaggedObject(e)}static credentialFromError(e){return Us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Us.credential(e.oauthAccessToken)}catch{return null}}}Us.FACEBOOK_SIGN_IN_METHOD="facebook.com";Us.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends gc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ra._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ji.credential(n,r)}catch{return null}}}Ji.GOOGLE_SIGN_IN_METHOD="google.com";Ji.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends gc{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zs.credential(e.oauthAccessToken)}catch{return null}}}zs.GITHUB_SIGN_IN_METHOD="github.com";zs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends gc{constructor(){super("twitter.com")}static credential(e,n){return ra._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Bs.credential(n,r)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gL(t,e){return mc(t,"POST","/v1/accounts:signUp",us(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await Wr._fromIdTokenResponse(e,r,s),l=mx(r);return new ia({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=mx(r);return new ia({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function mx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd extends Ri{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,gd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new gd(e,n,r,s)}}function AS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?gd._fromErrorAndOperation(t,a,e,r):a})}async function yL(t,e,n=!1){const r=await Qu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ia._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vL(t,e,n=!1){const{auth:r}=t;if(rr(r.app))return Promise.reject(ts(r));const s="reauthenticate";try{const a=await Qu(t,AS(r,s,e,t),n);$e(a.idToken,r,"internal-error");const l=gy(a.idToken);$e(l,r,"internal-error");const{sub:c}=l;return $e(t.uid===c,r,"user-mismatch"),ia._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&kr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kS(t,e,n=!1){if(rr(t.app))return Promise.reject(ts(t));const r="signIn",s=await AS(t,r,e),a=await ia._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function wL(t,e){return kS(fo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PS(t){const e=fo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _L(t,e,n){if(rr(t.app))return Promise.reject(ts(t));const r=fo(t),l=await Km(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gL).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&PS(t),d}),c=await ia._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function xL(t,e,n){return rr(t.app)?Promise.reject(ts(t)):wL(sr(t),xl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&PS(t),r})}async function EL(t,e){const n=sr(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:a}=await cL(n.auth,s);a!==t.email&&await t.reload()}function TL(t,e,n,r){return sr(t).onIdTokenChanged(e,n,r)}function SL(t,e,n){return sr(t).beforeAuthStateChanged(e,n)}function IL(t,e,n,r){return sr(t).onAuthStateChanged(e,n,r)}function bL(t){return sr(t).signOut()}const yd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yd,"1"),this.storage.removeItem(yd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=1e3,RL=10;class DS extends NS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=SS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);BM()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,RL):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},CL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}DS.type="LOCAL";const AL=DS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS extends NS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}MS.type="SESSION";const LS=MS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Qd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async p=>p(n.origin,a)),d=await kL(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,d)=>{const p=xy("",20);s.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(y){const _=y;if(_.data.eventId===p)switch(_.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(_.data.response);break;default:clearTimeout(g),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(){return window}function NL(t){xi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function DL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ML(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function LL(){return VS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="firebaseLocalStorageDb",VL=1,vd="firebaseLocalStorage",jS="fbase_key";class yc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yd(t,e){return t.transaction([vd],e?"readwrite":"readonly").objectStore(vd)}function OL(){const t=indexedDB.deleteDatabase(OS);return new yc(t).toPromise()}function qm(){const t=indexedDB.open(OS,VL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(vd,{keyPath:jS})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(vd)?e(r):(r.close(),await OL(),e(await qm()))})})}async function gx(t,e,n){const r=Yd(t,!0).put({[jS]:e,value:n});return new yc(r).toPromise()}async function jL(t,e){const n=Yd(t,!1).get(e),r=await new yc(n).toPromise();return r===void 0?null:r.value}function yx(t,e){const n=Yd(t,!0).delete(e);return new yc(n).toPromise()}const FL=800,UL=3;class FS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>UL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qd._getInstance(LL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await DL(),!this.activeServiceWorker)return;this.sender=new PL(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ML()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qm();return await gx(e,yd,"1"),await yx(e,yd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>gx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>jL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>yx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Yd(s,!1).getAll();return new yc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FS.type="LOCAL";const zL=FS;new pc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(t,e){return e?es(e):($e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey extends vy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ll(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ll(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ll(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function BL(t){return kS(t.auth,new Ey(t),t.bypassAuthState)}function $L(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),vL(n,new Ey(t),t.bypassAuthState)}async function HL(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),yL(n,new Ey(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BL;case"linkViaPopup":case"linkViaRedirect":return HL;case"reauthViaPopup":case"reauthViaRedirect":return $L;default:kr(this.auth,"internal-error")}}resolve(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL=new pc(2e3,1e4);async function GL(t,e,n){if(rr(t.app))return Promise.reject(Kr(t,"operation-not-supported-in-this-environment"));const r=fo(t);EM(t,e,_y);const s=US(r,n);return new Ko(r,"signInViaPopup",e,s).executeNotNull()}class Ko extends zS{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Ko.currentPopupAction&&Ko.currentPopupAction.cancel(),Ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $e(e,this.auth,"internal-error"),e}async onExecution(){ss(this.filter.length===1,"Popup operations only handle one event");const e=xy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WL.get())};e()}}Ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL="pendingRedirect",Yh=new Map;class qL extends zS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Yh.get(this.auth._key());if(!e){try{const r=await QL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Yh.set(this.auth._key(),e)}return this.bypassAuthState||Yh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QL(t,e){const n=JL(e),r=XL(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function YL(t,e){Yh.set(t._key(),e)}function XL(t){return es(t._redirectPersistence)}function JL(t){return Qh(KL,t.config.apiKey,t.name)}async function ZL(t,e,n=!1){if(rr(t.app))return Promise.reject(ts(t));const r=fo(t),s=US(r,e),l=await new qL(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=600*1e3;class tV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!BS(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Kr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eV&&this.cachedEventUids.clear(),this.cachedEventUids.has(vx(e))}saveEventToCache(e){this.cachedEventUids.add(vx(e)),this.lastProcessedEventTime=Date.now()}}function vx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function BS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rV(t,e={}){return cs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sV=/^https?/;async function oV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await rV(t);for(const n of e)try{if(aV(n))return}catch{}kr(t,"unauthorized-domain")}function aV(t){const e=Wm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!sV.test(n))return!1;if(iV.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV=new pc(3e4,6e4);function wx(){const t=xi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function uV(t){return new Promise((e,n)=>{var s,a,l;function r(){wx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wx(),n(Kr(t,"network-request-failed"))},timeout:lV.get()})}if((a=(s=xi().gapi)==null?void 0:s.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((l=xi().gapi)!=null&&l.load)r();else{const c=XM("iframefcb");return xi()[c]=()=>{gapi.load?r():n(Kr(t,"network-request-failed"))},bS(`${YM()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw Xh=null,e})}let Xh=null;function cV(t){return Xh=Xh||uV(t),Xh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=new pc(5e3,15e3),dV="__/auth/iframe",fV="emulator/auth/iframe",pV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gV(t){const e=t.config;$e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?my(e,fV):`https://${t.config.authDomain}/${dV}`,r={apiKey:e.apiKey,appName:t.name,v:la},s=mV.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${lc(r).slice(1)}`}async function yV(t){const e=await cV(t),n=xi().gapi;return $e(n,t,"internal-error"),e.open({where:document.body,url:gV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pV,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=Kr(t,"network-request-failed"),c=xi().setTimeout(()=>{a(l)},hV.get());function d(){xi().clearTimeout(c),s(r)}r.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wV=500,_V=600,xV="_blank",EV="http://localhost";class _x{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TV(t,e,n,r=wV,s=_V){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={...vV,width:r.toString(),height:s.toString(),top:a,left:l},p=Ln().toLowerCase();n&&(c=wS(p)?xV:n),yS(p)&&(e=e||EV,d.scrollbars="yes");const g=Object.entries(d).reduce((_,[T,C])=>`${_}${T}=${C},`,"");if(zM(p)&&c!=="_self")return SV(e||"",c),new _x(null);const y=window.open(e||"",c,g);$e(y,t,"popup-blocked");try{y.focus()}catch{}return new _x(y)}function SV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV="__/auth/handler",bV="emulator/auth/handler",CV=encodeURIComponent("fac");async function xx(t,e,n,r,s,a){$e(t.config.authDomain,t,"auth-domain-config-required"),$e(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:la,eventId:s};if(e instanceof _y){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",rP(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,y]of Object.entries({}))l[g]=y}if(e instanceof gc){const g=e.getScopes().filter(y=>y!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const d=await t._getAppCheckToken(),p=d?`#${CV}=${encodeURIComponent(d)}`:"";return`${RV(t)}?${lc(c).slice(1)}${p}`}function RV({config:t}){return t.emulator?my(t,bV):`https://${t.authDomain}/${IV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="webStorageSupport";class AV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LS,this._completeRedirectFn=ZL,this._overrideRedirectResult=YL}async _openPopup(e,n,r,s){var l;ss((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const a=await xx(e,n,r,Wm(),s);return TV(e,a,xy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await xx(e,n,r,Wm(),s);return NL(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(ss(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await yV(e),r=new tV(e);return n.register("authEvent",s=>($e(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yp,{type:Yp},s=>{var l;const a=(l=s==null?void 0:s[0])==null?void 0:l[Yp];a!==void 0&&n(!!a),kr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return SS()||vS()||yy()}}const kV=AV;var Ex="@firebase/auth",Tx="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DV(t){ta(new no("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;$e(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IS(t)},p=new KM(r,s,a,d);return rL(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ta(new no("auth-internal",e=>{const n=fo(e.getProvider("auth").getImmediate());return(r=>new PV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wi(Ex,Tx,NV(t)),wi(Ex,Tx,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=300,LV=$T("authIdTokenMaxAge")||MV;let Sx=null;const VV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>LV)return;const s=n==null?void 0:n.token;Sx!==s&&(Sx=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function OV(t=zg()){const e=Md(t,"auth");if(e.isInitialized())return e.getImmediate();const n=nL(t,{popupRedirectResolver:kV,persistence:[zL,AL,LS]}),r=$T("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=VV(a.toString());SL(n,l,()=>l(n.currentUser)),TL(n,c=>l(c))}}const s=UT("auth");return s&&iL(n,`http://${s}`),n}function jV(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}qM({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=Kr("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",jV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DV("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="firebasestorage.googleapis.com",FV="storageBucket",UV=120*1e3,zV=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends Ri{constructor(e,n,r=0){super(Xp(e),`Firebase Storage: ${n} (${Xp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ai.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Xp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var bi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(bi||(bi={}));function Xp(t){return"storage/"+t}function BV(){const t="An unknown error occurred, please check the error payload for server response.";return new Ai(bi.UNKNOWN,t)}function $V(){return new Ai(bi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function HV(){return new Ai(bi.CANCELED,"User canceled the upload/download.")}function WV(t){return new Ai(bi.INVALID_URL,"Invalid URL '"+t+"'.")}function GV(t){return new Ai(bi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Ix(t){return new Ai(bi.INVALID_ARGUMENT,t)}function HS(){return new Ai(bi.APP_DELETED,"The Firebase app was deleted.")}function KV(t){return new Ai(bi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Gr.makeFromUrl(e,n)}catch{return new Gr(e,"")}if(r.path==="")return r;throw GV(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),d={bucket:1,path:3};function p(Q){Q.path_=decodeURIComponent(Q.path)}const g="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",T=new RegExp(`^https?://${y}/${g}/b/${s}/o${_}`,"i"),C={bucket:1,path:3},N=n===$S?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",U=new RegExp(`^https?://${N}/${s}/${P}`,"i"),W=[{regex:c,indices:d,postModify:a},{regex:T,indices:C,postModify:p},{regex:U,indices:{bucket:1,path:2},postModify:p}];for(let Q=0;Q<W.length;Q++){const ee=W[Q],ne=ee.regex.exec(e);if(ne){const b=ne[ee.indices.bucket];let S=ne[ee.indices.path];S||(S=""),r=new Gr(b,S),ee.postModify(r);break}}if(r==null)throw WV(e);return r}}class qV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(t,e,n){let r=1,s=null,a=null,l=!1,c=0;function d(){return c===2}let p=!1;function g(...P){p||(p=!0,e.apply(null,P))}function y(P){s=setTimeout(()=>{s=null,t(T,d())},P)}function _(){a&&clearTimeout(a)}function T(P,...U){if(p){_();return}if(P){_(),g.call(null,P,...U);return}if(d()||l){_(),g.call(null,P,...U);return}r<64&&(r*=2);let W;c===1?(c=2,W=0):W=(r+Math.random())*1e3,y(W)}let C=!1;function N(P){C||(C=!0,_(),!p&&(s!==null?(P||(c=2),clearTimeout(s),y(0)):P||(c=1)))}return y(0),a=setTimeout(()=>{l=!0,N(!0)},n),N}function YV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(t){return t!==void 0}function bx(t,e,n,r){if(r<e)throw Ix(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Ix(`Invalid value for '${t}'. Expected ${n} or less.`)}function JV(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var wd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(wd||(wd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,n,r,s,a,l,c,d,p,g,y,_=!0,T=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=d,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=y,this.retry=_,this.isUsingEmulator=T,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,N)=>{this.resolve_=C,this.reject_=N,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Dh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=c=>{const d=c.loaded,p=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,p)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const c=a.getErrorCode()===wd.NO_ERROR,d=a.getStatus();if(!c||ZV(d,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===wd.ABORT;r(!1,new Dh(!1,null,g));return}const p=this.successCodes_.indexOf(d)!==-1;r(!0,new Dh(p,a))})},n=(r,s)=>{const a=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());XV(d)?a(d):a()}catch(d){l(d)}else if(c!==null){const d=BV();d.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,d)):l(d)}else if(s.canceled){const d=this.appDelete_?HS():HV();l(d)}else{const d=$V();l(d)}};this.canceled_?n(!1,new Dh(!1,null,!0)):this.backoffId_=QV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&YV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Dh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function tO(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function nO(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function rO(t,e){e&&(t["X-Firebase-GMPID"]=e)}function iO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function sO(t,e,n,r,s,a,l=!0,c=!1){const d=JV(t.urlParams),p=t.url+d,g=Object.assign({},t.headers);return rO(g,e),tO(g,n),nO(g,a),iO(g,r),new eO(p,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function aO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,n){this._service=e,n instanceof Gr?this._location=n:this._location=Gr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new _d(e,n)}get root(){const e=new Gr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return aO(this._location.path)}get storage(){return this._service}get parent(){const e=oO(this._location.path);if(e===null)return null;const n=new Gr(this._location.bucket,e);return new _d(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw KV(e)}}function Cx(t,e){const n=e==null?void 0:e[FV];return n==null?null:Gr.makeFromBucketSpec(n,t)}function lO(t,e,n,r={}){t.host=`${e}:${n}`;const s=aa(e);s&&(Og(`https://${t.host}/b`),jg("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:HT(a,t.app.options.projectId))}class uO{constructor(e,n,r,s,a,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=$S,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=UV,this._maxUploadRetryTime=zV,this._requests=new Set,s!=null?this._bucket=Gr.makeFromBucketSpec(s,this._host):this._bucket=Cx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gr.makeFromBucketSpec(this._url,e):this._bucket=Cx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){bx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){bx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(rr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _d(this,e)}_makeRequest(e,n,r,s,a=!0){if(this._deleted)return new qV(HS());{const l=sO(e,this._appId,r,s,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const Rx="@firebase/storage",Ax="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="storage";function cO(t=zg(),e){t=sr(t);const r=Md(t,WS).getImmediate({identifier:e}),s=zT("storage");return s&&hO(r,...s),r}function hO(t,e,n,r={}){lO(t,e,n,r)}function dO(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new uO(n,r,s,e,la)}function fO(){ta(new no(WS,dO,"PUBLIC").setMultipleInstances(!0)),wi(Rx,Ax,""),wi(Rx,Ax,"esm2020")}fO();const pO={apiKey:"AIzaSyBGmrIiMvmykwtTCvTs6yrxTlR3yiMfdyc",authDomain:"realness-score.firebaseapp.com",projectId:"realness-score",storageBucket:"realness-score.firebasestorage.app",messagingSenderId:"427953838028",appId:"1:427953838028:web:e5757f2aa3d8697335af69",measurementId:"G-86Q3LSV247"},Ty=KT(pO),Mu=uM(Ty),Lu=OV(Ty);cO(Ty);const mO="https://us-central1-realness-score.cloudfunctions.net";async function Jp(t,e={}){const n=`${mO}/${t}`,r=await fetch(n,{...e,headers:{"Content-Type":"application/json",...e.headers}});if(!r.ok){const s=await r.json().catch(()=>({}));throw new Error(s.message||`API Error: ${r.status}`)}return r.json()}const ca={getItem:async t=>{try{const e=await dy(cy(Mu,"cms_content",t));return e.exists()?{id:e.id,...e.data()}:null}catch(e){return console.error(`Error fetching CMS item ${t}:`,e),null}}},Jo={getSituations:async()=>(await sx(Z_(Mu,"situations"))).docs.map(e=>({id:e.id,...e.data()})),getAffects:async()=>(await sx(Z_(Mu,"affects"))).docs.map(e=>({id:e.id,...e.data()})),getCASConfig:async()=>{const t=await dy(cy(Mu,"cas_config","main"));return t.exists()?t.data():null}},Ya={getGlobalSettings:async()=>{const t=await dy(cy(Mu,"global_settings","main"));return t.exists()?t.data():null},runGemini:t=>Jp("runGeminiPrompt",{method:"POST",body:JSON.stringify({prompt:t})}),submitResponse:t=>Jp("submitUserResponse",{method:"POST",body:JSON.stringify(t)}),submitFeedback:t=>Jp("submitFeedback",{method:"POST",body:JSON.stringify(t)})},GS=k.createContext({appName:""});function gO({children:t}){const[e,n]=k.useState({appName:""});return k.useEffect(()=>{Ya.getGlobalSettings().then(r=>{r&&n({appName:r.appName||"",appLogoUrl:r.appLogoUrl,appLogoSvg:r.appLogoSvg})}).catch(console.error)},[]),x.jsx(GS.Provider,{value:e,children:t})}const Xd=()=>k.useContext(GS);function os({size:t="medium",className:e}){const{appLogoUrl:n,appLogoSvg:r}=Xd(),a=e||{small:"h-[calc(4rem-4px)]",medium:"h-12",large:"h-20"}[t];return r?x.jsx("div",{className:`${a} [&>svg]:h-full [&>svg]:w-auto`,dangerouslySetInnerHTML:{__html:r}}):n?x.jsx("img",{src:n,alt:"Logo",className:`${a} w-auto object-contain`}):null}const Sy=k.createContext({});function Iy(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const KS=typeof window<"u",qS=KS?k.useLayoutEffect:k.useEffect,Jd=k.createContext(null);function by(t,e){t.indexOf(e)===-1&&t.push(e)}function Cy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ci=(t,e,n)=>n>e?e:n<t?t:n;let Ry=()=>{};const as={},QS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function YS(t){return typeof t=="object"&&t!==null}const XS=t=>/^0[^.\s]+$/u.test(t);function Ay(t){let e;return()=>(e===void 0&&(e=t()),e)}const Rr=t=>t,yO=(t,e)=>n=>e(t(n)),vc=(...t)=>t.reduce(yO),Xu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class ky{constructor(){this.subscriptions=[]}add(e){return by(this.subscriptions,e),()=>Cy(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ns=t=>t*1e3,Cr=t=>t/1e3;function JS(t,e){return e?t*(1e3/e):0}const ZS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,vO=1e-7,wO=12;function _O(t,e,n,r,s){let a,l,c=0;do l=e+(n-e)/2,a=ZS(l,r,s)-t,a>0?n=l:e=l;while(Math.abs(a)>vO&&++c<wO);return l}function wc(t,e,n,r){if(t===e&&n===r)return Rr;const s=a=>_O(a,0,1,t,n);return a=>a===0||a===1?a:ZS(s(a),e,r)}const eI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,tI=t=>e=>1-t(1-e),nI=wc(.33,1.53,.69,.99),Py=tI(nI),rI=eI(Py),iI=t=>(t*=2)<1?.5*Py(t):.5*(2-Math.pow(2,-10*(t-1))),Ny=t=>1-Math.sin(Math.acos(t)),sI=tI(Ny),oI=eI(Ny),xO=wc(.42,0,1,1),EO=wc(0,0,.58,1),aI=wc(.42,0,.58,1),TO=t=>Array.isArray(t)&&typeof t[0]!="number",lI=t=>Array.isArray(t)&&typeof t[0]=="number",SO={linear:Rr,easeIn:xO,easeInOut:aI,easeOut:EO,circIn:Ny,circInOut:oI,circOut:sI,backIn:Py,backInOut:rI,backOut:nI,anticipate:iI},IO=t=>typeof t=="string",kx=t=>{if(lI(t)){Ry(t.length===4);const[e,n,r,s]=t;return wc(e,n,r,s)}else if(IO(t))return SO[t];return t},Mh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function bO(t,e){let n=new Set,r=new Set,s=!1,a=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(g){l.has(g)&&(p.schedule(g),t()),g(c)}const p={schedule:(g,y=!1,_=!1)=>{const C=_&&s?n:r;return y&&l.add(g),C.has(g)||C.add(g),g},cancel:g=>{r.delete(g),l.delete(g)},process:g=>{if(c=g,s){a=!0;return}s=!0,[n,r]=[r,n],n.forEach(d),n.clear(),s=!1,a&&(a=!1,p.process(g))}};return p}const CO=40;function uI(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=Mh.reduce((W,Q)=>(W[Q]=bO(a),W),{}),{setup:c,read:d,resolveKeyframes:p,preUpdate:g,update:y,preRender:_,render:T,postRender:C}=l,N=()=>{const W=as.useManualTiming?s.timestamp:performance.now();n=!1,as.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(W-s.timestamp,CO),1)),s.timestamp=W,s.isProcessing=!0,c.process(s),d.process(s),p.process(s),g.process(s),y.process(s),_.process(s),T.process(s),C.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(N))},P=()=>{n=!0,r=!0,s.isProcessing||t(N)};return{schedule:Mh.reduce((W,Q)=>{const ee=l[Q];return W[Q]=(ne,b=!1,S=!1)=>(n||P(),ee.schedule(ne,b,S)),W},{}),cancel:W=>{for(let Q=0;Q<Mh.length;Q++)l[Mh[Q]].cancel(W)},state:s,steps:l}}const{schedule:Ct,cancel:uo,state:yn,steps:Zp}=uI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Rr,!0);let Jh;function RO(){Jh=void 0}const Bn={now:()=>(Jh===void 0&&Bn.set(yn.isProcessing||as.useManualTiming?yn.timestamp:performance.now()),Jh),set:t=>{Jh=t,queueMicrotask(RO)}},cI=t=>e=>typeof e=="string"&&e.startsWith(t),hI=cI("--"),AO=cI("var(--"),Dy=t=>AO(t)?kO.test(t.split("/*")[0].trim()):!1,kO=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Px(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const El={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ju={...El,transform:t=>Ci(0,1,t)},Lh={...El,default:1},Vu=t=>Math.round(t*1e5)/1e5,My=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function PO(t){return t==null}const NO=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ly=(t,e)=>n=>!!(typeof n=="string"&&NO.test(n)&&n.startsWith(t)||e&&!PO(n)&&Object.prototype.hasOwnProperty.call(n,e)),dI=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,a,l,c]=r.match(My);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},DO=t=>Ci(0,255,t),em={...El,transform:t=>Math.round(DO(t))},qo={test:Ly("rgb","red"),parse:dI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+em.transform(t)+", "+em.transform(e)+", "+em.transform(n)+", "+Vu(Ju.transform(r))+")"};function MO(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Qm={test:Ly("#"),parse:MO,transform:qo.transform},_c=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Os=_c("deg"),Ei=_c("%"),ke=_c("px"),LO=_c("vh"),VO=_c("vw"),Nx={...Ei,parse:t=>Ei.parse(t)/100,transform:t=>Ei.transform(t*100)},Xa={test:Ly("hsl","hue"),parse:dI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ei.transform(Vu(e))+", "+Ei.transform(Vu(n))+", "+Vu(Ju.transform(r))+")"},Qt={test:t=>qo.test(t)||Qm.test(t)||Xa.test(t),parse:t=>qo.test(t)?qo.parse(t):Xa.test(t)?Xa.parse(t):Qm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?qo.transform(t):Xa.transform(t),getAnimatableNone:t=>{const e=Qt.parse(t);return e.alpha=0,Qt.transform(e)}},OO=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jO(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(My))==null?void 0:e.length)||0)+(((n=t.match(OO))==null?void 0:n.length)||0)>0}const fI="number",pI="color",FO="var",UO="var(",Dx="${}",zO=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Zu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const c=e.replace(zO,d=>(Qt.test(d)?(r.color.push(a),s.push(pI),n.push(Qt.parse(d))):d.startsWith(UO)?(r.var.push(a),s.push(FO),n.push(d)):(r.number.push(a),s.push(fI),n.push(parseFloat(d))),++a,Dx)).split(Dx);return{values:n,split:c,indexes:r,types:s}}function mI(t){return Zu(t).values}function gI(t){const{split:e,types:n}=Zu(t),r=e.length;return s=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],s[l]!==void 0){const c=n[l];c===fI?a+=Vu(s[l]):c===pI?a+=Qt.transform(s[l]):a+=s[l]}return a}}const BO=t=>typeof t=="number"?0:Qt.test(t)?Qt.getAnimatableNone(t):t;function $O(t){const e=mI(t);return gI(t)(e.map(BO))}const co={test:jO,parse:mI,createTransformer:gI,getAnimatableNone:$O};function tm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function HO({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;s=tm(d,c,t+1/3),a=tm(d,c,t),l=tm(d,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function xd(t,e){return n=>n>0?e:t}const Mt=(t,e,n)=>t+(e-t)*n,nm=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},WO=[Qm,qo,Xa],GO=t=>WO.find(e=>e.test(t));function Mx(t){const e=GO(t);if(!e)return!1;let n=e.parse(t);return e===Xa&&(n=HO(n)),n}const Lx=(t,e)=>{const n=Mx(t),r=Mx(e);if(!n||!r)return xd(t,e);const s={...n};return a=>(s.red=nm(n.red,r.red,a),s.green=nm(n.green,r.green,a),s.blue=nm(n.blue,r.blue,a),s.alpha=Mt(n.alpha,r.alpha,a),qo.transform(s))},Ym=new Set(["none","hidden"]);function KO(t,e){return Ym.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function qO(t,e){return n=>Mt(t,e,n)}function Vy(t){return typeof t=="number"?qO:typeof t=="string"?Dy(t)?xd:Qt.test(t)?Lx:XO:Array.isArray(t)?yI:typeof t=="object"?Qt.test(t)?Lx:QO:xd}function yI(t,e){const n=[...t],r=n.length,s=t.map((a,l)=>Vy(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=s[l](a);return n}}function QO(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Vy(t[s])(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function YO(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],l=t.indexes[a][r[a]],c=t.values[l]??0;n[s]=c,r[a]++}return n}const XO=(t,e)=>{const n=co.createTransformer(e),r=Zu(t),s=Zu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Ym.has(t)&&!s.values.length||Ym.has(e)&&!r.values.length?KO(t,e):vc(yI(YO(r,s),s.values),n):xd(t,e)};function vI(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Mt(t,e,n):Vy(t)(t,e)}const JO=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ct.update(e,n),stop:()=>uo(e),now:()=>yn.isProcessing?yn.timestamp:Bn.now()}},wI=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=Math.round(t(a/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Ed=2e4;function Oy(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Ed;)e+=n,r=t.next(e);return e>=Ed?1/0:e}function ZO(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(Oy(r),Ed);return{type:"keyframes",ease:a=>r.next(s*a).value/e,duration:Cr(s)}}const ej=5;function _I(t,e,n){const r=Math.max(e-ej,0);return JS(n-t(r),e-r)}const Ut={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},rm=.001;function tj({duration:t=Ut.duration,bounce:e=Ut.bounce,velocity:n=Ut.velocity,mass:r=Ut.mass}){let s,a,l=1-e;l=Ci(Ut.minDamping,Ut.maxDamping,l),t=Ci(Ut.minDuration,Ut.maxDuration,Cr(t)),l<1?(s=p=>{const g=p*l,y=g*t,_=g-n,T=Xm(p,l),C=Math.exp(-y);return rm-_/T*C},a=p=>{const y=p*l*t,_=y*n+n,T=Math.pow(l,2)*Math.pow(p,2)*t,C=Math.exp(-y),N=Xm(Math.pow(p,2),l);return(-s(p)+rm>0?-1:1)*((_-T)*C)/N}):(s=p=>{const g=Math.exp(-p*t),y=(p-n)*t+1;return-rm+g*y},a=p=>{const g=Math.exp(-p*t),y=(n-p)*(t*t);return g*y});const c=5/t,d=rj(s,a,c);if(t=ns(t),isNaN(d))return{stiffness:Ut.stiffness,damping:Ut.damping,duration:t};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const nj=12;function rj(t,e,n){let r=n;for(let s=1;s<nj;s++)r=r-t(r)/e(r);return r}function Xm(t,e){return t*Math.sqrt(1-e*e)}const ij=["duration","bounce"],sj=["stiffness","damping","mass"];function Vx(t,e){return e.some(n=>t[n]!==void 0)}function oj(t){let e={velocity:Ut.velocity,stiffness:Ut.stiffness,damping:Ut.damping,mass:Ut.mass,isResolvedFromDuration:!1,...t};if(!Vx(t,sj)&&Vx(t,ij))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*Ci(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Ut.mass,stiffness:s,damping:a}}else{const n=tj(t);e={...e,...n,mass:Ut.mass},e.isResolvedFromDuration=!0}return e}function Td(t=Ut.visualDuration,e=Ut.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:p,mass:g,duration:y,velocity:_,isResolvedFromDuration:T}=oj({...n,velocity:-Cr(n.velocity||0)}),C=_||0,N=p/(2*Math.sqrt(d*g)),P=l-a,U=Cr(Math.sqrt(d/g)),F=Math.abs(P)<5;r||(r=F?Ut.restSpeed.granular:Ut.restSpeed.default),s||(s=F?Ut.restDelta.granular:Ut.restDelta.default);let W;if(N<1){const ee=Xm(U,N);W=ne=>{const b=Math.exp(-N*U*ne);return l-b*((C+N*U*P)/ee*Math.sin(ee*ne)+P*Math.cos(ee*ne))}}else if(N===1)W=ee=>l-Math.exp(-U*ee)*(P+(C+U*P)*ee);else{const ee=U*Math.sqrt(N*N-1);W=ne=>{const b=Math.exp(-N*U*ne),S=Math.min(ee*ne,300);return l-b*((C+N*U*P)*Math.sinh(S)+ee*P*Math.cosh(S))/ee}}const Q={calculatedDuration:T&&y||null,next:ee=>{const ne=W(ee);if(T)c.done=ee>=y;else{let b=ee===0?C:0;N<1&&(b=ee===0?ns(C):_I(W,ee,ne));const S=Math.abs(b)<=r,A=Math.abs(l-ne)<=s;c.done=S&&A}return c.value=c.done?l:ne,c},toString:()=>{const ee=Math.min(Oy(Q),Ed),ne=wI(b=>Q.next(ee*b).value,ee,30);return ee+"ms "+ne},toTransition:()=>{}};return Q}Td.applyToOptions=t=>{const e=ZO(t,100,Td);return t.ease=e.ease,t.duration=ns(e.duration),t.type="keyframes",t};function Jm({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:d,restDelta:p=.5,restSpeed:g}){const y=t[0],_={done:!1,value:y},T=S=>c!==void 0&&S<c||d!==void 0&&S>d,C=S=>c===void 0?d:d===void 0||Math.abs(c-S)<Math.abs(d-S)?c:d;let N=n*e;const P=y+N,U=l===void 0?P:l(P);U!==P&&(N=U-y);const F=S=>-N*Math.exp(-S/r),W=S=>U+F(S),Q=S=>{const A=F(S),L=W(S);_.done=Math.abs(A)<=p,_.value=_.done?U:L};let ee,ne;const b=S=>{T(_.value)&&(ee=S,ne=Td({keyframes:[_.value,C(_.value)],velocity:_I(W,S,_.value),damping:s,stiffness:a,restDelta:p,restSpeed:g}))};return b(0),{calculatedDuration:null,next:S=>{let A=!1;return!ne&&ee===void 0&&(A=!0,Q(S),b(S)),ee!==void 0&&S>=ee?ne.next(S-ee):(!A&&Q(S),_)}}}function aj(t,e,n){const r=[],s=n||as.mix||vI,a=t.length-1;for(let l=0;l<a;l++){let c=s(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||Rr:e;c=vc(d,c)}r.push(c)}return r}function lj(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(Ry(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=aj(e,r,s),d=c.length,p=g=>{if(l&&g<t[0])return e[0];let y=0;if(d>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const _=Xu(t[y],t[y+1],g);return c[y](_)};return n?g=>p(Ci(t[0],t[a-1],g)):p}function uj(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Xu(0,e,r);t.push(Mt(n,1,s))}}function cj(t){const e=[0];return uj(e,t.length-1),e}function hj(t,e){return t.map(n=>n*e)}function dj(t,e){return t.map(()=>e||aI).splice(0,t.length-1)}function Ou({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=TO(r)?r.map(kx):kx(r),a={done:!1,value:e[0]},l=hj(n&&n.length===e.length?n:cj(e),t),c=lj(l,e,{ease:Array.isArray(s)?s:dj(e,s)});return{calculatedDuration:t,next:d=>(a.value=c(d),a.done=d>=t,a)}}const fj=t=>t!==null;function jy(t,{repeat:e,repeatType:n="loop"},r,s=1){const a=t.filter(fj),c=s<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!c||r===void 0?a[c]:r}const pj={decay:Jm,inertia:Jm,tween:Ou,keyframes:Ou,spring:Td};function xI(t){typeof t.type=="string"&&(t.type=pj[t.type])}class Fy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const mj=t=>t/100;class Uy extends Fy{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Bn.now()&&this.tick(Bn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;xI(e);const{type:n=Ou,repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=e;let{keyframes:c}=e;const d=n||Ou;d!==Ou&&typeof c[0]!="number"&&(this.mixKeyframes=vc(mj,vI(c[0],c[1])),c=[0,100]);const p=d({...e,keyframes:c});a==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=Oy(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:g,repeat:y,repeatType:_,repeatDelay:T,type:C,onUpdate:N,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const U=this.currentTime-p*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?U<0:U>s;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let W=this.currentTime,Q=r;if(y){const S=Math.min(this.currentTime,s)/c;let A=Math.floor(S),L=S%1;!L&&S>=1&&(L=1),L===1&&A--,A=Math.min(A,y+1),!!(A%2)&&(_==="reverse"?(L=1-L,T&&(L-=T/c)):_==="mirror"&&(Q=l)),W=Ci(0,1,L)*c}const ee=F?{done:!1,value:g[0]}:Q.next(W);a&&(ee.value=a(ee.value));let{done:ne}=ee;!F&&d!==null&&(ne=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const b=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ne);return b&&C!==Jm&&(ee.value=jy(g,this.options,P,this.speed)),N&&N(ee.value),b&&this.finish(),ee}then(e,n){return this.finished.then(e,n)}get duration(){return Cr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Cr(e)}get time(){return Cr(this.currentTime)}set time(e){var n;e=ns(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Bn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Cr(this.currentTime))}play(){var s,a;if(this.isStopped)return;const{driver:e=JO,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(a=(s=this.options).onPlay)==null||a.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Bn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function gj(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Qo=t=>t*180/Math.PI,Zm=t=>{const e=Qo(Math.atan2(t[1],t[0]));return eg(e)},yj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Zm,rotateZ:Zm,skewX:t=>Qo(Math.atan(t[1])),skewY:t=>Qo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},eg=t=>(t=t%360,t<0&&(t+=360),t),Ox=Zm,jx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Fx=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),vj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:jx,scaleY:Fx,scale:t=>(jx(t)+Fx(t))/2,rotateX:t=>eg(Qo(Math.atan2(t[6],t[5]))),rotateY:t=>eg(Qo(Math.atan2(-t[2],t[0]))),rotateZ:Ox,rotate:Ox,skewX:t=>Qo(Math.atan(t[4])),skewY:t=>Qo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function tg(t){return t.includes("scale")?1:0}function ng(t,e){if(!t||t==="none")return tg(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=vj,s=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=yj,s=c}if(!s)return tg(e);const a=r[e],l=s[1].split(",").map(_j);return typeof a=="function"?a(l):l[a]}const wj=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ng(n,e)};function _j(t){return parseFloat(t.trim())}const Tl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sl=new Set(Tl),Ux=t=>t===El||t===ke,xj=new Set(["x","y","z"]),Ej=Tl.filter(t=>!xj.has(t));function Tj(t){const e=[];return Ej.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Gs={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ng(e,"x"),y:(t,{transform:e})=>ng(e,"y")};Gs.translateX=Gs.x;Gs.translateY=Gs.y;const Zo=new Set;let rg=!1,ig=!1,sg=!1;function EI(){if(ig){const t=Array.from(Zo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=Tj(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,l])=>{var c;(c=r.getValue(a))==null||c.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ig=!1,rg=!1,Zo.forEach(t=>t.complete(sg)),Zo.clear()}function TI(){Zo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ig=!0)})}function Sj(){sg=!0,TI(),EI(),sg=!1}class zy{constructor(e,n,r,s,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Zo.add(this),rg||(rg=!0,Ct.read(TI),Ct.resolveKeyframes(EI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const a=s==null?void 0:s.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(r&&n){const c=r.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),s&&a===void 0&&s.set(e[0])}gj(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Zo.delete(this)}cancel(){this.state==="scheduled"&&(Zo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Ij=t=>t.startsWith("--");function bj(t,e,n){Ij(e)?t.style.setProperty(e,n):t.style[e]=n}const Cj=Ay(()=>window.ScrollTimeline!==void 0),Rj={};function Aj(t,e){const n=Ay(t);return()=>Rj[e]??n()}const SI=Aj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Su=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,zx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Su([0,.65,.55,1]),circOut:Su([.55,0,1,.45]),backIn:Su([.31,.01,.66,-.59]),backOut:Su([.33,1.53,.69,.99])};function II(t,e){if(t)return typeof t=="function"?SI()?wI(t,e):"ease-out":lI(t)?Su(t):Array.isArray(t)?t.map(n=>II(n,e)||zx.easeOut):zx[t]}function kj(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:c="easeOut",times:d}={},p=void 0){const g={[e]:n};d&&(g.offset=d);const y=II(c,s);Array.isArray(y)&&(g.easing=y);const _={delay:r,duration:s,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return p&&(_.pseudoElement=p),t.animate(g,_)}function bI(t){return typeof t=="function"&&"applyToOptions"in t}function Pj({type:t,...e}){return bI(t)&&SI()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Nj extends Fy{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,Ry(typeof e.type!="string");const p=Pj(e);this.animation=kj(n,r,s,p,a),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const g=jy(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(g):bj(n,r,g),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var n,r,s;const e=(n=this.options)==null?void 0:n.element;!this.isPseudoElement&&(e!=null&&e.isConnected)&&((s=(r=this.animation).commitStyles)==null||s.call(r))}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Cr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Cr(e)}get time(){return Cr(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=ns(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Cj()?(this.animation.timeline=e,Rr):n(this)}}const CI={anticipate:iI,backInOut:rI,circInOut:oI};function Dj(t){return t in CI}function Mj(t){typeof t.ease=="string"&&Dj(t.ease)&&(t.ease=CI[t.ease])}const im=10;class Lj extends Nj{constructor(e){Mj(e),xI(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new Uy({...l,autoplay:!1}),d=Math.max(im,Bn.now()-this.startTime),p=Ci(0,im,d-im);n.setWithVelocity(c.sample(Math.max(0,d-p)).value,c.sample(d).value,p),c.stop()}}const Bx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(co.test(t)||t==="0")&&!t.startsWith("url("));function Vj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Oj(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=Bx(s,e),c=Bx(a,e);return!l||!c?!1:Vj(t)||(n==="spring"||bI(n))&&r}function og(t){t.duration=0,t.type="keyframes"}const jj=new Set(["opacity","clipPath","filter","transform"]),Fj=Ay(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Uj(t){var g;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:a,type:l}=t;if(!(((g=e==null?void 0:e.owner)==null?void 0:g.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=e.owner.getProps();return Fj()&&n&&jj.has(n)&&(n!=="transform"||!p)&&!d&&!r&&s!=="mirror"&&a!==0&&l!=="inertia"}const zj=40;class Bj extends Fy{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",keyframes:c,name:d,motionValue:p,element:g,...y}){var C;super(),this.stop=()=>{var N,P;this._animation&&(this._animation.stop(),(N=this.stopTimeline)==null||N.call(this)),(P=this.keyframeResolver)==null||P.cancel()},this.createdAt=Bn.now();const _={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:l,name:d,motionValue:p,element:g,...y},T=(g==null?void 0:g.KeyframeResolver)||zy;this.keyframeResolver=new T(c,(N,P,U)=>this.onKeyframesResolved(N,P,_,!U),d,p,g),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(e,n,r,s){var P,U;this.keyframeResolver=void 0;const{name:a,type:l,velocity:c,delay:d,isHandoff:p,onUpdate:g}=r;this.resolvedAt=Bn.now(),Oj(e,a,l,c)||((as.instantAnimations||!d)&&(g==null||g(jy(e,r,n))),e[0]=e[e.length-1],og(r),r.repeat=0);const _={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>zj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},T=!p&&Uj(_),C=(U=(P=_.motionValue)==null?void 0:P.owner)==null?void 0:U.current,N=T?new Lj({..._,element:C}):new Uy(_);N.finished.then(()=>{this.notifyFinished()}).catch(Rr),this.pendingTimeline&&(this.stopTimeline=N.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=N}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Sj()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function RI(t,e,n,r=0,s=1){const a=Array.from(t).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),l=t.size,c=(l-1)*r;return typeof n=="function"?n(a,l):s===1?a*r:c-a*r}const $j=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Hj(t){const e=$j.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function AI(t,e,n=1){const[r,s]=Hj(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return QS(l)?parseFloat(l):l}return Dy(s)?AI(s,e,n+1):s}const Wj={type:"spring",stiffness:500,damping:25,restSpeed:10},Gj=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Kj={type:"keyframes",duration:.8},qj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Qj=(t,{keyframes:e})=>e.length>2?Kj:Sl.has(t)?t.startsWith("scale")?Gj(e[1]):Wj:qj,Yj=t=>t!==null;function Xj(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(Yj),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[a]}function By(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}function Jj({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:c,from:d,elapsed:p,...g}){return!!Object.keys(g).length}const $y=(t,e,n,r={},s,a)=>l=>{const c=By(r,t)||{},d=c.delay||r.delay||0;let{elapsed:p=0}=r;p=p-ns(d);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-p,onUpdate:_=>{e.set(_),c.onUpdate&&c.onUpdate(_)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:s};Jj(c)||Object.assign(g,Qj(t,g)),g.duration&&(g.duration=ns(g.duration)),g.repeatDelay&&(g.repeatDelay=ns(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(og(g),g.delay===0&&(y=!0)),(as.instantAnimations||as.skipAnimations||s!=null&&s.shouldSkipAnimations)&&(y=!0,og(g),g.delay=0),g.allowFlatten=!c.type&&!c.ease,y&&!a&&e.get()!==void 0){const _=Xj(g.keyframes,c);if(_!==void 0){Ct.update(()=>{g.onUpdate(_),g.onComplete()});return}}return c.isSync?new Uy(g):new Bj(g)};function $x(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Hy(t,e,n,r){if(typeof e=="function"){const[s,a]=$x(r);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=$x(r);e=e(n!==void 0?n:t.custom,s,a)}return e}function ul(t,e,n){const r=t.getProps();return Hy(r,e,n!==void 0?n:r.custom,t)}const kI=new Set(["width","height","top","left","right","bottom",...Tl]),Hx=30,Zj=t=>!isNaN(parseFloat(t));class e4{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var a;const s=Bn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Bn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Zj(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new ky);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ct.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Bn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Hx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Hx);return JS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yl(t,e){return new e4(t,e)}const ag=t=>Array.isArray(t);function t4(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,yl(n))}function n4(t){return ag(t)?t[t.length-1]||0:t}function r4(t,e){const n=ul(t,e);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const l in a){const c=n4(a[l]);t4(t,l,c)}}const Mn=t=>!!(t&&t.getVelocity);function i4(t){return!!(Mn(t)&&t.add)}function lg(t,e){const n=t.getValue("willChange");if(i4(n))return n.add(e);if(!n&&as.WillChange){const r=new as.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Wy(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const s4="framerAppearId",PI="data-"+Wy(s4);function NI(t){return t.props[PI]}function o4({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function DI(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...c}=e;const d=a==null?void 0:a.reduceMotion;r&&(a=r);const p=[],g=s&&t.animationState&&t.animationState.getState()[s];for(const y in c){const _=t.getValue(y,t.latestValues[y]??null),T=c[y];if(T===void 0||g&&o4(g,y))continue;const C={delay:n,...By(a||{},y)},N=_.get();if(N!==void 0&&!_.isAnimating&&!Array.isArray(T)&&T===N&&!C.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const W=NI(t);if(W){const Q=window.MotionHandoffAnimation(W,y,Ct);Q!==null&&(C.startTime=Q,P=!0)}}lg(t,y);const U=d??t.shouldReduceMotion;_.start($y(y,_,T,U&&kI.has(y)?{type:!1}:C,t,P));const F=_.animation;F&&p.push(F)}return l&&Promise.all(p).then(()=>{Ct.update(()=>{l&&r4(t,l)})}),p}function ug(t,e,n={}){var d;const r=ul(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const a=r?()=>Promise.all(DI(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:_}=s;return a4(t,e,p,g,y,_,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[p,g]=c==="beforeChildren"?[a,l]:[l,a];return p().then(()=>g())}else return Promise.all([a(),l(n.delay)])}function a4(t,e,n=0,r=0,s=0,a=1,l){const c=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),c.push(ug(d,e,{...l,delay:n+(typeof r=="function"?0:r)+RI(t.variantChildren,d,r,s,a)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(c)}function l4(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>ug(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=ug(t,e,n);else{const s=typeof e=="function"?ul(t,e,n.custom):e;r=Promise.all(DI(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const u4={test:t=>t==="auto",parse:t=>t},MI=t=>e=>e.test(t),LI=[El,ke,Ei,Os,VO,LO,u4],Wx=t=>LI.find(MI(t));function c4(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||XS(t):!0}const h4=new Set(["brightness","contrast","saturate","opacity"]);function d4(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(My)||[];if(!r)return t;const s=n.replace(r,"");let a=h4.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const f4=/\b([a-z-]*)\(.*?\)/gu,cg={...co,getAnimatableNone:t=>{const e=t.match(f4);return e?e.map(d4).join(" "):t}},Gx={...El,transform:Math.round},p4={rotate:Os,rotateX:Os,rotateY:Os,rotateZ:Os,scale:Lh,scaleX:Lh,scaleY:Lh,scaleZ:Lh,skew:Os,skewX:Os,skewY:Os,distance:ke,translateX:ke,translateY:ke,translateZ:ke,x:ke,y:ke,z:ke,perspective:ke,transformPerspective:ke,opacity:Ju,originX:Nx,originY:Nx,originZ:ke},Gy={borderWidth:ke,borderTopWidth:ke,borderRightWidth:ke,borderBottomWidth:ke,borderLeftWidth:ke,borderRadius:ke,borderTopLeftRadius:ke,borderTopRightRadius:ke,borderBottomRightRadius:ke,borderBottomLeftRadius:ke,width:ke,maxWidth:ke,height:ke,maxHeight:ke,top:ke,right:ke,bottom:ke,left:ke,inset:ke,insetBlock:ke,insetBlockStart:ke,insetBlockEnd:ke,insetInline:ke,insetInlineStart:ke,insetInlineEnd:ke,padding:ke,paddingTop:ke,paddingRight:ke,paddingBottom:ke,paddingLeft:ke,paddingBlock:ke,paddingBlockStart:ke,paddingBlockEnd:ke,paddingInline:ke,paddingInlineStart:ke,paddingInlineEnd:ke,margin:ke,marginTop:ke,marginRight:ke,marginBottom:ke,marginLeft:ke,marginBlock:ke,marginBlockStart:ke,marginBlockEnd:ke,marginInline:ke,marginInlineStart:ke,marginInlineEnd:ke,fontSize:ke,backgroundPositionX:ke,backgroundPositionY:ke,...p4,zIndex:Gx,fillOpacity:Ju,strokeOpacity:Ju,numOctaves:Gx},m4={...Gy,color:Qt,backgroundColor:Qt,outlineColor:Qt,fill:Qt,stroke:Qt,borderColor:Qt,borderTopColor:Qt,borderRightColor:Qt,borderBottomColor:Qt,borderLeftColor:Qt,filter:cg,WebkitFilter:cg},VI=t=>m4[t];function OI(t,e){let n=VI(t);return n!==cg&&(n=co),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const g4=new Set(["auto","none","0"]);function y4(t,e,n){let r=0,s;for(;r<t.length&&!s;){const a=t[r];typeof a=="string"&&!g4.has(a)&&Zu(a).values.length&&(s=t[r]),r++}if(s&&n)for(const a of e)t[a]=OI(n,s)}class v4 extends zy{constructor(e,n,r,s,a){super(e,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let y=e[g];if(typeof y=="string"&&(y=y.trim(),Dy(y))){const _=AI(y,n.current);_!==void 0&&(e[g]=_),g===e.length-1&&(this.finalKeyframe=y)}}if(this.resolveNoneKeyframes(),!kI.has(r)||e.length!==2)return;const[s,a]=e,l=Wx(s),c=Wx(a),d=Px(s),p=Px(a);if(d!==p&&Gs[r]){this.needsMeasurement=!0;return}if(l!==c)if(Ux(l)&&Ux(c))for(let g=0;g<e.length;g++){const y=e[g];typeof y=="string"&&(e[g]=parseFloat(y))}else Gs[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||c4(e[s]))&&r.push(s);r.length&&y4(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Gs[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var c;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=Gs[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([d,p])=>{e.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function w4(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t).filter(r=>r!=null)}const jI=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function hg(t){return YS(t)&&"offsetHeight"in t}const{schedule:Ky}=uI(queueMicrotask,!1),Hr={x:!1,y:!1};function FI(){return Hr.x||Hr.y}function _4(t){return t==="x"||t==="y"?Hr[t]?null:(Hr[t]=!0,()=>{Hr[t]=!1}):Hr.x||Hr.y?null:(Hr.x=Hr.y=!0,()=>{Hr.x=Hr.y=!1})}function UI(t,e){const n=w4(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function Kx(t){return!(t.pointerType==="touch"||FI())}function x4(t,e,n={}){const[r,s,a]=UI(t,n),l=c=>{if(!Kx(c))return;const{target:d}=c,p=e(d,c);if(typeof p!="function"||!d)return;const g=y=>{Kx(y)&&(p(y),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,s)};return r.forEach(c=>{c.addEventListener("pointerenter",l,s)}),a}const zI=(t,e)=>e?t===e?!0:zI(t,e.parentElement):!1,qy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,E4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function BI(t){return E4.has(t.tagName)||t.isContentEditable===!0}const Zh=new WeakSet;function qx(t){return e=>{e.key==="Enter"&&t(e)}}function sm(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const T4=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=qx(()=>{if(Zh.has(n))return;sm(n,"down");const s=qx(()=>{sm(n,"up")}),a=()=>sm(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Qx(t){return qy(t)&&!FI()}function S4(t,e,n={}){const[r,s,a]=UI(t,n),l=c=>{const d=c.currentTarget;if(!Qx(c))return;Zh.add(d);const p=e(d,c),g=(T,C)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",_),Zh.has(d)&&Zh.delete(d),Qx(T)&&typeof p=="function"&&p(T,{success:C})},y=T=>{g(T,d===window||d===document||n.useGlobalTarget||zI(d,T.target))},_=T=>{g(T,!1)};window.addEventListener("pointerup",y,s),window.addEventListener("pointercancel",_,s)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),hg(c)&&(c.addEventListener("focus",p=>T4(p,s)),!BI(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function $I(t){return YS(t)&&"ownerSVGElement"in t}function I4(t){return $I(t)&&t.tagName==="svg"}const b4=[...LI,Qt,co],C4=t=>b4.find(MI(t)),Yx=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ja=()=>({x:Yx(),y:Yx()}),Xx=()=>({min:0,max:0}),nn=()=>({x:Xx(),y:Xx()}),dg={current:null},HI={current:!1},R4=typeof window<"u";function A4(){if(HI.current=!0,!!R4)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>dg.current=t.matches;t.addEventListener("change",e),e()}else dg.current=!1}const k4=new WeakMap;function Zd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ec(t){return typeof t=="string"||Array.isArray(t)}const Qy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Yy=["initial",...Qy];function ef(t){return Zd(t.animate)||Yy.some(e=>ec(t[e]))}function WI(t){return!!(ef(t)||t.variants)}function P4(t,e,n){for(const r in e){const s=e[r],a=n[r];if(Mn(s))t.addValue(r,s);else if(Mn(a))t.addValue(r,yl(s,{owner:t}));else if(a!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,yl(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Jx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Sd={};function GI(t){Sd=t}function N4(){return Sd}class D4{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,skipAnimations:a,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=zy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Bn.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,Ct.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=g,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.skipAnimationsConfig=a,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=ef(n),this.isVariantNode=WI(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in _){const C=_[T];p[T]!==void 0&&Mn(C)&&C.set(p[T])}}mount(e){var n;this.current=e,k4.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(HI.current||A4(),this.shouldReduceMotion=dg.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),uo(this.notifyUpdate),uo(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Sl.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Ct.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Sd){const n=Sd[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Jx.length;r++){const s=Jx[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=P4(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=yl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(QS(r)||XS(r))?r=parseFloat(r):!C4(r)&&co.test(n)&&(r=OI(e,n)),this.setBaseTarget(e,Mn(r)?r.get():r)),Mn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=Hy(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);l&&(r=l[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Mn(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new ky),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Ky.render(this.render)}}class KI extends D4{constructor(){super(...arguments),this.KeyframeResolver=v4}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Mn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class po{constructor(e){this.isMounted=!1,this.node=e}update(){}}function qI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function M4({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function L4(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function om(t){return t===void 0||t===1}function fg({scale:t,scaleX:e,scaleY:n}){return!om(t)||!om(e)||!om(n)}function Ho(t){return fg(t)||QI(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function QI(t){return Zx(t.x)||Zx(t.y)}function Zx(t){return t&&t!=="0%"}function Id(t,e,n){const r=t-n,s=e*r;return n+s}function eE(t,e,n,r,s){return s!==void 0&&(t=Id(t,s,r)),Id(t,n,r)+e}function pg(t,e=0,n=1,r,s){t.min=eE(t.min,e,n,r,s),t.max=eE(t.max,e,n,r,s)}function YI(t,{x:e,y:n}){pg(t.x,e.translate,e.scale,e.originPoint),pg(t.y,n.translate,n.scale,n.originPoint)}const tE=.999999999999,nE=1.0000000000001;function V4(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let c=0;c<s;c++){a=n[c],l=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&el(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,YI(t,l)),r&&Ho(a.latestValues)&&el(t,a.latestValues))}e.x<nE&&e.x>tE&&(e.x=1),e.y<nE&&e.y>tE&&(e.y=1)}function Za(t,e){t.min=t.min+e,t.max=t.max+e}function rE(t,e,n,r,s=.5){const a=Mt(t.min,t.max,s);pg(t,e,n,a,r)}function el(t,e){rE(t.x,e.x,e.scaleX,e.scale,e.originX),rE(t.y,e.y,e.scaleY,e.scale,e.originY)}function XI(t,e){return qI(L4(t.getBoundingClientRect(),e))}function O4(t,e,n){const r=XI(t,n),{scroll:s}=e;return s&&(Za(r.x,s.offset.x),Za(r.y,s.offset.y)),r}const j4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},F4=Tl.length;function U4(t,e,n){let r="",s=!0;for(let a=0;a<F4;a++){const l=Tl[a],c=t[l];if(c===void 0)continue;let d=!0;if(typeof c=="number")d=c===(l.startsWith("scale")?1:0);else{const p=parseFloat(c);d=l.startsWith("scale")?p===1:p===0}if(!d||n){const p=jI(c,Gy[l]);if(!d){s=!1;const g=j4[l]||l;r+=`${g}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Xy(t,e,n){const{style:r,vars:s,transformOrigin:a}=t;let l=!1,c=!1;for(const d in e){const p=e[d];if(Sl.has(d)){l=!0;continue}else if(hI(d)){s[d]=p;continue}else{const g=jI(p,Gy[d]);d.startsWith("origin")?(c=!0,a[d]=g):r[d]=g}}if(e.transform||(l||n?r.transform=U4(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${d} ${p} ${g}`}}function JI(t,{style:e,vars:n},r,s){const a=t.style;let l;for(l in e)a[l]=e[l];s==null||s.applyProjectionStyles(a,r);for(l in n)a.setProperty(l,n[l])}function iE(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const pu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ke.test(t))t=parseFloat(t);else return t;const n=iE(t,e.target.x),r=iE(t,e.target.y);return`${n}% ${r}%`}},z4={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=co.parse(t);if(s.length>5)return r;const a=co.createTransformer(t),l=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;s[0+l]/=c,s[1+l]/=d;const p=Mt(c,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),a(s)}},mg={borderRadius:{...pu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pu,borderTopRightRadius:pu,borderBottomLeftRadius:pu,borderBottomRightRadius:pu,boxShadow:z4};function ZI(t,{layout:e,layoutId:n}){return Sl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!mg[t]||t==="opacity")}function Jy(t,e,n){var l;const r=t.style,s=e==null?void 0:e.style,a={};if(!r)return a;for(const c in r)(Mn(r[c])||s&&Mn(s[c])||ZI(c,t)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(a[c]=r[c]);return a}function B4(t){return window.getComputedStyle(t)}class $4 extends KI{constructor(){super(...arguments),this.type="html",this.renderInstance=JI}readValueFromInstance(e,n){var r;if(Sl.has(n))return(r=this.projection)!=null&&r.isProjecting?tg(n):wj(e,n);{const s=B4(e),a=(hI(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return XI(e,n)}build(e,n,r){Xy(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Jy(e,n,r)}}const H4={offset:"stroke-dashoffset",array:"stroke-dasharray"},W4={offset:"strokeDashoffset",array:"strokeDasharray"};function G4(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?H4:W4;t[a.offset]=`${-r}`,t[a.array]=`${e} ${n}`}const K4=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function eb(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},d,p,g){if(Xy(t,c,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:_}=t;y.transform&&(_.transform=y.transform,delete y.transform),(_.transform||y.transformOrigin)&&(_.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),_.transform&&(_.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete y.transformBox);for(const T of K4)y[T]!==void 0&&(_[T]=y[T],delete y[T]);e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),s!==void 0&&G4(y,s,a,l,!1)}const tb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),nb=t=>typeof t=="string"&&t.toLowerCase()==="svg";function q4(t,e,n,r){JI(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(tb.has(s)?s:Wy(s),e.attrs[s])}function rb(t,e,n){const r=Jy(t,e,n);for(const s in t)if(Mn(t[s])||Mn(e[s])){const a=Tl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=t[s]}return r}class Q4 extends KI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Sl.has(n)){const r=VI(n);return r&&r.default||0}return n=tb.has(n)?n:Wy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return rb(e,n,r)}build(e,n,r){eb(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){q4(e,n,r,s)}mount(e){this.isSVGTag=nb(e.tagName),super.mount(e)}}const Y4=Yy.length;function ib(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ib(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Y4;n++){const r=Yy[n],s=t.props[r];(ec(s)||s===!1)&&(e[r]=s)}return e}function sb(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const X4=[...Qy].reverse(),J4=Qy.length;function Z4(t){return e=>Promise.all(e.map(({animation:n,options:r})=>l4(t,n,r)))}function e5(t){let e=Z4(t),n=sE(),r=!0;const s=d=>(p,g)=>{var _;const y=ul(t,g,d==="exit"?(_=t.presenceContext)==null?void 0:_.custom:void 0);if(y){const{transition:T,transitionEnd:C,...N}=y;p={...p,...N,...C}}return p};function a(d){e=d(t)}function l(d){const{props:p}=t,g=ib(t.parent)||{},y=[],_=new Set;let T={},C=1/0;for(let P=0;P<J4;P++){const U=X4[P],F=n[U],W=p[U]!==void 0?p[U]:g[U],Q=ec(W),ee=U===d?F.isActive:null;ee===!1&&(C=P);let ne=W===g[U]&&W!==p[U]&&Q;if(ne&&r&&t.manuallyAnimateOnMount&&(ne=!1),F.protectedKeys={...T},!F.isActive&&ee===null||!W&&!F.prevProp||Zd(W)||typeof W=="boolean")continue;const b=t5(F.prevProp,W);let S=b||U===d&&F.isActive&&!ne&&Q||P>C&&Q,A=!1;const L=Array.isArray(W)?W:[W];let V=L.reduce(s(U),{});ee===!1&&(V={});const{prevResolvedValues:z={}}=F,D={...z,...V},je=pe=>{S=!0,_.has(pe)&&(A=!0,_.delete(pe)),F.needsAnimating[pe]=!0;const G=t.getValue(pe);G&&(G.liveStyle=!1)};for(const pe in D){const G=V[pe],de=z[pe];if(T.hasOwnProperty(pe))continue;let re=!1;ag(G)&&ag(de)?re=!sb(G,de):re=G!==de,re?G!=null?je(pe):_.add(pe):G!==void 0&&_.has(pe)?je(pe):F.protectedKeys[pe]=!0}F.prevProp=W,F.prevResolvedValues=V,F.isActive&&(T={...T,...V}),r&&t.blockInitialAnimation&&(S=!1);const Ke=ne&&b;S&&(!Ke||A)&&y.push(...L.map(pe=>{const G={type:U};if(typeof pe=="string"&&r&&!Ke&&t.manuallyAnimateOnMount&&t.parent){const{parent:de}=t,re=ul(de,pe);if(de.enteringChildren&&re){const{delayChildren:B}=re.transition||{};G.delay=RI(de.enteringChildren,t,B)}}return{animation:pe,options:G}}))}if(_.size){const P={};if(typeof p.initial!="boolean"){const U=ul(t,Array.isArray(p.initial)?p.initial[0]:p.initial);U&&U.transition&&(P.transition=U.transition)}_.forEach(U=>{const F=t.getBaseTarget(U),W=t.getValue(U);W&&(W.liveStyle=!0),P[U]=F??null}),y.push({animation:P})}let N=!!y.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(N=!1),r=!1,N?e(y):Promise.resolve()}function c(d,p){var y;if(n[d].isActive===p)return Promise.resolve();(y=t.variantChildren)==null||y.forEach(_=>{var T;return(T=_.animationState)==null?void 0:T.setActive(d,p)}),n[d].isActive=p;const g=l(d);for(const _ in n)n[_].protectedKeys={};return g}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=sE()}}}function t5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!sb(e,t):!1}function zo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sE(){return{animate:zo(!0),whileInView:zo(),whileHover:zo(),whileTap:zo(),whileDrag:zo(),whileFocus:zo(),exit:zo()}}function oE(t,e){t.min=e.min,t.max=e.max}function $r(t,e){oE(t.x,e.x),oE(t.y,e.y)}function aE(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const ob=1e-4,n5=1-ob,r5=1+ob,ab=.01,i5=0-ab,s5=0+ab;function $n(t){return t.max-t.min}function o5(t,e,n){return Math.abs(t-e)<=n}function lE(t,e,n,r=.5){t.origin=r,t.originPoint=Mt(e.min,e.max,t.origin),t.scale=$n(n)/$n(e),t.translate=Mt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=n5&&t.scale<=r5||isNaN(t.scale))&&(t.scale=1),(t.translate>=i5&&t.translate<=s5||isNaN(t.translate))&&(t.translate=0)}function ju(t,e,n,r){lE(t.x,e.x,n.x,r?r.originX:void 0),lE(t.y,e.y,n.y,r?r.originY:void 0)}function uE(t,e,n){t.min=n.min+e.min,t.max=t.min+$n(e)}function a5(t,e,n){uE(t.x,e.x,n.x),uE(t.y,e.y,n.y)}function cE(t,e,n){t.min=e.min-n.min,t.max=t.min+$n(e)}function bd(t,e,n){cE(t.x,e.x,n.x),cE(t.y,e.y,n.y)}function hE(t,e,n,r,s){return t-=e,t=Id(t,1/n,r),s!==void 0&&(t=Id(t,1/s,r)),t}function l5(t,e=0,n=1,r=.5,s,a=t,l=t){if(Ei.test(e)&&(e=parseFloat(e),e=Mt(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=Mt(a.min,a.max,r);t===a&&(c-=e),t.min=hE(t.min,e,n,c,s),t.max=hE(t.max,e,n,c,s)}function dE(t,e,[n,r,s],a,l){l5(t,e[n],e[r],e[s],e.scale,a,l)}const u5=["x","scaleX","originX"],c5=["y","scaleY","originY"];function fE(t,e,n,r){dE(t.x,e,u5,n?n.x:void 0,r?r.x:void 0),dE(t.y,e,c5,n?n.y:void 0,r?r.y:void 0)}function pE(t){return t.translate===0&&t.scale===1}function lb(t){return pE(t.x)&&pE(t.y)}function mE(t,e){return t.min===e.min&&t.max===e.max}function h5(t,e){return mE(t.x,e.x)&&mE(t.y,e.y)}function gE(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function ub(t,e){return gE(t.x,e.x)&&gE(t.y,e.y)}function yE(t){return $n(t.x)/$n(t.y)}function vE(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Ir(t){return[t("x"),t("y")]}function d5(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((s||a||l)&&(r=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:y,rotateY:_,skewX:T,skewY:C}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),y&&(r+=`rotateX(${y}deg) `),_&&(r+=`rotateY(${_}deg) `),T&&(r+=`skewX(${T}deg) `),C&&(r+=`skewY(${C}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const cb=["TopLeft","TopRight","BottomLeft","BottomRight"],f5=cb.length,wE=t=>typeof t=="string"?parseFloat(t):t,_E=t=>typeof t=="number"||ke.test(t);function p5(t,e,n,r,s,a){s?(t.opacity=Mt(0,n.opacity??1,m5(r)),t.opacityExit=Mt(e.opacity??1,0,g5(r))):a&&(t.opacity=Mt(e.opacity??1,n.opacity??1,r));for(let l=0;l<f5;l++){const c=`border${cb[l]}Radius`;let d=xE(e,c),p=xE(n,c);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||_E(d)===_E(p)?(t[c]=Math.max(Mt(wE(d),wE(p),r),0),(Ei.test(p)||Ei.test(d))&&(t[c]+="%")):t[c]=p}(e.rotate||n.rotate)&&(t.rotate=Mt(e.rotate||0,n.rotate||0,r))}function xE(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const m5=hb(0,.5,sI),g5=hb(.5,.95,Rr);function hb(t,e,n){return r=>r<t?0:r>e?1:n(Xu(t,e,r))}function y5(t,e,n){const r=Mn(t)?t:yl(t);return r.start($y("",r,e,n)),r.animation}function tc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const v5=(t,e)=>t.depth-e.depth;class w5{constructor(){this.children=[],this.isDirty=!1}add(e){by(this.children,e),this.isDirty=!0}remove(e){Cy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(v5),this.isDirty=!1,this.children.forEach(e)}}function _5(t,e){const n=Bn.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(uo(r),t(a-e))};return Ct.setup(r,!0),()=>uo(r)}function ed(t){return Mn(t)?t.get():t}class x5{constructor(){this.members=[]}add(e){by(this.members,e),e.scheduleRender()}remove(e){if(Cy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const s=r.options.layoutDependency,a=e.options.layoutDependency;s!==void 0&&a!==void 0&&s===a||(e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:c}=e.options;c===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const td={hasAnimatedSinceResize:!0,hasEverUpdated:!1},am=["","X","Y","Z"],E5=1e3;let T5=0;function lm(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function db(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=NI(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ct,!(s||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&db(r)}function fb({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},c=e==null?void 0:e()){this.id=T5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(b5),this.nodes.forEach(k5),this.nodes.forEach(P5),this.nodes.forEach(C5)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new w5)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new ky),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=$I(l)&&!I4(l),this.instance=l;const{layoutId:c,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let g,y=0;const _=()=>this.root.updateBlockedByResize=!1;Ct.read(()=>{y=window.innerWidth}),t(l,()=>{const T=window.innerWidth;T!==y&&(y=T,this.root.updateBlockedByResize=!0,g&&g(),g=_5(_,250),td.hasAnimatedSinceResize&&(td.hasAnimatedSinceResize=!1,this.nodes.forEach(SE)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&p&&(c||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:_,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||p.getDefaultTransition()||V5,{onLayoutAnimationStart:N,onLayoutAnimationComplete:P}=p.getProps(),U=!this.targetLayout||!ub(this.targetLayout,T),F=!y&&_;if(this.options.layoutRoot||this.resumeFrom||F||y&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const W={...By(C,"layout"),onPlay:N,onComplete:P};(p.shouldReduceMotion||this.options.layoutRoot)&&(W.delay=0,W.type=!1),this.startAnimation(W),this.setAnimationOrigin(g,F)}else y||SE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),uo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(N5),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&db(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(EE);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(TE);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(A5),this.nodes.forEach(S5),this.nodes.forEach(I5)):this.nodes.forEach(TE),this.clearAllSnapshots();const c=Bn.now();yn.delta=Ci(0,1e3/60,c-yn.timestamp),yn.timestamp=c,yn.isProcessing=!0,Zp.update.process(yn),Zp.preRender.process(yn),Zp.render.process(yn),yn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ky.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(R5),this.sharedNodes.forEach(D5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!$n(this.snapshot.measuredBox.x)&&!$n(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=nn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!lb(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&this.instance&&(c||Ho(this.latestValues)||g)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),O5(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:l}=this.options;if(!l)return nn();const c=l.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(j5))){const{scroll:g}=this.root;g&&(Za(c.x,g.offset.x),Za(c.y,g.offset.y))}return c}removeElementScroll(l){var d;const c=nn();if($r(c,l),(d=this.scroll)!=null&&d.wasRoot)return c;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:_}=g;g!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&$r(c,l),Za(c.x,y.offset.x),Za(c.y,y.offset.y))}return c}applyTransform(l,c=!1){const d=nn();$r(d,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!c&&g.options.layoutScroll&&g.scroll&&g!==g.root&&el(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ho(g.latestValues)&&el(d,g.latestValues)}return Ho(this.latestValues)&&el(d,this.latestValues),d}removeTransform(l){const c=nn();$r(c,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Ho(p.latestValues))continue;fg(p.latestValues)&&p.updateSnapshot();const g=nn(),y=p.measurePageBox();$r(g,y),fE(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Ho(this.latestValues)&&fE(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var T;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!this.layout||!(g||y))return;this.resolvedRelativeTargetAt=yn.timestamp;const _=this.getClosestProjectingParent();_&&this.linkedParentVersion!==_.layoutVersion&&!_.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(_&&_.layout?this.createRelativeTarget(_,this.layout.layoutBox,_.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=nn(),this.targetWithTransforms=nn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$r(this.target,this.layout.layoutBox),YI(this.target,this.targetDelta)):$r(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?this.createRelativeTarget(_,this.target,_.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||fg(this.parent.latestValues)||QI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,c,d){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),bd(this.relativeTargetOrigin,c,d),$r(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var C;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===yn.timestamp&&(d=!1),d)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;$r(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,_=this.treeScale.y;V4(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=nn());const{target:T}=l;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(aE(this.prevProjectionDelta.x,this.projectionDelta.x),aE(this.prevProjectionDelta.y,this.projectionDelta.y)),ju(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==_||!vE(this.projectionDelta.x,this.prevProjectionDelta.x)||!vE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ja(),this.projectionDelta=Ja(),this.projectionDeltaWithTransform=Ja()}setAnimationOrigin(l,c=!1){const d=this.snapshot,p=d?d.latestValues:{},g={...this.latestValues},y=Ja();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const _=nn(),T=d?d.source:void 0,C=this.layout?this.layout.source:void 0,N=T!==C,P=this.getStack(),U=!P||P.members.length<=1,F=!!(N&&!U&&this.options.crossfade===!0&&!this.path.some(L5));this.animationProgress=0;let W;this.mixTargetDelta=Q=>{const ee=Q/1e3;IE(y.x,l.x,ee),IE(y.y,l.y,ee),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bd(_,this.layout.layoutBox,this.relativeParent.layout.layoutBox),M5(this.relativeTarget,this.relativeTargetOrigin,_,ee),W&&h5(this.relativeTarget,W)&&(this.isProjectionDirty=!1),W||(W=nn()),$r(W,this.relativeTarget)),N&&(this.animationValues=g,p5(g,p,this.latestValues,ee,F,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ee},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var c,d,p;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(p=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||p.stop(),this.pendingAnimation&&(uo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ct.update(()=>{td.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=yl(0)),this.currentAnimation=y5(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),l.onUpdate&&l.onUpdate(g)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(E5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:p,latestValues:g}=l;if(!(!c||!d||!p)){if(this!==l&&this.layout&&p&&pb(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||nn();const y=$n(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+y;const _=$n(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+_}$r(c,d),el(c,g),ju(this.projectionDeltaWithTransform,this.layoutCorrected,c,g)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new x5),this.sharedNodes.get(l).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var c;const{layoutId:l}=this.options;return l?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:l}=this.options;return l?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const p={};d.z&&lm("z",l,p,this.animationValues);for(let g=0;g<am.length;g++)lm(`rotate${am[g]}`,l,p,this.animationValues),lm(`skew${am[g]}`,l,p,this.animationValues);l.render();for(const g in p)l.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=ed(c==null?void 0:c.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=ed(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Ho(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let y=d5(this.projectionDeltaWithTransform,this.treeScale,g);d&&(y=d(g,y)),l.transform=y;const{x:_,y:T}=this.projectionDelta;l.transformOrigin=`${_.origin*100}% ${T.origin*100}% 0`,p.animationValues?l.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:l.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const C in mg){if(g[C]===void 0)continue;const{correct:N,applyTo:P,isCSSVariable:U}=mg[C],F=y==="none"?g[C]:N(g[C],p);if(P){const W=P.length;for(let Q=0;Q<W;Q++)l[P[Q]]=F}else U?this.options.visualElement.renderState.vars[C]=F:l[C]=F}this.options.layoutId&&(l.pointerEvents=p===this?ed(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(EE),this.root.sharedNodes.clear()}}}function S5(t){t.updateLayout()}function I5(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Ir(y=>{const _=l?e.measuredBox[y]:e.layoutBox[y],T=$n(_);_.min=r[y].min,_.max=_.min+T}):pb(a,e.layoutBox,r)&&Ir(y=>{const _=l?e.measuredBox[y]:e.layoutBox[y],T=$n(r[y]);_.max=_.min+T,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[y].max=t.relativeTarget[y].min+T)});const c=Ja();ju(c,r,e.layoutBox);const d=Ja();l?ju(d,t.applyTransform(s,!0),e.measuredBox):ju(d,r,e.layoutBox);const p=!lb(c);let g=!1;if(!t.resumeFrom){const y=t.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:T}=y;if(_&&T){const C=nn();bd(C,e.layoutBox,_.layoutBox);const N=nn();bd(N,r,T.layoutBox),ub(C,N)||(g=!0),y.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=C,t.relativeParent=y)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function b5(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function C5(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function R5(t){t.clearSnapshot()}function EE(t){t.clearMeasurements()}function TE(t){t.isLayoutDirty=!1}function A5(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function SE(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function k5(t){t.resolveTargetDelta()}function P5(t){t.calcProjection()}function N5(t){t.resetSkewAndRotation()}function D5(t){t.removeLeadSnapshot()}function IE(t,e,n){t.translate=Mt(e.translate,0,n),t.scale=Mt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function bE(t,e,n,r){t.min=Mt(e.min,n.min,r),t.max=Mt(e.max,n.max,r)}function M5(t,e,n,r){bE(t.x,e.x,n.x,r),bE(t.y,e.y,n.y,r)}function L5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const V5={duration:.45,ease:[.4,0,.1,1]},CE=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),RE=CE("applewebkit/")&&!CE("chrome/")?Math.round:Rr;function AE(t){t.min=RE(t.min),t.max=RE(t.max)}function O5(t){AE(t.x),AE(t.y)}function pb(t,e,n){return t==="position"||t==="preserve-aspect"&&!o5(yE(e),yE(n),.2)}function j5(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const F5=fb({attachResizeListener:(t,e)=>tc(t,"resize",e),measureScroll:()=>{var t,e;return{x:document.documentElement.scrollLeft||((t=document.body)==null?void 0:t.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),um={current:void 0},mb=fb({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!um.current){const t=new F5({});t.mount(window),t.setOptions({layoutScroll:!0}),um.current=t}return um.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Zy=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function kE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function U5(...t){return e=>{let n=!1;const r=t.map(s=>{const a=kE(s,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():kE(t[s],null)}}}}function z5(...t){return k.useCallback(U5(...t),t)}class B5 extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=hg(r)&&r.offsetWidth||0,a=hg(r)&&r.offsetHeight||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=s-l.width-l.left,l.bottom=a-l.height-l.top}return null}componentDidUpdate(){}render(){return this.props.children}}function $5({children:t,isPresent:e,anchorX:n,anchorY:r,root:s}){var y;const a=k.useId(),l=k.useRef(null),c=k.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:d}=k.useContext(Zy),p=((y=t.props)==null?void 0:y.ref)??(t==null?void 0:t.ref),g=z5(l,p);return k.useInsertionEffect(()=>{const{width:_,height:T,top:C,left:N,right:P,bottom:U}=c.current;if(e||!l.current||!_||!T)return;const F=n==="left"?`left: ${N}`:`right: ${P}`,W=r==="bottom"?`bottom: ${U}`:`top: ${C}`;l.current.dataset.motionPopId=a;const Q=document.createElement("style");d&&(Q.nonce=d);const ee=s??document.head;return ee.appendChild(Q),Q.sheet&&Q.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${_}px !important;
            height: ${T}px !important;
            ${F}px !important;
            ${W}px !important;
          }
        `),()=>{ee.contains(Q)&&ee.removeChild(Q)}},[e]),x.jsx(B5,{isPresent:e,childRef:l,sizeRef:c,children:k.cloneElement(t,{ref:g})})}const H5=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:l,anchorX:c,anchorY:d,root:p})=>{const g=Iy(W5),y=k.useId();let _=!0,T=k.useMemo(()=>(_=!1,{id:y,initial:e,isPresent:n,custom:s,onExitComplete:C=>{g.set(C,!0);for(const N of g.values())if(!N)return;r&&r()},register:C=>(g.set(C,!1),()=>g.delete(C))}),[n,g,r]);return a&&_&&(T={...T}),k.useMemo(()=>{g.forEach((C,N)=>g.set(N,!1))},[n]),k.useEffect(()=>{!n&&!g.size&&r&&r()},[n]),l==="popLayout"&&(t=x.jsx($5,{isPresent:n,anchorX:c,anchorY:d,root:p,children:t})),x.jsx(Jd.Provider,{value:T,children:t})};function W5(){return new Map}function gb(t=!0){const e=k.useContext(Jd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,a=k.useId();k.useEffect(()=>{if(t)return s(a)},[t]);const l=k.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const Vh=t=>t.key||"";function PE(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const sa=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:c="left",anchorY:d="top",root:p})=>{const[g,y]=gb(l),_=k.useMemo(()=>PE(t),[t]),T=l&&!g?[]:_.map(Vh),C=k.useRef(!0),N=k.useRef(_),P=Iy(()=>new Map),U=k.useRef(new Set),[F,W]=k.useState(_),[Q,ee]=k.useState(_);qS(()=>{C.current=!1,N.current=_;for(let S=0;S<Q.length;S++){const A=Vh(Q[S]);T.includes(A)?(P.delete(A),U.current.delete(A)):P.get(A)!==!0&&P.set(A,!1)}},[Q,T.length,T.join("-")]);const ne=[];if(_!==F){let S=[..._];for(let A=0;A<Q.length;A++){const L=Q[A],V=Vh(L);T.includes(V)||(S.splice(A,0,L),ne.push(L))}return a==="wait"&&ne.length&&(S=ne),ee(PE(S)),W(_),null}const{forceRender:b}=k.useContext(Sy);return x.jsx(x.Fragment,{children:Q.map(S=>{const A=Vh(S),L=l&&!g?!1:_===Q||T.includes(A),V=()=>{if(U.current.has(A))return;if(U.current.add(A),P.has(A))P.set(A,!0);else return;let z=!0;P.forEach(D=>{D||(z=!1)}),z&&(b==null||b(),ee(N.current),l&&(y==null||y()),r&&r())};return x.jsx(H5,{isPresent:L,initial:!C.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:a,root:p,onExitComplete:L?void 0:V,anchorX:c,anchorY:d,children:S},A)})})},yb=k.createContext({strict:!1}),NE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let DE=!1;function G5(){if(DE)return;const t={};for(const e in NE)t[e]={isEnabled:n=>NE[e].some(r=>!!n[r])};GI(t),DE=!0}function vb(){return G5(),N4()}function K5(t){const e=vb();for(const n in t)e[n]={...e[n],...t[n]};GI(e)}const q5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Cd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||q5.has(t)}let wb=t=>!Cd(t);function Q5(t){typeof t=="function"&&(wb=e=>e.startsWith("on")?!Cd(e):t(e))}try{Q5(require("@emotion/is-prop-valid").default)}catch{}function Y5(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(wb(s)||n===!0&&Cd(s)||!e&&!Cd(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const tf=k.createContext({});function X5(t,e){if(ef(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ec(n)?n:void 0,animate:ec(r)?r:void 0}}return t.inherit!==!1?e:{}}function J5(t){const{initial:e,animate:n}=X5(t,k.useContext(tf));return k.useMemo(()=>({initial:e,animate:n}),[ME(e),ME(n)])}function ME(t){return Array.isArray(t)?t.join(" "):t}const ev=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _b(t,e,n){for(const r in e)!Mn(e[r])&&!ZI(r,n)&&(t[r]=e[r])}function Z5({transformTemplate:t},e){return k.useMemo(()=>{const n=ev();return Xy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function e3(t,e){const n=t.style||{},r={};return _b(r,n,t),Object.assign(r,Z5(t,e)),r}function t3(t,e){const n={},r=e3(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const xb=()=>({...ev(),attrs:{}});function n3(t,e,n,r){const s=k.useMemo(()=>{const a=xb();return eb(a,e,nb(r),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};_b(a,t.style,t),s.style={...a,...s.style}}return s}const r3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tv(t){return typeof t!="string"||t.includes("-")?!1:!!(r3.indexOf(t)>-1||/[A-Z]/u.test(t))}function i3(t,e,n,{latestValues:r},s,a=!1,l){const d=(l??tv(t)?n3:t3)(e,r,s,t),p=Y5(e,typeof t=="string",a),g=t!==k.Fragment?{...p,...d,ref:n}:{},{children:y}=e,_=k.useMemo(()=>Mn(y)?y.get():y,[y]);return k.createElement(t,{...g,children:_})}function s3({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:o3(n,r,s,t),renderState:e()}}function o3(t,e,n,r){const s={},a=r(t,{});for(const _ in a)s[_]=ed(a[_]);let{initial:l,animate:c}=t;const d=ef(t),p=WI(t);e&&p&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const y=g?c:l;if(y&&typeof y!="boolean"&&!Zd(y)){const _=Array.isArray(y)?y:[y];for(let T=0;T<_.length;T++){const C=Hy(t,_[T]);if(C){const{transitionEnd:N,transition:P,...U}=C;for(const F in U){let W=U[F];if(Array.isArray(W)){const Q=g?W.length-1:0;W=W[Q]}W!==null&&(s[F]=W)}for(const F in N)s[F]=N[F]}}}return s}const Eb=t=>(e,n)=>{const r=k.useContext(tf),s=k.useContext(Jd),a=()=>s3(t,e,r,s);return n?a():Iy(a)},a3=Eb({scrapeMotionValuesFromProps:Jy,createRenderState:ev}),l3=Eb({scrapeMotionValuesFromProps:rb,createRenderState:xb}),u3=Symbol.for("motionComponentSymbol");function c3(t,e,n){const r=k.useRef(n);k.useInsertionEffect(()=>{r.current=n});const s=k.useRef(null);return k.useCallback(a=>{var c;a&&((c=t.onMount)==null||c.call(t,a)),e&&(a?e.mount(a):e.unmount());const l=r.current;if(typeof l=="function")if(a){const d=l(a);typeof d=="function"&&(s.current=d)}else s.current?(s.current(),s.current=null):l(a);else l&&(l.current=a)},[e])}const Tb=k.createContext({});function Iu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function h3(t,e,n,r,s,a){var W,Q;const{visualElement:l}=k.useContext(tf),c=k.useContext(yb),d=k.useContext(Jd),p=k.useContext(Zy),g=p.reducedMotion,y=p.skipAnimations,_=k.useRef(null),T=k.useRef(!1);r=r||c.renderer,!_.current&&r&&(_.current=r(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:g,skipAnimations:y,isSVG:a}),T.current&&_.current&&(_.current.manuallyAnimateOnMount=!0));const C=_.current,N=k.useContext(Tb);C&&!C.projection&&s&&(C.type==="html"||C.type==="svg")&&d3(_.current,n,s,N);const P=k.useRef(!1);k.useInsertionEffect(()=>{C&&P.current&&C.update(n,d)});const U=n[PI],F=k.useRef(!!U&&!((W=window.MotionHandoffIsComplete)!=null&&W.call(window,U))&&((Q=window.MotionHasOptimisedAnimation)==null?void 0:Q.call(window,U)));return qS(()=>{T.current=!0,C&&(P.current=!0,window.MotionIsMounted=!0,C.updateFeatures(),C.scheduleRenderMicrotask(),F.current&&C.animationState&&C.animationState.animateChanges())}),k.useEffect(()=>{C&&(!F.current&&C.animationState&&C.animationState.animateChanges(),F.current&&(queueMicrotask(()=>{var ee;(ee=window.MotionHandoffMarkAsComplete)==null||ee.call(window,U)}),F.current=!1),C.enteringChildren=void 0)}),C}function d3(t,e,n,r){const{layoutId:s,layout:a,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Sb(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||c&&Iu(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:d,layoutRoot:p})}function Sb(t){if(t)return t.options.allowProjection!==!1?t.projection:Sb(t.parent)}function cm(t,{forwardMotionProps:e=!1,type:n}={},r,s){r&&K5(r);const a=n?n==="svg":tv(t),l=a?l3:a3;function c(p,g){let y;const _={...k.useContext(Zy),...p,layoutId:f3(p)},{isStatic:T}=_,C=J5(p),N=l(p,T);if(!T&&KS){p3();const P=m3(_);y=P.MeasureLayout,C.visualElement=h3(t,N,_,s,P.ProjectionNode,a)}return x.jsxs(tf.Provider,{value:C,children:[y&&C.visualElement?x.jsx(y,{visualElement:C.visualElement,..._}):null,i3(t,p,c3(N,C.visualElement,g),N,T,e,a)]})}c.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const d=k.forwardRef(c);return d[u3]=t,d}function f3({layoutId:t}){const e=k.useContext(Sy).id;return e&&t!==void 0?e+"-"+t:t}function p3(t,e){k.useContext(yb).strict}function m3(t){const e=vb(),{drag:n,layout:r}=e;if(!n&&!r)return{};const s={...n,...r};return{MeasureLayout:n!=null&&n.isEnabled(t)||r!=null&&r.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function g3(t,e){if(typeof Proxy>"u")return cm;const n=new Map,r=(a,l)=>cm(a,l,t,e),s=(a,l)=>r(a,l);return new Proxy(s,{get:(a,l)=>l==="create"?r:(n.has(l)||n.set(l,cm(l,void 0,t,e)),n.get(l))})}const y3=(t,e)=>e.isSVG??tv(t)?new Q4(e):new $4(e,{allowProjection:t!==k.Fragment});class v3 extends po{constructor(e){super(e),e.animationState||(e.animationState=e5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Zd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let w3=0;class _3 extends po{constructor(){super(...arguments),this.id=w3++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const x3={animation:{Feature:v3},exit:{Feature:_3}};function xc(t){return{point:{x:t.pageX,y:t.pageY}}}const E3=t=>e=>qy(e)&&t(e,xc(e));function Fu(t,e,n,r){return tc(t,e,E3(n),r)}const Ib=({current:t})=>t?t.ownerDocument.defaultView:null,LE=(t,e)=>Math.abs(t-e);function T3(t,e){const n=LE(t.x,e.x),r=LE(t.y,e.y);return Math.sqrt(n**2+r**2)}const VE=new Set(["auto","scroll"]);class bb{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3,element:c}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=T=>{this.handleScroll(T.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=dm(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,N=T3(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!N)return;const{point:P}=T,{timestamp:U}=yn;this.history.push({...P,timestamp:U});const{onStart:F,onMove:W}=this.handlers;C||(F&&F(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),W&&W(this.lastMoveEvent,T)},this.handlePointerMove=(T,C)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=hm(C,this.transformPagePoint),Ct.update(this.updatePoint,!0)},this.handlePointerUp=(T,C)=>{this.end();const{onEnd:N,onSessionEnd:P,resumeAnimation:U}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&U&&U(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const F=dm(T.type==="pointercancel"?this.lastMoveEventInfo:hm(C,this.transformPagePoint),this.history);this.startEvent&&N&&N(T,F),P&&P(T,F)},!qy(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=s||window;const d=xc(e),p=hm(d,this.transformPagePoint),{point:g}=p,{timestamp:y}=yn;this.history=[{...g,timestamp:y}];const{onSessionStart:_}=n;_&&_(e,dm(p,this.history)),this.removeListeners=vc(Fu(this.contextWindow,"pointermove",this.handlePointerMove),Fu(this.contextWindow,"pointerup",this.handlePointerUp),Fu(this.contextWindow,"pointercancel",this.handlePointerUp)),c&&this.startScrollTracking(c)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(VE.has(r.overflowX)||VE.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,s=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},a={x:s.x-n.x,y:s.y-n.y};a.x===0&&a.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(e,s),Ct.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),uo(this.updatePoint)}}function hm(t,e){return e?{point:e(t.point)}:t}function OE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function dm({point:t},e){return{point:t,delta:OE(t,Cb(e)),offset:OE(t,S3(e)),velocity:I3(e,.1)}}function S3(t){return t[0]}function Cb(t){return t[t.length-1]}function I3(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=Cb(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>ns(e)));)n--;if(!r)return{x:0,y:0};const a=Cr(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function b3(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Mt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Mt(n,t,r.max):Math.min(t,n)),t}function jE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function C3(t,{top:e,left:n,bottom:r,right:s}){return{x:jE(t.x,n,s),y:jE(t.y,e,r)}}function FE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function R3(t,e){return{x:FE(t.x,e.x),y:FE(t.y,e.y)}}function A3(t,e){let n=.5;const r=$n(t),s=$n(e);return s>r?n=Xu(e.min,e.max-r,t.min):r>s&&(n=Xu(t.min,t.max-s,e.min)),Ci(0,1,n)}function k3(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const gg=.35;function P3(t=gg){return t===!1?t=0:t===!0&&(t=gg),{x:UE(t,"left","right"),y:UE(t,"top","bottom")}}function UE(t,e,n){return{min:zE(t,e),max:zE(t,n)}}function zE(t,e){return typeof t=="number"?t:t[e]||0}const N3=new WeakMap;class D3{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const a=y=>{n?(this.stopAnimation(),this.snapToCursor(xc(y).point)):this.pauseAnimation()},l=(y,_)=>{this.stopAnimation();const{drag:T,dragPropagation:C,onDragStart:N}=this.getProps();if(T&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_4(T),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=_,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ir(U=>{let F=this.getAxisMotionValue(U).get()||0;if(Ei.test(F)){const{projection:W}=this.visualElement;if(W&&W.layout){const Q=W.layout.layoutBox[U];Q&&(F=$n(Q)*(parseFloat(F)/100))}}this.originPoint[U]=F}),N&&Ct.postRender(()=>N(y,_)),lg(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},c=(y,_)=>{this.latestPointerEvent=y,this.latestPanInfo=_;const{dragPropagation:T,dragDirectionLock:C,onDirectionLock:N,onDrag:P}=this.getProps();if(!T&&!this.openDragLock)return;const{offset:U}=_;if(C&&this.currentDirection===null){this.currentDirection=M3(U),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",_.point,U),this.updateAxis("y",_.point,U),this.visualElement.render(),P&&P(y,_)},d=(y,_)=>{this.latestPointerEvent=y,this.latestPanInfo=_,this.stop(y,_),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Ir(y=>{var _;return this.getAnimationState(y)==="paused"&&((_=this.getAxisMotionValue(y).animation)==null?void 0:_.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new bb(e,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:Ib(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!s||!r)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&Ct.postRender(()=>c(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Oh(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=b3(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,s=this.constraints;e&&Iu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=C3(r.layoutBox,e):this.constraints=!1,this.elastic=P3(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ir(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=k3(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Iu(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=O4(r,s.root,this.visualElement.getTransformPagePoint());let l=R3(s.layout.layoutBox,a);if(n){const c=n(M4(l));this.hasMutatedConstraints=!!c,c&&(l=qI(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},p=Ir(g=>{if(!Oh(g,n,this.currentDirection))return;let y=d&&d[g]||{};l&&(y={min:0,max:0});const _=s?200:1e6,T=s?40:1e7,C={type:"inertia",velocity:r?e[g]:0,bounceStiffness:_,bounceDamping:T,timeConstant:750,restDelta:1,restSpeed:10,...a,...y};return this.startAxisValueAnimation(g,C)});return Promise.all(p).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return lg(this.visualElement,e),r.start($y(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ir(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ir(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ir(n=>{const{drag:r}=this.getProps();if(!Oh(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n],d=a.get()||0;a.set(e[n]-Mt(l,c,.5)+d)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Iu(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ir(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();s[l]=A3({min:d,max:d},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ir(l=>{if(!Oh(l,e,null))return;const c=this.getAxisMotionValue(l),{min:d,max:p}=this.constraints[l];c.set(Mt(d,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;N3.set(this.visualElement,this);const e=this.visualElement.current,n=Fu(e,"pointerdown",d=>{const{drag:p,dragListener:g=!0}=this.getProps(),y=d.target,_=y!==e&&BI(y);p&&g&&!_&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Iu(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ct.read(r);const l=tc(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(Ir(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=d[g].translate,y.set(y.get()+d[g].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=gg,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function Oh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function M3(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class L3 extends po{constructor(e){super(e),this.removeGroupControls=Rr,this.removeListeners=Rr,this.controls=new D3(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Rr}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const BE=t=>(e,n)=>{t&&Ct.postRender(()=>t(e,n))};class V3 extends po{constructor(){super(...arguments),this.removePointerDownListener=Rr}onPointerDown(e){this.session=new bb(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ib(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:BE(e),onStart:BE(n),onMove:r,onEnd:(a,l)=>{delete this.session,s&&Ct.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=Fu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let fm=!1;class O3 extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),fm&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),td.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,{projection:l}=r;return l&&(l.isPresent=a,e.layoutDependency!==n&&l.setOptions({...l.options,layoutDependency:n}),fm=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Ct.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ky.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;fm=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Rb(t){const[e,n]=gb(),r=k.useContext(Sy);return x.jsx(O3,{...t,layoutGroup:r,switchLayoutGroup:k.useContext(Tb),isPresent:e,safeToRemove:n})}const j3={pan:{Feature:V3},drag:{Feature:L3,ProjectionNode:mb,MeasureLayout:Rb}};function $E(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&Ct.postRender(()=>a(e,xc(e)))}class F3 extends po{mount(){const{current:e}=this.node;e&&(this.unmount=x4(e,(n,r)=>($E(this.node,r,"Start"),s=>$E(this.node,s,"End"))))}unmount(){}}class U3 extends po{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vc(tc(this.node.current,"focus",()=>this.onFocus()),tc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function HE(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&Ct.postRender(()=>a(e,xc(e)))}class z3 extends po{mount(){const{current:e}=this.node;e&&(this.unmount=S4(e,(n,r)=>(HE(this.node,r,"Start"),(s,{success:a})=>HE(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const yg=new WeakMap,pm=new WeakMap,B3=t=>{const e=yg.get(t.target);e&&e(t)},$3=t=>{t.forEach(B3)};function H3({root:t,...e}){const n=t||document;pm.has(n)||pm.set(n,{});const r=pm.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver($3,{root:t,...e})),r[s]}function W3(t,e,n){const r=H3(e);return yg.set(t,n),r.observe(t),()=>{yg.delete(t),r.unobserve(t)}}const G3={some:0,all:1};class K3 extends po{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:G3[s]},c=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),_=p?g:y;_&&_(d)};return W3(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(q3(e,n))&&this.startObserver()}unmount(){}}function q3({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Q3={inView:{Feature:K3},tap:{Feature:z3},focus:{Feature:U3},hover:{Feature:F3}},Y3={layout:{ProjectionNode:mb,MeasureLayout:Rb}},X3={...x3,...Q3,...j3,...Y3},Ne=g3(X3,y3);function WE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function J3(...t){return e=>{let n=!1;const r=t.map(s=>{const a=WE(s,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():WE(t[s],null)}}}}var Ab=k.forwardRef((t,e)=>{const{children:n,...r}=t,s=k.Children.toArray(n),a=s.find(eF);if(a){const l=a.props.children,c=s.map(d=>d===a?k.Children.count(l)>1?k.Children.only(null):k.isValidElement(l)?l.props.children:null:d);return x.jsx(vg,{...r,ref:e,children:k.isValidElement(l)?k.cloneElement(l,void 0,c):null})}return x.jsx(vg,{...r,ref:e,children:n})});Ab.displayName="Slot";var vg=k.forwardRef((t,e)=>{const{children:n,...r}=t;if(k.isValidElement(n)){const s=nF(n),a=tF(r,n.props);return n.type!==k.Fragment&&(a.ref=e?J3(e,s):s),k.cloneElement(n,a)}return k.Children.count(n)>1?k.Children.only(null):null});vg.displayName="SlotClone";var Z3=({children:t})=>x.jsx(x.Fragment,{children:t});function eF(t){return k.isValidElement(t)&&t.type===Z3}function tF(t,e){const n={...e};for(const r in e){const s=t[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...c)=>{a(...c),s(...c)}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...t,...n}}function nF(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function kb(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=kb(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Pb(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=kb(t))&&(r&&(r+=" "),r+=e);return r}const GE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,KE=Pb,rF=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return KE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=e,l=Object.keys(s).map(p=>{const g=n==null?void 0:n[p],y=a==null?void 0:a[p];if(g===null)return null;const _=GE(g)||GE(y);return s[p][_]}),c=n&&Object.entries(n).reduce((p,g)=>{let[y,_]=g;return _===void 0||(p[y]=_),p},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,g)=>{let{class:y,className:_,...T}=g;return Object.entries(T).every(C=>{let[N,P]=C;return Array.isArray(P)?P.includes({...a,...c}[N]):{...a,...c}[N]===P})?[...p,y,_]:p},[]);return KE(t,l,d,n==null?void 0:n.class,n==null?void 0:n.className)},nv="-",iF=t=>{const e=oF(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const c=l.split(nv);return c[0]===""&&c.length!==1&&c.shift(),Nb(c,e)||sF(l)},getConflictingClassGroupIds:(l,c)=>{const d=n[l]||[];return c&&r[l]?[...d,...r[l]]:d}}},Nb=(t,e)=>{var l;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?Nb(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const a=t.join(nv);return(l=e.validators.find(({validator:c})=>c(a)))==null?void 0:l.classGroupId},qE=/^\[(.+)\]$/,sF=t=>{if(qE.test(t)){const e=qE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},oF=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const s in n)wg(n[s],r,s,e);return r},wg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const a=s===""?e:QE(e,s);a.classGroupId=n;return}if(typeof s=="function"){if(aF(s)){wg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,l])=>{wg(l,QE(e,a),n,r)})})},QE=(t,e)=>{let n=t;return e.split(nv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},aF=t=>t.isThemeGetter,lF=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(a,l)=>{n.set(a,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let l=n.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return s(a,l),l},set(a,l){n.has(a)?n.set(a,l):s(a,l)}}},_g="!",xg=":",uF=xg.length,cF=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=s=>{const a=[];let l=0,c=0,d=0,p;for(let C=0;C<s.length;C++){let N=s[C];if(l===0&&c===0){if(N===xg){a.push(s.slice(d,C)),d=C+uF;continue}if(N==="/"){p=C;continue}}N==="["?l++:N==="]"?l--:N==="("?c++:N===")"&&c--}const g=a.length===0?s:s.substring(d),y=hF(g),_=y!==g,T=p&&p>d?p-d:void 0;return{modifiers:a,hasImportantModifier:_,baseClassName:y,maybePostfixModifierPosition:T}};if(e){const s=e+xg,a=r;r=l=>l.startsWith(s)?a(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const s=r;r=a=>n({className:a,parseClassName:s})}return r},hF=t=>t.endsWith(_g)?t.substring(0,t.length-1):t.startsWith(_g)?t.substring(1):t,dF=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let a=[];return r.forEach(l=>{l[0]==="["||e[l]?(s.push(...a.sort(),l),a=[]):a.push(l)}),s.push(...a.sort()),s}},fF=t=>({cache:lF(t.cacheSize),parseClassName:cF(t),sortModifiers:dF(t),...iF(t)}),pF=/\s+/,mF=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:a}=e,l=[],c=t.trim().split(pF);let d="";for(let p=c.length-1;p>=0;p-=1){const g=c[p],{isExternal:y,modifiers:_,hasImportantModifier:T,baseClassName:C,maybePostfixModifierPosition:N}=n(g);if(y){d=g+(d.length>0?" "+d:d);continue}let P=!!N,U=r(P?C.substring(0,N):C);if(!U){if(!P){d=g+(d.length>0?" "+d:d);continue}if(U=r(C),!U){d=g+(d.length>0?" "+d:d);continue}P=!1}const F=a(_).join(":"),W=T?F+_g:F,Q=W+U;if(l.includes(Q))continue;l.push(Q);const ee=s(U,P);for(let ne=0;ne<ee.length;++ne){const b=ee[ne];l.push(W+b)}d=g+(d.length>0?" "+d:d)}return d};function gF(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Db(e))&&(r&&(r+=" "),r+=n);return r}const Db=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Db(t[r]))&&(n&&(n+=" "),n+=e);return n};function yF(t,...e){let n,r,s,a=l;function l(d){const p=e.reduce((g,y)=>y(g),t());return n=fF(p),r=n.cache.get,s=n.cache.set,a=c,c(d)}function c(d){const p=r(d);if(p)return p;const g=mF(d,n);return s(d,g),g}return function(){return a(gF.apply(null,arguments))}}const tn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Mb=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Lb=/^\((?:(\w[\w-]*):)?(.+)\)$/i,vF=/^\d+\/\d+$/,wF=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_F=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xF=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,EF=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,TF=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$a=t=>vF.test(t),Je=t=>!!t&&!Number.isNaN(Number(t)),Ls=t=>!!t&&Number.isInteger(Number(t)),mm=t=>t.endsWith("%")&&Je(t.slice(0,-1)),Yi=t=>wF.test(t),SF=()=>!0,IF=t=>_F.test(t)&&!xF.test(t),Vb=()=>!1,bF=t=>EF.test(t),CF=t=>TF.test(t),RF=t=>!Re(t)&&!Ae(t),AF=t=>Il(t,Fb,Vb),Re=t=>Mb.test(t),Bo=t=>Il(t,Ub,IF),gm=t=>Il(t,MF,Je),YE=t=>Il(t,Ob,Vb),kF=t=>Il(t,jb,CF),jh=t=>Il(t,zb,bF),Ae=t=>Lb.test(t),mu=t=>bl(t,Ub),PF=t=>bl(t,LF),XE=t=>bl(t,Ob),NF=t=>bl(t,Fb),DF=t=>bl(t,jb),Fh=t=>bl(t,zb,!0),Il=(t,e,n)=>{const r=Mb.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},bl=(t,e,n=!1)=>{const r=Lb.exec(t);return r?r[1]?e(r[1]):n:!1},Ob=t=>t==="position"||t==="percentage",jb=t=>t==="image"||t==="url",Fb=t=>t==="length"||t==="size"||t==="bg-size",Ub=t=>t==="length",MF=t=>t==="number",LF=t=>t==="family-name",zb=t=>t==="shadow",VF=()=>{const t=tn("color"),e=tn("font"),n=tn("text"),r=tn("font-weight"),s=tn("tracking"),a=tn("leading"),l=tn("breakpoint"),c=tn("container"),d=tn("spacing"),p=tn("radius"),g=tn("shadow"),y=tn("inset-shadow"),_=tn("text-shadow"),T=tn("drop-shadow"),C=tn("blur"),N=tn("perspective"),P=tn("aspect"),U=tn("ease"),F=tn("animate"),W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ee=()=>[...Q(),Ae,Re],ne=()=>["auto","hidden","clip","visible","scroll"],b=()=>["auto","contain","none"],S=()=>[Ae,Re,d],A=()=>[$a,"full","auto",...S()],L=()=>[Ls,"none","subgrid",Ae,Re],V=()=>["auto",{span:["full",Ls,Ae,Re]},Ls,Ae,Re],z=()=>[Ls,"auto",Ae,Re],D=()=>["auto","min","max","fr",Ae,Re],je=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ke=()=>["start","end","center","stretch","center-safe","end-safe"],Oe=()=>["auto",...S()],pe=()=>[$a,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],G=()=>[t,Ae,Re],de=()=>[...Q(),XE,YE,{position:[Ae,Re]}],re=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",NF,AF,{size:[Ae,Re]}],te=()=>[mm,mu,Bo],me=()=>["","none","full",p,Ae,Re],ge=()=>["",Je,mu,Bo],be=()=>["solid","dashed","dotted","double"],Fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Se=()=>[Je,mm,XE,YE],_e=()=>["","none",C,Ae,Re],it=()=>["none",Je,Ae,Re],mt=()=>["none",Je,Ae,Re],xn=()=>[Je,Ae,Re],st=()=>[$a,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Yi],breakpoint:[Yi],color:[SF],container:[Yi],"drop-shadow":[Yi],ease:["in","out","in-out"],font:[RF],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Yi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Yi],shadow:[Yi],spacing:["px",Je],text:[Yi],"text-shadow":[Yi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",$a,Re,Ae,P]}],container:["container"],columns:[{columns:[Je,Re,Ae,c]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ee()}],overflow:[{overflow:ne()}],"overflow-x":[{"overflow-x":ne()}],"overflow-y":[{"overflow-y":ne()}],overscroll:[{overscroll:b()}],"overscroll-x":[{"overscroll-x":b()}],"overscroll-y":[{"overscroll-y":b()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[Ls,"auto",Ae,Re]}],basis:[{basis:[$a,"full","auto",c,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Je,$a,"auto","initial","none",Re]}],grow:[{grow:["",Je,Ae,Re]}],shrink:[{shrink:["",Je,Ae,Re]}],order:[{order:[Ls,"first","last","none",Ae,Re]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...je(),"normal"]}],"justify-items":[{"justify-items":[...Ke(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ke()]}],"align-content":[{content:["normal",...je()]}],"align-items":[{items:[...Ke(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ke(),{baseline:["","last"]}]}],"place-content":[{"place-content":je()}],"place-items":[{"place-items":[...Ke(),"baseline"]}],"place-self":[{"place-self":["auto",...Ke()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:Oe()}],mx:[{mx:Oe()}],my:[{my:Oe()}],ms:[{ms:Oe()}],me:[{me:Oe()}],mt:[{mt:Oe()}],mr:[{mr:Oe()}],mb:[{mb:Oe()}],ml:[{ml:Oe()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:pe()}],w:[{w:[c,"screen",...pe()]}],"min-w":[{"min-w":[c,"screen","none",...pe()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[l]},...pe()]}],h:[{h:["screen",...pe()]}],"min-h":[{"min-h":["screen","none",...pe()]}],"max-h":[{"max-h":["screen",...pe()]}],"font-size":[{text:["base",n,mu,Bo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ae,gm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",mm,Re]}],"font-family":[{font:[PF,Re,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Ae,Re]}],"line-clamp":[{"line-clamp":[Je,"none",Ae,gm]}],leading:[{leading:[a,...S()]}],"list-image":[{"list-image":["none",Ae,Re]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ae,Re]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:[Je,"from-font","auto",Ae,Bo]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[Je,"auto",Ae,Re]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae,Re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae,Re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:de()}],"bg-repeat":[{bg:re()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ls,Ae,Re],radial:["",Ae,Re],conic:[Ls,Ae,Re]},DF,kF]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:te()}],"gradient-via-pos":[{via:te()}],"gradient-to-pos":[{to:te()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:me()}],"rounded-s":[{"rounded-s":me()}],"rounded-e":[{"rounded-e":me()}],"rounded-t":[{"rounded-t":me()}],"rounded-r":[{"rounded-r":me()}],"rounded-b":[{"rounded-b":me()}],"rounded-l":[{"rounded-l":me()}],"rounded-ss":[{"rounded-ss":me()}],"rounded-se":[{"rounded-se":me()}],"rounded-ee":[{"rounded-ee":me()}],"rounded-es":[{"rounded-es":me()}],"rounded-tl":[{"rounded-tl":me()}],"rounded-tr":[{"rounded-tr":me()}],"rounded-br":[{"rounded-br":me()}],"rounded-bl":[{"rounded-bl":me()}],"border-w":[{border:ge()}],"border-w-x":[{"border-x":ge()}],"border-w-y":[{"border-y":ge()}],"border-w-s":[{"border-s":ge()}],"border-w-e":[{"border-e":ge()}],"border-w-t":[{"border-t":ge()}],"border-w-r":[{"border-r":ge()}],"border-w-b":[{"border-b":ge()}],"border-w-l":[{"border-l":ge()}],"divide-x":[{"divide-x":ge()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ge()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...be(),"hidden","none"]}],"divide-style":[{divide:[...be(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Je,Ae,Re]}],"outline-w":[{outline:["",Je,mu,Bo]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",g,Fh,jh]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",y,Fh,jh]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:ge()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[Je,Bo]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":ge()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",_,Fh,jh]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[Je,Ae,Re]}],"mix-blend":[{"mix-blend":[...Fe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Fe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Je]}],"mask-image-linear-from-pos":[{"mask-linear-from":Se()}],"mask-image-linear-to-pos":[{"mask-linear-to":Se()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":Se()}],"mask-image-t-to-pos":[{"mask-t-to":Se()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":Se()}],"mask-image-r-to-pos":[{"mask-r-to":Se()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":Se()}],"mask-image-b-to-pos":[{"mask-b-to":Se()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":Se()}],"mask-image-l-to-pos":[{"mask-l-to":Se()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":Se()}],"mask-image-x-to-pos":[{"mask-x-to":Se()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":Se()}],"mask-image-y-to-pos":[{"mask-y-to":Se()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[Ae,Re]}],"mask-image-radial-from-pos":[{"mask-radial-from":Se()}],"mask-image-radial-to-pos":[{"mask-radial-to":Se()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Q()}],"mask-image-conic-pos":[{"mask-conic":[Je]}],"mask-image-conic-from-pos":[{"mask-conic-from":Se()}],"mask-image-conic-to-pos":[{"mask-conic-to":Se()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:de()}],"mask-repeat":[{mask:re()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ae,Re]}],filter:[{filter:["","none",Ae,Re]}],blur:[{blur:_e()}],brightness:[{brightness:[Je,Ae,Re]}],contrast:[{contrast:[Je,Ae,Re]}],"drop-shadow":[{"drop-shadow":["","none",T,Fh,jh]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",Je,Ae,Re]}],"hue-rotate":[{"hue-rotate":[Je,Ae,Re]}],invert:[{invert:["",Je,Ae,Re]}],saturate:[{saturate:[Je,Ae,Re]}],sepia:[{sepia:["",Je,Ae,Re]}],"backdrop-filter":[{"backdrop-filter":["","none",Ae,Re]}],"backdrop-blur":[{"backdrop-blur":_e()}],"backdrop-brightness":[{"backdrop-brightness":[Je,Ae,Re]}],"backdrop-contrast":[{"backdrop-contrast":[Je,Ae,Re]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Je,Ae,Re]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Je,Ae,Re]}],"backdrop-invert":[{"backdrop-invert":["",Je,Ae,Re]}],"backdrop-opacity":[{"backdrop-opacity":[Je,Ae,Re]}],"backdrop-saturate":[{"backdrop-saturate":[Je,Ae,Re]}],"backdrop-sepia":[{"backdrop-sepia":["",Je,Ae,Re]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ae,Re]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Je,"initial",Ae,Re]}],ease:[{ease:["linear","initial",U,Ae,Re]}],delay:[{delay:[Je,Ae,Re]}],animate:[{animate:["none",F,Ae,Re]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,Ae,Re]}],"perspective-origin":[{"perspective-origin":ee()}],rotate:[{rotate:it()}],"rotate-x":[{"rotate-x":it()}],"rotate-y":[{"rotate-y":it()}],"rotate-z":[{"rotate-z":it()}],scale:[{scale:mt()}],"scale-x":[{"scale-x":mt()}],"scale-y":[{"scale-y":mt()}],"scale-z":[{"scale-z":mt()}],"scale-3d":["scale-3d"],skew:[{skew:xn()}],"skew-x":[{"skew-x":xn()}],"skew-y":[{"skew-y":xn()}],transform:[{transform:[Ae,Re,"","none","gpu","cpu"]}],"transform-origin":[{origin:ee()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:st()}],"translate-x":[{"translate-x":st()}],"translate-y":[{"translate-y":st()}],"translate-z":[{"translate-z":st()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae,Re]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae,Re]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[Je,mu,Bo,gm]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},OF=yF(VF);function jF(...t){return OF(Pb(t))}const FF=rF("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Rd({className:t,variant:e,size:n,asChild:r=!1,...s}){const a=r?Ab:"button";return x.jsx(a,{"data-slot":"button",className:jF(FF({variant:e,size:n,className:t})),...s})}function UF(){const t=_n(),[e,n]=k.useState(null);k.useEffect(()=>{ca.getItem("welcome").then(n).catch(console.error)},[]);const r=()=>{t("/login")};return e?x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 flex items-center justify-center p-4",children:x.jsxs(Ne.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,ease:"easeOut"},className:"flex flex-col items-center gap-8 text-center max-w-md w-full",children:[x.jsx(os,{size:"large"}),x.jsxs("div",{className:"space-y-4",children:[x.jsx(Ne.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-3xl md:text-4xl font-bold text-white tracking-tight",children:e.title}),x.jsx(Ne.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-slate-300 text-lg leading-relaxed",children:e.copy})]}),x.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"w-full pt-4",children:x.jsx(Rd,{onClick:r,className:"w-full bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white font-bold py-6 rounded-xl text-lg shadow-lg hover:shadow-purple-500/25 transition-all duration-300",children:e.buttonText})})]})}):x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 flex items-center justify-center p-4",children:x.jsxs(Ne.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center gap-4",children:[x.jsx(os,{size:"large"}),x.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-ping"})]})})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),BF=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),JE=t=>{const e=BF(t);return e.charAt(0).toUpperCase()+e.slice(1)},Bb=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $F={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:l,...c},d)=>k.createElement("svg",{ref:d,...$F,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Bb("lucide",s),...c},[...l.map(([p,g])=>k.createElement(p,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=(t,e)=>{const n=k.forwardRef(({className:r,...s},a)=>k.createElement(HF,{ref:a,iconNode:e,className:Bb(`lucide-${zF(JE(t))}`,`lucide-${t}`,r),...s}));return n.displayName=JE(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],rv=Et("arrow-left",WF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],mo=Et("arrow-right",GF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],qF=Et("check",KF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],YF=Et("chevron-right",QF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ZE=Et("circle-alert",XF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],eo=Et("circle-check-big",JF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],eT=Et("circle-x",ZF);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],tT=Et("eye-off",e6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nT=Et("eye",t6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],$b=Et("image",n6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],rT=Et("info",r6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],hs=Et("loader-circle",i6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],nd=Et("lock",s6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],iT=Et("log-out",o6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Ad=Et("mail",a6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],u6=Et("menu",l6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],h6=Et("message-square",c6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],sT=Et("refresh-ccw",d6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Eg=Et("refresh-cw",f6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],oT=Et("settings",p6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],g6=Et("share-2",m6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],kd=Et("sparkles",y6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],w6=Et("star",v6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],x6=Et("user",_6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Hb=Et("x",E6);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],S6=Et("zap",T6);function Wb({size:t="medium",message:e}){const n={small:"w-6 h-6",medium:"w-12 h-12",large:"w-16 h-16"};return x.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[x.jsx(hs,{className:`${n[t]} text-purple-500 animate-spin`}),e&&x.jsx("p",{className:"text-slate-400 animate-pulse",children:e})]})}function I6(){const t=_n(),[e,n]=k.useState(""),[r,s]=k.useState(""),[a,l]=k.useState(!1),[c,d]=k.useState(null),[p,g]=k.useState(!1),y=async T=>{T.preventDefault(),l(!0),d(null);try{if(p){const C=await _L(Lu,e,r);await EL(C.user),alert("Account created! Please check your email for a verification link.")}else await xL(Lu,e,r);t("/assessment-intro")}catch(C){console.error(C),d(C.message.replace("Firebase: ","")),l(!1)}},_=async()=>{l(!0);try{const T=new Ji;await GL(Lu,T),t("/assessment-intro")}catch(T){console.error(T),d(T.message.replace("Firebase: ","")),l(!1)}};return a?x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 flex items-center justify-center p-4",children:x.jsx(Wb,{size:"large",message:p?"Creating account...":"Logging in..."})}):x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 flex items-center justify-center p-4",children:x.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:x.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-xl rounded-2xl border border-slate-800 p-8 shadow-2xl",children:[x.jsx("div",{className:"flex justify-center mb-8",children:x.jsx(os,{size:"large"})}),x.jsx("h1",{className:"text-2xl font-bold text-white text-center mb-2",children:p?"Create Account":"Welcome back"}),x.jsx("p",{className:"text-slate-400 text-center mb-8",children:p?"Start your journey":"Sign in to continue"}),c&&x.jsx("div",{className:"bg-red-500/10 border border-red-500/50 rounded-lg p-3 mb-4 text-red-200 text-sm text-center",children:c}),x.jsxs("form",{onSubmit:y,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-300 mb-2",children:"Email"}),x.jsxs("div",{className:"relative",children:[x.jsx(Ad,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500"}),x.jsx("input",{id:"email",type:"email",value:e,onChange:T=>n(T.target.value),className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg pl-11 pr-4 py-3 text-white placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"you@example.com",required:!0})]})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-300 mb-2",children:"Password"}),x.jsxs("div",{className:"relative",children:[x.jsx(nd,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500"}),x.jsx("input",{id:"password",type:"password",value:r,onChange:T=>s(T.target.value),className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg pl-11 pr-4 py-3 text-white placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"",required:!0,minLength:6})]})]}),x.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white font-semibold py-3 px-4 rounded-lg hover:shadow-lg hover:shadow-purple-500/50 transition-all duration-300 flex items-center justify-center gap-2 group mt-6",children:[p?"Sign Up":"Sign In",x.jsx(mo,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]}),x.jsxs("div",{className:"relative my-6",children:[x.jsx("div",{className:"absolute inset-0 flex items-center",children:x.jsx("div",{className:"w-full border-t border-slate-700"})}),x.jsx("div",{className:"relative flex justify-center text-sm",children:x.jsx("span",{className:"px-2 bg-slate-900 text-slate-500",children:"Or continue with"})})]}),x.jsxs("button",{type:"button",onClick:_,className:"w-full bg-slate-800 hover:bg-slate-700 text-white font-medium py-3 px-4 rounded-lg transition-colors flex items-center justify-center gap-2 border border-slate-700",children:[x.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5"}),"Google"]}),x.jsxs("div",{className:"mt-6 text-center space-y-2",children:[!p&&x.jsx("button",{type:"button",onClick:()=>t("/forgot-password"),className:"text-sm text-slate-400 hover:text-purple-400 transition-colors block w-full",children:"Forgot password?"}),x.jsx("button",{type:"button",onClick:()=>g(!p),className:"text-sm text-purple-400 hover:text-purple-300 transition-colors font-medium",children:p?"Already have an account? Sign In":"Don't have an account? Sign Up"})]})]})})})}const nf="user_archetype",iv="user_answers";function b6(t,e){const n={...t,answers:e,calculatedAt:new Date().toISOString()};localStorage.setItem(nf,JSON.stringify(n)),e&&localStorage.setItem(iv,JSON.stringify(e))}function Gb(){try{const t=localStorage.getItem(nf);return t?JSON.parse(t):null}catch{return null}}function rf(){try{const t=localStorage.getItem(iv);return t?JSON.parse(t):null}catch{return null}}function Tg(){return localStorage.getItem(nf)!==null}function C6(){localStorage.removeItem(nf),localStorage.removeItem(iv)}function R6({isOpen:t,onClose:e}){const[n,r]=k.useState(null),[s,a]=k.useState(null),[l,c]=k.useState(null),[d,p]=k.useState(!0);k.useEffect(()=>{t&&g()},[t]);const g=async()=>{var y;try{p(!0);const _=Gb();if(r(_),!_){p(!1);return}const[T,C]=await Promise.all([ca.getItem("my_archetype"),Jo.getCASConfig()]);if(c(T),_.imageUrl)a(_);else{const N=(y=C.archetypes)==null?void 0:y.find(P=>P.name===_.name);a(N)}}catch(_){console.error("Error loading archetype data:",_)}finally{p(!1)}};return x.jsx(sa,{children:t&&x.jsxs(x.Fragment,{children:[x.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50"}),x.jsxs(Ne.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"fixed inset-4 md:inset-auto md:top-1/2 md:left-1/2 md:-translate-x-1/2 md:-translate-y-1/2 md:max-w-lg md:w-full bg-gradient-to-br from-slate-900 via-slate-900 to-purple-950 rounded-2xl shadow-2xl shadow-purple-500/20 border border-slate-700 z-50 overflow-hidden",children:[x.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-full transition-colors z-10",children:x.jsx(Hb,{className:"w-5 h-5"})}),d?x.jsx("div",{className:"flex items-center justify-center h-64",children:x.jsx(hs,{className:"w-8 h-8 animate-spin text-purple-500"})}):n?x.jsxs("div",{className:"p-6 md:p-8 overflow-y-auto max-h-[80vh]",children:[x.jsxs("div",{className:"text-center mb-6",children:[x.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-purple-500/20 rounded-full text-purple-300 text-sm mb-4",children:[x.jsx(kd,{className:"w-4 h-4"}),(l==null?void 0:l.title)||"Your Archetype"]}),(l==null?void 0:l.copy)&&x.jsx("p",{className:"text-slate-400 text-sm",children:l.copy})]}),(s==null?void 0:s.imageUrl)&&x.jsxs("div",{className:"relative mx-auto mb-6",children:[x.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 mx-auto rounded-full overflow-hidden border-4 border-purple-500/50 shadow-xl shadow-purple-500/30",children:x.jsx("img",{src:s.imageUrl,alt:n.name,className:"w-full h-full object-cover"})}),x.jsx(Ne.div,{animate:{scale:[1,1.1,1],opacity:[.2,.4,.2]},transition:{duration:3,repeat:1/0},className:"absolute inset-0 bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-full blur-xl -z-10"})]}),x.jsxs("div",{className:"text-center mb-6",children:[x.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:n.name}),n.primaryTerrain&&n.secondaryTerrain&&x.jsxs("p",{className:"text-slate-400 text-sm mt-1",children:[x.jsx("span",{className:"text-purple-400",children:n.primaryTerrain})," with ",x.jsx("span",{className:"text-purple-400",children:n.secondaryTerrain})," influence"]})]}),(s==null?void 0:s.description)&&x.jsx("p",{className:"text-slate-300 text-center leading-relaxed mb-6",children:s.description}),x.jsxs("div",{className:"space-y-4 bg-slate-800/50 rounded-xl p-4",children:[x.jsx("h3",{className:"text-sm font-semibold text-slate-400 uppercase tracking-wide",children:"Your Profile"}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-purple-400 font-medium",children:"Core Recognition"}),x.jsx("p",{className:"text-slate-300 text-sm",children:n.profileData.coreRecognition})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-purple-400 font-medium",children:"Protective Logic"}),x.jsx("p",{className:"text-slate-300 text-sm",children:n.profileData.protectiveLogic})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs text-purple-400 font-medium",children:"Cost Under Stress"}),x.jsx("p",{className:"text-slate-300 text-sm",children:n.profileData.costUnderStress})]})]})]}),x.jsxs("p",{className:"text-center text-slate-500 text-xs mt-6",children:["Calculated ",new Date(n.calculatedAt).toLocaleDateString()]})]}):x.jsx("div",{className:"p-8 text-center",children:x.jsx("p",{className:"text-slate-400",children:"You haven't completed the assessment yet."})})]})]})})}function to(){const t=_n(),{appName:e}=Xd(),[n,r]=k.useState(!1),[s,a]=k.useState(!1),[l,c]=k.useState(!1),d=()=>{a(!1),r(!1),c(!0)},p=()=>{C6(),a(!1),r(!1),t("/assessment-intro")},g=async()=>{await bL(Lu),a(!1),r(!1),t("/login")};return x.jsxs("nav",{className:"border-b border-slate-800 bg-slate-900/30 backdrop-blur-sm sticky top-0 z-50",children:[x.jsxs("div",{className:"container mx-auto px-4",children:[x.jsxs("div",{className:"flex items-center justify-between h-16",children:[x.jsx(Cu,{to:"/situation",className:"flex-shrink-0 py-[2px]",children:x.jsx(os,{size:"small"})}),x.jsx("div",{className:"hidden md:flex items-center gap-6",children:x.jsxs("div",{className:"relative",children:[x.jsxs("button",{onClick:()=>a(!s),className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-slate-800 border border-slate-700 hover:border-slate-600 transition-all",children:[x.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:x.jsx(x6,{className:"w-4 h-4 text-white"})}),x.jsx("span",{className:"text-white text-sm",children:"Account"})]}),x.jsx(sa,{children:s&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>a(!1)}),x.jsxs(Ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute right-0 mt-2 w-56 bg-slate-800 border border-slate-700 rounded-lg shadow-xl overflow-hidden z-50",children:[x.jsxs("div",{className:"py-2",children:[Tg()&&x.jsxs("button",{onClick:d,className:"w-full px-4 py-2 text-left text-slate-300 hover:bg-slate-700 hover:text-white transition-colors flex items-center gap-3",children:[x.jsx(kd,{className:"w-4 h-4"}),"My Archetype"]}),x.jsxs("button",{onClick:p,className:"w-full px-4 py-2 text-left text-slate-300 hover:bg-slate-700 hover:text-white transition-colors flex items-center gap-3",children:[x.jsx(sT,{className:"w-4 h-4"}),"Retake Profile"]}),x.jsxs("button",{className:"w-full px-4 py-2 text-left text-slate-300 hover:bg-slate-700 hover:text-white transition-colors flex items-center gap-3",children:[x.jsx(oT,{className:"w-4 h-4"}),"Settings"]}),x.jsxs(Cu,{to:"/about",onClick:()=>a(!1),className:"w-full px-4 py-2 text-left text-slate-300 hover:bg-slate-700 hover:text-white transition-colors flex items-center gap-3",children:[x.jsx(rT,{className:"w-4 h-4"}),"About ",e||"App"]})]}),x.jsx("div",{className:"border-t border-slate-700 py-2",children:x.jsxs("button",{onClick:g,className:"w-full px-4 py-2 text-left text-red-400 hover:bg-slate-700 transition-colors flex items-center gap-3",children:[x.jsx(iT,{className:"w-4 h-4"}),"Logout"]})})]})]})})]})}),x.jsx("button",{onClick:()=>r(!n),className:"md:hidden p-2 text-slate-300 hover:text-white transition-colors",children:n?x.jsx(Hb,{className:"w-6 h-6"}):x.jsx(u6,{className:"w-6 h-6"})})]}),x.jsx(sa,{children:n&&x.jsx(Ne.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"md:hidden overflow-hidden border-t border-slate-800",children:x.jsxs("div",{className:"py-4 space-y-1",children:[x.jsxs("div",{className:"border-t border-slate-800 mt-3 pt-3 space-y-1",children:[Tg()&&x.jsxs("button",{onClick:d,className:"w-full px-4 py-2 text-left text-slate-300 hover:bg-slate-800 hover:text-white transition-colors rounded-lg flex items-center gap-3",children:[x.jsx(kd,{className:"w-4 h-4"}),"My Archetype"]}),x.jsxs("button",{onClick:p,className:"w-full px-4 py-2 text-left text-slate-300 hover:bg-slate-800 hover:text-white transition-colors rounded-lg flex items-center gap-3",children:[x.jsx(sT,{className:"w-4 h-4"}),"Retake Profile"]}),x.jsxs("button",{className:"w-full px-4 py-2 text-left text-slate-300 hover:bg-slate-800 hover:text-white transition-colors rounded-lg flex items-center gap-3",children:[x.jsx(oT,{className:"w-4 h-4"}),"Settings"]}),x.jsxs(Cu,{to:"/about",onClick:()=>r(!1),className:"w-full px-4 py-2 text-left text-slate-300 hover:bg-slate-800 hover:text-white transition-colors rounded-lg flex items-center gap-3",children:[x.jsx(rT,{className:"w-4 h-4"}),"About ",e||"App"]})]}),x.jsx("div",{className:"border-t border-slate-800 mt-3 pt-3",children:x.jsxs("button",{onClick:g,className:"w-full px-4 py-2 text-left text-red-400 hover:bg-slate-800 transition-colors rounded-lg flex items-center gap-3",children:[x.jsx(iT,{className:"w-4 h-4"}),"Logout"]})})]})})})]}),x.jsx(R6,{isOpen:l,onClose:()=>c(!1)})]})}function A6(){var _;const t=_n(),n=((_=ir().state)==null?void 0:_.answers)||rf(),[r,s]=k.useState(null),[a,l]=k.useState([]),[c,d]=k.useState(null),[p,g]=k.useState(!0);k.useEffect(()=>{Promise.all([Jo.getSituations(),ca.getItem("select_situation")]).then(([T,C])=>{l(T),d(C),g(!1)}).catch(console.error)},[]);const y=()=>{r&&(console.log("Situation Selected:",r,"Answers:",n),t("/emotions",{state:{situationId:r,answers:n}}))};return p?x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 flex items-center justify-center",children:x.jsx(hs,{className:"w-8 h-8 animate-spin text-purple-500"})}):x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 flex flex-col",children:[x.jsx(to,{}),x.jsx("div",{className:"flex-1 container mx-auto px-4 py-8 md:py-12 lg:py-16",children:x.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-5xl mx-auto",children:[x.jsxs("div",{className:"text-center mb-8 md:mb-12",children:[x.jsx("h1",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-white mb-4",children:(c==null?void 0:c.title)||"What's happening?"}),x.jsx("p",{className:"text-base md:text-lg text-slate-300 max-w-2xl mx-auto",children:(c==null?void 0:c.copy)||"Select the situation that best describes what you're experiencing right now"})]}),x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 mb-8",children:a.map((T,C)=>{const N=r===T.id;return x.jsxs(Ne.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:C*.05},onClick:()=>s(T.id),className:`relative bg-slate-900/50 backdrop-blur-xl rounded-2xl border-2 overflow-hidden transition-all duration-300 group text-left ${N?"border-purple-500 shadow-lg shadow-purple-500/50 scale-[1.02]":"border-slate-800 hover:border-slate-700 hover:scale-[1.01]"}`,children:[x.jsx(sa,{children:N&&x.jsx(Ne.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:300,damping:20},className:"absolute top-3 right-3 w-7 h-7 bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 rounded-full flex items-center justify-center z-10 shadow-lg",children:x.jsx(eo,{className:"w-5 h-5 text-white"})})}),x.jsxs("div",{className:"aspect-[4/3] w-full overflow-hidden bg-slate-800",children:[T.squarePngUrl?x.jsx("img",{src:T.squarePngUrl,alt:T.name,className:`w-full h-full object-cover transition-all duration-500 ${N?"scale-105 brightness-110":"group-hover:scale-105 brightness-90 group-hover:brightness-100"}`}):x.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-600",children:x.jsx($b,{className:"w-12 h-12"})}),x.jsx("div",{className:`absolute inset-0 bg-gradient-to-t from-slate-950 via-slate-950/50 to-transparent transition-opacity ${N?"opacity-70":"opacity-60 group-hover:opacity-50"}`})]}),x.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[x.jsx("h3",{className:`text-lg md:text-xl font-bold mb-1 transition-colors ${N?"text-purple-300":"text-white group-hover:text-purple-200"}`,children:T.name}),x.jsx("p",{className:`text-sm leading-relaxed line-clamp-2 transition-colors ${N?"text-slate-300":"text-slate-400 group-hover:text-slate-300"}`,children:T.shortDescription})]}),N&&x.jsx(Ne.div,{animate:{opacity:[.3,.5,.3]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 bg-gradient-to-br from-purple-500/20 to-pink-500/20 pointer-events-none"})]},T.id)})}),x.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:r?1:.5},className:"flex justify-center",children:x.jsxs("button",{onClick:y,disabled:!r,className:"flex items-center gap-2 px-8 py-3 rounded-lg bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white font-semibold hover:shadow-lg hover:shadow-purple-500/50 disabled:opacity-50 disabled:cursor-not-allowed transition-all group",children:[(c==null?void 0:c.buttonText)||"Continue",x.jsx(mo,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})]})})]})}function k6(){var ee;const t=_n();(ee=ir().state)==null||ee.situationId;const[n,r]=k.useState(null),[s,a]=k.useState(0),[l,c]=k.useState({}),[d,p]=k.useState("first"),[g,y]=k.useState(!0);if(k.useEffect(()=>{Jo.getCASConfig().then(ne=>{r(ne),y(!1)}).catch(console.error)},[]),g||!n)return x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 flex items-center justify-center",children:x.jsx(hs,{className:"w-8 h-8 animate-spin text-purple-500"})});const _=n.questions,T=_[s],C=l[T.id]||{},N=s===_.length-1,P=C.first&&C.second&&C.repulsion,U=s/_.length*100,F=ne=>{if(C.first===ne||C.second===ne||C.repulsion===ne)return;const b={...C,[d]:ne};c(S=>({...S,[T.id]:b})),d==="first"?p("second"):d==="second"&&p("repulsion")},W=()=>{c(ne=>{const b={...ne};return delete b[T.id],b}),p("first")},Q=()=>{N?(console.log("Assessment Complete. Answers:",l),t("/archetype-reveal",{state:{answers:l}})):(a(ne=>ne+1),p("first"))};return x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 flex flex-col",children:[x.jsx("div",{className:"border-b border-slate-800 bg-slate-900/30 backdrop-blur-sm",children:x.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[x.jsx(os,{size:"small"}),x.jsxs("div",{className:"text-sm text-slate-400",children:["Question ",s+1," of ",_.length]})]})}),x.jsx("div",{className:"w-full bg-slate-900/50 h-2",children:x.jsx(Ne.div,{className:"h-full bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500",initial:{width:0},animate:{width:`${U}%`},transition:{duration:.3}})}),x.jsx("div",{className:"flex-1 container mx-auto px-4 py-8 flex flex-col items-center",children:x.jsxs(Ne.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"w-full max-w-3xl",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:T.text}),x.jsxs("p",{className:"text-purple-300 font-bold text-xl md:text-2xl mt-4 animate-pulse",children:[d==="first"&&!C.first&&"Which is MOST like you?",d==="second"&&C.first&&!C.second&&"Which is NEXT most like you?",d==="repulsion"&&C.second&&!C.repulsion&&"Which is LEAST like you?",P&&"All set!"]})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:T.options.map(ne=>{const b=C.first===ne.id,S=C.second===ne.id,A=C.repulsion===ne.id,L=b||S||A,V=L;return x.jsx("button",{onClick:()=>!V&&F(ne.id),disabled:V,className:`p-6 rounded-xl border-2 text-left transition-all ${b?"border-green-500 bg-green-500/10":S?"border-yellow-500 bg-yellow-500/10":A?"border-red-500 bg-red-500/10":"border-slate-700 bg-slate-800/50 hover:border-slate-600"} ${V&&!L?"opacity-50":""}`,children:x.jsxs("div",{className:"flex justify-between items-start",children:[x.jsx("span",{className:"text-white text-lg",children:ne.text}),b&&x.jsx("span",{className:"text-xs bg-green-500 text-white px-2 py-1 rounded",children:"1st"}),S&&x.jsx("span",{className:"text-xs bg-yellow-500 text-white px-2 py-1 rounded",children:"2nd"}),A&&x.jsx("span",{className:"text-xs bg-red-500 text-white px-2 py-1 rounded",children:"No"})]})},ne.id)})})]},T.id)}),x.jsx("div",{className:"border-t border-slate-800 bg-slate-900/30 backdrop-blur-sm p-4",children:x.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[x.jsx("button",{onClick:W,className:"flex items-center gap-2 px-6 py-3 rounded-lg bg-slate-700/50 text-white font-semibold hover:bg-slate-600/50 transition-all border border-slate-600",children:x.jsx("span",{children:"Reset Selection"})}),x.jsxs("button",{onClick:Q,disabled:!P,className:"flex items-center gap-2 px-8 py-3 rounded-lg bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white font-semibold hover:shadow-lg hover:shadow-purple-500/50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[x.jsx("span",{children:N?"Finish":"Next Question"}),x.jsx(YF,{className:"w-5 h-5"})]})]})})]})}function P6(){var N;const t=_n(),e=ir(),{situationId:n}=e.state||{},r=((N=e.state)==null?void 0:N.answers)||rf(),[s,a]=k.useState(null),[l,c]=k.useState([]),[d,p]=k.useState(null),[g,y]=k.useState(!0),[_,T]=k.useState(null);k.useEffect(()=>{Promise.all([Jo.getAffects(),ca.getItem("select_affect")]).then(([P,U])=>{c(P),p(U),y(!1)}).catch(console.error)},[]);const C=()=>{s&&(console.log("Navigating to Results with:",{situationId:n,answers:r,affectId:s}),t("/results",{state:{situationId:n,answers:r,affectId:s}}))};return g?x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 flex items-center justify-center",children:x.jsx(hs,{className:"w-8 h-8 animate-spin text-purple-500"})}):x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 flex flex-col",children:[x.jsx(to,{}),x.jsx("div",{className:"flex-1 container mx-auto px-4 py-8 md:py-12 lg:py-16",children:x.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-6xl mx-auto",children:[x.jsxs("div",{className:"text-center mb-8 md:mb-12",children:[x.jsx("h1",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-white mb-4",children:(d==null?void 0:d.title)||"Read the Vibe"}),x.jsx("p",{className:"text-base md:text-lg text-slate-300 max-w-2xl mx-auto",children:(d==null?void 0:d.copy)||"How does the other person seem? Pick the affect that matches their energy."})]}),x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 md:gap-6 mb-8",children:l.map((P,U)=>{const F=s===P.id,W=_===P.id;return x.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:U*.05},className:"relative h-56 md:h-64",style:{perspective:"1000px"},onMouseEnter:()=>T(P.id),onMouseLeave:()=>T(null),children:x.jsxs(Ne.div,{className:"relative w-full h-full",animate:{rotateY:W?180:0},transition:{duration:.6,ease:"easeOut"},style:{transformStyle:"preserve-3d"},children:[x.jsxs("button",{onClick:()=>a(P.id),className:`absolute inset-0 bg-slate-900/50 backdrop-blur-xl rounded-2xl border-2 p-6 md:p-8 transition-all duration-300 flex flex-col items-center justify-center ${F?"border-purple-500 shadow-lg shadow-purple-500/50":"border-slate-800"}`,style:{backfaceVisibility:"hidden"},children:[x.jsx(sa,{children:F&&x.jsx(Ne.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:300,damping:20},className:"absolute top-3 right-3 w-6 h-6 bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 rounded-full flex items-center justify-center z-10",children:x.jsx(eo,{className:"w-4 h-4 text-white"})})}),x.jsx("div",{className:"mb-4 flex justify-center",children:x.jsxs("div",{className:"w-20 h-20 md:w-28 md:h-28 relative flex items-center justify-center bg-slate-800 rounded-full overflow-hidden",children:[P.iconUrl?x.jsx("img",{src:P.iconUrl,alt:P.name,className:`w-full h-full object-cover transition-all duration-300 ${F?"brightness-110":"brightness-90"}`}):x.jsx($b,{className:"w-12 h-12 text-slate-500"}),F&&x.jsx(Ne.div,{animate:{opacity:[.5,.8,.5],scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute inset-0 bg-gradient-to-br from-purple-500/30 to-pink-500/30 rounded-full blur-xl -z-10"})]})}),x.jsx("p",{className:`text-base md:text-lg font-semibold text-center transition-colors ${F?"text-purple-300":"text-slate-300"}`,children:P.name})]}),x.jsxs("button",{onClick:()=>a(P.id),className:`absolute inset-0 bg-gradient-to-br from-slate-900 via-purple-900/50 to-slate-900 backdrop-blur-xl rounded-2xl border-2 p-5 md:p-6 flex flex-col items-center justify-center ${F?"border-purple-500 shadow-lg shadow-purple-500/50":"border-purple-500/50"}`,style:{backfaceVisibility:"hidden",transform:"rotateY(180deg)"},children:[x.jsx(sa,{children:F&&x.jsx(Ne.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:300,damping:20},className:"absolute top-3 right-3 w-6 h-6 bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 rounded-full flex items-center justify-center z-10",children:x.jsx(eo,{className:"w-4 h-4 text-white"})})}),x.jsx("h3",{className:"text-base md:text-lg font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400 mb-2",children:P.name}),x.jsx("p",{className:"text-xs md:text-sm text-slate-300 text-center leading-relaxed",children:P.description||"No description available"}),x.jsx("p",{className:"absolute bottom-3 text-xs text-purple-400/70 font-medium",children:"Tap to select"})]})]})},P.id)})}),x.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:s?1:.5},className:"flex justify-center",children:x.jsxs("button",{onClick:C,disabled:!s,className:"flex items-center gap-2 px-8 py-3 rounded-lg bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white font-semibold hover:shadow-lg hover:shadow-purple-500/50 disabled:opacity-50 disabled:cursor-not-allowed transition-all group",children:[(d==null?void 0:d.buttonText)||"Get Guidance",x.jsx(mo,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})]})})]})}const N6="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function D6(t){const[e,n]=k.useState(!1),r=()=>{n(!0)},{src:s,alt:a,style:l,className:c,...d}=t;return e?x.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${c??""}`,style:l,children:x.jsx("div",{className:"flex items-center justify-center w-full h-full",children:x.jsx("img",{src:N6,alt:"Error loading image",...d,"data-original-url":s})})}):x.jsx("img",{src:s,alt:a,className:c,style:l,...d,onError:r})}function M6(){const t=_n();return x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 flex flex-col",children:[x.jsx(to,{}),x.jsx("div",{className:"flex-1 container mx-auto px-4 py-8 md:py-12 lg:py-16 flex items-center justify-center",children:x.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-4xl",children:x.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-xl rounded-2xl border border-slate-800 p-6 md:p-8 lg:p-12 shadow-2xl",children:[x.jsx("div",{className:"mb-8 flex justify-center",children:x.jsx("div",{className:"w-full max-w-sm aspect-square rounded-xl overflow-hidden border-2 border-slate-700 shadow-lg",children:x.jsx(D6,{src:"https://images.unsplash.com/photo-1694919123854-24b74b376da1?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxnYW1pbmclMjBzZXR1cCUyMGRlc2t8ZW58MXx8fHwxNzY5ODk5MjcyfDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",alt:"Gaming setup illustration",className:"w-full h-full object-cover"})})}),x.jsx("h1",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-white mb-6 text-center",children:"Your Journey Begins Here"}),x.jsx("p",{className:"text-base md:text-lg text-slate-300 leading-relaxed text-center max-w-2xl mx-auto mb-8",children:"Based on your responses, we've crafted a personalized experience just for you. Your unique perspective helps us understand what drives you and how you approach challenges. Let's discover what your first shot reveals about your path forward."}),x.jsx("div",{className:"flex justify-center",children:x.jsxs("button",{onClick:()=>t("/results"),className:"flex items-center gap-2 px-8 py-3 rounded-lg bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white font-semibold hover:shadow-lg hover:shadow-purple-500/50 transition-all group",children:["View Results",x.jsx(mo,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})]})})})]})}function L6(){var de;const t=_n(),e=ir(),{situationId:n,affectId:r}=e.state||{},s=((de=e.state)==null?void 0:de.answers)||rf(),{appName:a}=Xd(),[l,c]=k.useState(!0),[d,p]=k.useState(null),[g,y]=k.useState(null),[_,T]=k.useState(!1),[C,N]=k.useState(null),[P,U]=k.useState(""),[F,W]=k.useState(""),[Q,ee]=k.useState(!1),[ne,b]=k.useState(!1),[S,A]=k.useState(null),[L,V]=k.useState(null);k.useEffect(()=>{if(!n||!s||!r){y("Missing context. Please restart the flow."),c(!1);return}z()},[]);const z=async()=>{var re,B;try{c(!0);const te=Gb(),[me,ge,be,Fe]=await Promise.all([Jo.getCASConfig(),Ya.getGlobalSettings(),Jo.getSituations().then(Vt=>Vt.find(or=>or.id===n)),Jo.getAffects().then(Vt=>Vt.find(or=>or.id===r))]);if(!me||!ge||!be||!Fe)throw new Error("Failed to load required data.");V(be.name);let Se;if(te)console.log("Using stored archetype:",te.name),Se=te,A(te.name);else{console.log("Submitting answers:",s);const Vt=await Ya.submitResponse({userId:"anonymous",sessionId:"session_"+Date.now(),answers:s});console.log("Response Result:",Vt),Se=(B=(re=Vt.response)==null?void 0:re.result)==null?void 0:B.archetype,Se&&A(Se.name)}if(!Se)throw new Error("Failed to determine archetype.");let _e=ge.masterPrompt||"";_e=_e.replace(/\*core-recognition\*/g,Se.profileData.coreRecognition),_e=_e.replace(/\*protective-logic\*/g,Se.profileData.protectiveLogic),_e=_e.replace(/\*cost-under-stress\*/g,Se.profileData.costUnderStress),_e=_e.replace(/\*repulsion-disavowal\*/g,Se.profileData.repulsionDisavowal),_e=_e.replace(/\*primary\*/g,Se.primaryTerrain),_e=_e.replace(/\*secondary\*/g,Se.secondaryTerrain||"None"),_e=_e.replace(/\*prompt-fragment\*/g,be.promptFragment||""),_e=_e.replace(/\*situation_context\*/g,be.promptFragment||""),_e=_e.replace(/\*affect_name\*/g,Fe.name),_e=_e.replace(/\*affect_description\*/g,Fe.description),_e=_e.replace(/\*affect_guidance\*/g,Fe.interactionGuidance);let mt=(await Ya.runGemini(_e)).text;mt.includes("```json")?mt=mt.split("```json")[1].split("```")[0].trim():mt.includes("```")&&(mt=mt.split("```")[1].split("```")[0].trim());const xn=JSON.parse(mt),st=Array.isArray(xn)?xn[0]:xn;p({Script:st.Script||st["What to Say"],Action:st.Action||st["What to Do"],Strategy:st.Strategy||st["What Next"]||st.Why})}catch(te){console.error(te),y("Something went wrong generating your advice. Please try again.")}finally{c(!1)}},D=re=>{N(re),re<=2?W("What was missing or off?"):W(re===3?"What could be better?":"What worked well?")},je=async()=>{if(C)try{await Ya.submitFeedback({score:C,comment:P,recommendationType:"advice"}),T(!0)}catch(re){console.error(re)}},Ke=()=>d?` What to Say:
"${d.Script}"

 What to Do:
${d.Action}

 What Next:
${d.Strategy}

 Generated by ${a}`:"",Oe=async()=>{const re=Ke();if(navigator.share)try{await navigator.share({title:"My Relationship Guidance",text:re});return}catch(B){if(B.name==="AbortError")return}pe()},pe=async()=>{const re=Ke();try{await navigator.clipboard.writeText(re),ee(!0),setTimeout(()=>ee(!1),2e3)}catch{b(!0),setTimeout(()=>b(!1),2e3)}},G=()=>{t("/situation",{state:{answers:s}})};return l?x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 flex flex-col items-center justify-center p-4 text-center",children:[x.jsx(hs,{className:"w-12 h-12 animate-spin text-purple-500 mb-4"}),x.jsx("h2",{className:"text-xl font-bold text-white",children:"Consulting the relationship architect..."}),x.jsx("p",{className:"text-slate-400 mt-2",children:"Analyzing your archetype and the situation."})]}):g?x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 flex flex-col items-center justify-center p-4",children:x.jsxs("div",{className:"bg-red-500/10 border border-red-500/50 p-6 rounded-xl max-w-md text-center",children:[x.jsx(ZE,{className:"w-10 h-10 text-red-500 mx-auto mb-4"}),x.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Error"}),x.jsx("p",{className:"text-red-200 mb-6",children:g}),x.jsx("button",{onClick:()=>t("/situation"),className:"bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-lg font-bold transition-colors",children:"Start Over"})]})}):x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 flex flex-col",children:[x.jsx(to,{}),x.jsx("div",{className:"flex-1 container mx-auto px-4 py-8 md:py-12",children:x.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("h1",{className:"text-3xl font-bold text-white",children:L||"Your Guidance"}),x.jsx("p",{className:"text-slate-400",children:S?`As a ${S}, here's what to do`:"Here's what to do"})]}),d&&x.jsxs("div",{className:"space-y-6",children:[x.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-slate-900/50 backdrop-blur-xl border border-indigo-500/30 p-6 rounded-2xl relative overflow-hidden",children:[x.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-indigo-500"}),x.jsxs("div",{className:"flex items-center gap-2 mb-3 text-indigo-300",children:[x.jsx(h6,{className:"w-5 h-5"}),x.jsx("h3",{className:"font-bold uppercase text-sm tracking-wider",children:"What to Say"})]}),x.jsxs("p",{className:"text-white text-lg leading-relaxed font-medium",children:['"',d.Script,'"']})]}),x.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-slate-900/50 backdrop-blur-xl border border-purple-500/30 p-6 rounded-2xl relative overflow-hidden",children:[x.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-purple-500"}),x.jsxs("div",{className:"flex items-center gap-2 mb-3 text-purple-300",children:[x.jsx(S6,{className:"w-5 h-5"}),x.jsx("h3",{className:"font-bold uppercase text-sm tracking-wider",children:"What to Do"})]}),x.jsx("p",{className:"text-slate-200 leading-relaxed",children:d.Action})]}),x.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-slate-900/50 backdrop-blur-xl border border-pink-500/30 p-6 rounded-2xl relative overflow-hidden",children:[x.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-pink-500"}),x.jsxs("div",{className:"flex items-center gap-2 mb-3 text-pink-300",children:[x.jsx(mo,{className:"w-5 h-5"}),x.jsx("h3",{className:"font-bold uppercase text-sm tracking-wider",children:"Why & What Next"})]}),x.jsx("p",{className:"text-slate-300 text-sm leading-relaxed",children:d.Strategy})]}),x.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"flex flex-col sm:flex-row gap-3 pt-4",children:[x.jsx("button",{onClick:Oe,className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 bg-slate-800/80 hover:bg-slate-700/80 border border-slate-700 rounded-xl text-white font-medium transition-all duration-200 hover:scale-[1.02]",children:x.jsx(sa,{mode:"wait",children:Q?x.jsxs(Ne.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center gap-2 text-green-400",children:[x.jsx(qF,{className:"w-5 h-5"}),x.jsx("span",{children:"Copied!"})]},"copied"):ne?x.jsxs(Ne.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center gap-2 text-red-400",children:[x.jsx(ZE,{className:"w-5 h-5"}),x.jsx("span",{children:"Failed to copy"})]},"error"):x.jsxs(Ne.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"flex items-center gap-2",children:[x.jsx(g6,{className:"w-5 h-5"}),x.jsx("span",{children:"Share Results"})]},"share")})}),x.jsxs("button",{onClick:G,className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 rounded-xl text-white font-medium transition-all duration-200 hover:scale-[1.02] shadow-lg shadow-purple-500/20",children:[x.jsx(Eg,{className:"w-5 h-5"}),x.jsx("span",{children:"New Situation"})]})]})]}),!_&&!C&&x.jsxs(Ne.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"mt-12 text-center",children:[x.jsx("p",{className:"text-slate-400 mb-4 text-sm",children:"Was this helpful?"}),x.jsx("div",{className:"flex justify-center gap-2",children:[1,2,3,4,5].map(re=>x.jsx("button",{onClick:()=>D(re),className:"w-10 h-10 rounded-full bg-slate-800 hover:bg-slate-700 flex items-center justify-center text-slate-300 hover:text-yellow-400 transition-colors",children:x.jsx(w6,{className:"w-5 h-5"})},re))})]}),!_&&C&&x.jsxs(Ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-8 bg-slate-900/50 p-6 rounded-xl border border-slate-800",children:[x.jsx("p",{className:"text-white font-medium mb-3",children:F}),x.jsx("textarea",{rows:3,value:P,onChange:re=>U(re.target.value),placeholder:"Type a quick note (optional)",className:"w-full bg-slate-800 border border-slate-700 rounded-lg p-3 text-white placeholder:text-slate-500 mb-4 focus:outline-none focus:ring-2 focus:ring-purple-500"}),x.jsxs("div",{className:"flex justify-end gap-3",children:[x.jsx("button",{onClick:je,className:"px-4 py-2 text-slate-400 hover:text-white transition-colors",children:"Skip"}),x.jsx("button",{onClick:je,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-medium",children:"Send"})]})]}),_&&x.jsx("div",{className:"text-center text-green-400 text-sm mt-8",children:"Thanks for your feedback!"})]})})]})}function V6(){const t=_n(),[e,n]=k.useState(""),[r,s]=k.useState(""),[a,l]=k.useState(!1),c=d=>{if(d.preventDefault(),s(""),!e){s("Email is required");return}if(!e.includes("@")){s("Please enter a valid email address");return}l(!0),setTimeout(()=>{l(!1),t("/forgot-password/check-email",{state:{email:e}})},1e3)};return x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 flex items-center justify-center px-4 py-8",children:x.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:x.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-xl rounded-2xl border border-slate-800 p-8 shadow-2xl",children:[x.jsx("div",{className:"flex justify-center mb-8",children:x.jsx(os,{size:"large"})}),x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"Forgot Password?"}),x.jsx("p",{className:"text-slate-400",children:"No worries, we'll send you reset instructions"})]}),x.jsxs("form",{onSubmit:c,className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"email",className:"block text-sm text-slate-300 mb-2",children:"Email Address"}),x.jsxs("div",{className:"relative",children:[x.jsx(Ad,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500"}),x.jsx("input",{id:"email",type:"email",value:e,onChange:d=>n(d.target.value),className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg pl-11 pr-4 py-3 text-white placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Enter your email"})]}),r&&x.jsx("p",{className:"mt-2 text-sm text-red-400",children:r})]}),x.jsx("button",{type:"submit",disabled:a,className:"w-full flex items-center justify-center gap-2 px-8 py-3 rounded-lg bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white font-semibold hover:shadow-lg hover:shadow-purple-500/50 disabled:opacity-70 transition-all group",children:a?x.jsxs(x.Fragment,{children:[x.jsx(Ne.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:x.jsx(Ad,{className:"w-5 h-5"})}),x.jsx("span",{children:"Sending..."})]}):x.jsxs(x.Fragment,{children:[x.jsx("span",{children:"Send Reset Link"}),x.jsx(mo,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})}),x.jsxs("button",{type:"button",onClick:()=>t("/login"),className:"w-full flex items-center justify-center gap-2 px-8 py-3 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all group",children:[x.jsx(rv,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),x.jsx("span",{children:"Back to Login"})]})]})]})})})}function O6(){var d;const t=_n(),n=((d=ir().state)==null?void 0:d.email)||"your email",[r,s]=k.useState(!1),[a,l]=k.useState(!1),c=()=>{s(!0),l(!1),setTimeout(()=>{s(!1),l(!0),setTimeout(()=>{l(!1)},3e3)},1e3)};return x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 flex items-center justify-center px-4 py-8",children:x.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:x.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-xl rounded-2xl border border-slate-800 p-8 shadow-2xl",children:[x.jsx("div",{className:"flex justify-center mb-8",children:x.jsx(os,{size:"large"})}),x.jsx("div",{className:"flex justify-center mb-6",children:x.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-indigo-500/20 via-purple-500/20 to-pink-500/20 border-2 border-purple-500/50 rounded-full flex items-center justify-center",children:x.jsx(Ad,{className:"w-10 h-10 text-purple-400"})})}),x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"Check Your Email"}),x.jsx("p",{className:"text-slate-400",children:"We sent a password reset link to"}),x.jsx("p",{className:"text-purple-400 font-semibold mt-2",children:n})]}),x.jsx("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700 mb-6",children:x.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:"Click the link in the email to reset your password. If you don't see the email, check your spam folder."})}),x.jsxs("div",{className:"space-y-4",children:[a&&x.jsx(Ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-green-500/20 border border-green-500/50 rounded-lg p-3 text-center",children:x.jsx("p",{className:"text-sm text-green-400",children:"Email sent successfully!"})}),x.jsx("button",{onClick:c,disabled:r||a,className:"w-full flex items-center justify-center gap-2 px-8 py-3 rounded-lg bg-slate-800 border border-slate-700 text-white font-semibold hover:bg-slate-700 disabled:opacity-70 transition-all group",children:r?x.jsxs(x.Fragment,{children:[x.jsx(Ne.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:x.jsx(Eg,{className:"w-5 h-5"})}),x.jsx("span",{children:"Resending..."})]}):x.jsxs(x.Fragment,{children:[x.jsx(Eg,{className:"w-5 h-5 group-hover:rotate-180 transition-transform duration-500"}),x.jsx("span",{children:"Resend Email"})]})}),x.jsxs("button",{onClick:()=>t("/login"),className:"w-full flex items-center justify-center gap-2 px-8 py-3 rounded-lg text-slate-400 hover:text-white hover:bg-slate-800 transition-all group",children:[x.jsx(rv,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),x.jsx("span",{children:"Back to Login"})]})]}),x.jsx("div",{className:"mt-6 text-center",children:x.jsxs("p",{className:"text-xs text-slate-500",children:["Demo mode: Click"," ",x.jsx("button",{onClick:()=>t("/reset-password",{state:{token:"demo-token"}}),className:"text-purple-400 hover:text-purple-300 underline",children:"here"})," ","to simulate email link"]})})]})})})}function j6(){var W;const t=_n(),n=(W=ir().state)==null?void 0:W.token,[r,s]=k.useState(""),[a,l]=k.useState(""),[c,d]=k.useState(!1),[p,g]=k.useState(!1),[y,_]=k.useState(""),[T,C]=k.useState(!1),N=[{label:"At least 8 characters",met:r.length>=8},{label:"Contains uppercase letter",met:/[A-Z]/.test(r)},{label:"Contains lowercase letter",met:/[a-z]/.test(r)},{label:"Contains number",met:/\d/.test(r)}],P=N.every(Q=>Q.met),U=r===a&&r.length>0,F=Q=>{if(Q.preventDefault(),_(""),!n){_("Invalid or expired reset link");return}if(!r){_("Password is required");return}if(!P){_("Please meet all password requirements");return}if(r!==a){_("Passwords do not match");return}C(!0),setTimeout(()=>{C(!1),t("/reset-password/success")},1e3)};return x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 flex items-center justify-center px-4 py-8",children:x.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:x.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-xl rounded-2xl border border-slate-800 p-8 shadow-2xl",children:[x.jsx("div",{className:"flex justify-center mb-8",children:x.jsx(os,{size:"large"})}),x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"Reset Password"}),x.jsx("p",{className:"text-slate-400",children:"Enter your new password below"})]}),x.jsxs("form",{onSubmit:F,className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"password",className:"block text-sm text-slate-300 mb-2",children:"New Password"}),x.jsxs("div",{className:"relative",children:[x.jsx(nd,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500"}),x.jsx("input",{id:"password",type:c?"text":"password",value:r,onChange:Q=>s(Q.target.value),className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg pl-11 pr-12 py-3 text-white placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Enter new password"}),x.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-300 transition-colors",children:c?x.jsx(tT,{className:"w-5 h-5"}):x.jsx(nT,{className:"w-5 h-5"})})]})]}),r&&x.jsxs(Ne.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700",children:[x.jsx("p",{className:"text-sm text-slate-300 mb-3 font-semibold",children:"Password Requirements:"}),x.jsx("div",{className:"space-y-2",children:N.map((Q,ee)=>x.jsxs("div",{className:"flex items-center gap-2",children:[Q.met?x.jsx(eo,{className:"w-4 h-4 text-green-400"}):x.jsx(eT,{className:"w-4 h-4 text-slate-500"}),x.jsx("span",{className:`text-sm ${Q.met?"text-green-400":"text-slate-400"}`,children:Q.label})]},ee))})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm text-slate-300 mb-2",children:"Confirm Password"}),x.jsxs("div",{className:"relative",children:[x.jsx(nd,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-500"}),x.jsx("input",{id:"confirmPassword",type:p?"text":"password",value:a,onChange:Q=>l(Q.target.value),className:"w-full bg-slate-800/50 border border-slate-700 rounded-lg pl-11 pr-12 py-3 text-white placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all",placeholder:"Confirm new password"}),x.jsx("button",{type:"button",onClick:()=>g(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-300 transition-colors",children:p?x.jsx(tT,{className:"w-5 h-5"}):x.jsx(nT,{className:"w-5 h-5"})})]}),a&&x.jsx("div",{className:"mt-2 flex items-center gap-2",children:U?x.jsxs(x.Fragment,{children:[x.jsx(eo,{className:"w-4 h-4 text-green-400"}),x.jsx("span",{className:"text-sm text-green-400",children:"Passwords match"})]}):x.jsxs(x.Fragment,{children:[x.jsx(eT,{className:"w-4 h-4 text-red-400"}),x.jsx("span",{className:"text-sm text-red-400",children:"Passwords do not match"})]})})]}),y&&x.jsx(Ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/20 border border-red-500/50 rounded-lg p-3",children:x.jsx("p",{className:"text-sm text-red-400",children:y})}),x.jsx("button",{type:"submit",disabled:T||!P||!U,className:"w-full flex items-center justify-center gap-2 px-8 py-3 rounded-lg bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white font-semibold hover:shadow-lg hover:shadow-purple-500/50 disabled:opacity-50 disabled:cursor-not-allowed transition-all group",children:T?x.jsxs(x.Fragment,{children:[x.jsx(Ne.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:x.jsx(nd,{className:"w-5 h-5"})}),x.jsx("span",{children:"Resetting..."})]}):x.jsxs(x.Fragment,{children:[x.jsx(eo,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),x.jsx("span",{children:"Reset Password"})]})})]})]})})})}function F6(){const t=_n();return x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 flex items-center justify-center px-4 py-8",children:x.jsx(Ne.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"w-full max-w-md",children:x.jsxs("div",{className:"bg-slate-900/50 backdrop-blur-xl rounded-2xl border border-slate-800 p-8 shadow-2xl",children:[x.jsx("div",{className:"flex justify-center mb-8",children:x.jsx(os,{size:"large"})}),x.jsx("div",{className:"flex justify-center mb-6",children:x.jsx(Ne.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-24 h-24 bg-gradient-to-br from-green-500/20 via-emerald-500/20 to-green-500/20 border-2 border-green-500/50 rounded-full flex items-center justify-center",children:x.jsx(eo,{className:"w-12 h-12 text-green-400"})})}),x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-white mb-3",children:"Password Reset Successful!"}),x.jsx("p",{className:"text-slate-400",children:"Your password has been successfully reset. You can now log in with your new password."})]}),x.jsx("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700 mb-6",children:x.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-300",children:[x.jsx(eo,{className:"w-5 h-5 text-green-400 flex-shrink-0"}),x.jsx("span",{children:"Your account is secure and ready to use"})]})}),x.jsxs("button",{onClick:()=>t("/login"),className:"w-full flex items-center justify-center gap-2 px-8 py-3 rounded-lg bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white font-semibold hover:shadow-lg hover:shadow-purple-500/50 transition-all group",children:[x.jsx("span",{children:"Continue to Login"}),x.jsx(mo,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),x.jsx("div",{className:"mt-6 text-center",children:x.jsx("p",{className:"text-xs text-slate-500",children:"You'll be automatically redirected in a moment"})})]})})})}function U6(){const t=_n(),[e,n]=k.useState(null),[r,s]=k.useState(!0);k.useEffect(()=>{if(Tg()){const l=rf();t("/situation",{state:{answers:l},replace:!0});return}ca.getItem("assessment_intro").then(l=>{n(l),s(!1)})},[]);const a=()=>{t("/questions")};return r?x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 flex items-center justify-center",children:x.jsx(hs,{className:"w-8 h-8 animate-spin text-purple-500"})}):x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 flex items-center justify-center p-4",children:x.jsxs("div",{className:"max-w-md w-full text-center space-y-8",children:[(e==null?void 0:e.imageUrl)&&x.jsx("img",{src:e.imageUrl,alt:"Intro",className:"w-full h-48 object-cover rounded-xl mb-6 border border-slate-700"}),x.jsx("h1",{className:"text-3xl font-bold text-white",children:(e==null?void 0:e.title)||"Discover Your Archetype"}),x.jsx("p",{className:"text-slate-300 text-lg leading-relaxed",children:(e==null?void 0:e.copy)||"To give you the best advice, we need to understand your relationship style. This quick 8-question assessment will reveal your Archetype."}),x.jsx(Rd,{onClick:a,className:"w-full bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white font-bold py-6 rounded-xl text-lg shadow-lg hover:shadow-purple-500/25 transition-all duration-300",children:(e==null?void 0:e.buttonText)||"Start Assessment"})]})})}function z6(){const t=_n(),e=ir(),{answers:n}=e.state||{},[r,s]=k.useState(!0),[a,l]=k.useState(null),[c,d]=k.useState(null),[p,g]=k.useState(null),[y,_]=k.useState(null);k.useEffect(()=>{if(!n){_("Missing assessment data. Please retake the assessment."),s(!1);return}T()},[]);const T=async()=>{var N,P,U;try{s(!0);const F=await ca.getItem("archetype_reveal");g(F);const W=await Ya.submitResponse({userId:"anonymous",sessionId:"session_"+Date.now(),answers:n}),Q=(P=(N=W.response)==null?void 0:N.result)==null?void 0:P.archetype,ee=(U=W.response)==null?void 0:U.result;if(!Q)throw new Error("Failed to determine archetype.");d(Q);const ne={name:Q.name,primaryTerrain:Q.primaryTerrain,secondaryTerrain:Q.secondaryTerrain,imageUrl:Q.imageUrl,description:Q.description,profileData:Q.profileData,scores:ee==null?void 0:ee.scores};b6(ne,n),l({...ne,answers:n,calculatedAt:new Date().toISOString()})}catch(F){console.error(F),_("Something went wrong calculating your archetype. Please try again.")}finally{s(!1)}},C=()=>{t("/situation",{state:{answers:n}})};return r?x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 flex flex-col",children:[x.jsx(to,{}),x.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-4 text-center",children:x.jsxs(Ne.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"space-y-6",children:[x.jsxs("div",{className:"relative",children:[x.jsx(hs,{className:"w-16 h-16 animate-spin text-purple-500 mx-auto"}),x.jsx(Ne.div,{animate:{scale:[1,1.2,1],opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 bg-purple-500/20 rounded-full blur-xl"})]}),x.jsx("h2",{className:"text-2xl font-bold text-white",children:"Analyzing your responses..."}),x.jsx("p",{className:"text-slate-400",children:"Discovering your relationship archetype"})]})})]}):y?x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 flex flex-col",children:[x.jsx(to,{}),x.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:x.jsxs("div",{className:"text-center space-y-4",children:[x.jsx("p",{className:"text-red-400",children:y}),x.jsx(Rd,{onClick:()=>t("/assessment-intro"),variant:"outline",children:"Retake Assessment"})]})})]}):x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 flex flex-col",children:[x.jsx(to,{}),x.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:x.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-lg w-full text-center space-y-8",children:[x.jsx("div",{className:"space-y-2",children:x.jsxs(Ne.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring"},className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-500/20 rounded-full text-purple-300 text-sm",children:[x.jsx(kd,{className:"w-4 h-4"}),(p==null?void 0:p.title)||"Your Archetype Revealed"]})}),(p==null?void 0:p.copy)&&x.jsx(Ne.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-slate-300 text-lg",children:p.copy}),(c==null?void 0:c.imageUrl)&&x.jsxs(Ne.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4},className:"relative mx-auto",children:[x.jsx("div",{className:"w-48 h-48 md:w-64 md:h-64 mx-auto rounded-full overflow-hidden border-4 border-purple-500/50 shadow-2xl shadow-purple-500/30",children:x.jsx("img",{src:c.imageUrl,alt:a==null?void 0:a.name,className:"w-full h-full object-cover"})}),x.jsx(Ne.div,{animate:{scale:[1,1.1,1],opacity:[.3,.6,.3]},transition:{duration:3,repeat:1/0},className:"absolute inset-0 bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-full blur-2xl -z-10"})]}),x.jsxs(Ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"space-y-4",children:[x.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-indigo-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:a==null?void 0:a.name}),(c==null?void 0:c.description)&&x.jsx(Ne.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"text-slate-300 text-base md:text-lg leading-relaxed max-w-md mx-auto",children:c.description}),(a==null?void 0:a.primaryTerrain)&&(a==null?void 0:a.secondaryTerrain)&&x.jsxs(Ne.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},className:"text-slate-500 text-sm",children:[x.jsx("span",{className:"text-purple-400/70",children:a.primaryTerrain})," with ",x.jsx("span",{className:"text-purple-400/70",children:a.secondaryTerrain})," influence"]})]}),x.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:x.jsxs(Rd,{onClick:C,className:"w-full bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 hover:shadow-lg hover:shadow-purple-500/50 text-white font-bold py-6 rounded-xl text-lg transition-all",children:[x.jsx("span",{children:(p==null?void 0:p.buttonText)||"Continue"}),x.jsx(mo,{className:"w-5 h-5 ml-2"})]})})]})})]})}function B6(){const t=_n(),{appName:e}=Xd(),[n,r]=k.useState(!0),[s,a]=k.useState(null);k.useEffect(()=>{l()},[]);const l=async()=>{try{const c=await ca.getItem("about");a(c)}catch(c){console.error("Error loading about content:",c)}finally{r(!1)}};return n?x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 flex items-center justify-center",children:x.jsx(hs,{className:"w-8 h-8 animate-spin text-purple-500"})}):x.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 flex flex-col",children:[x.jsx(to,{}),x.jsx("div",{className:"flex-1 container mx-auto px-4 py-8 md:py-12",children:x.jsxs("div",{className:"max-w-2xl mx-auto",children:[x.jsxs(Ne.button,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},onClick:()=>t(-1),className:"flex items-center gap-2 text-slate-400 hover:text-white mb-6 transition-colors",children:[x.jsx(rv,{className:"w-4 h-4"}),x.jsx("span",{children:"Back"})]}),x.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-slate-900/50 backdrop-blur-xl rounded-2xl border border-slate-800 overflow-hidden",children:[(s==null?void 0:s.imageUrl)&&x.jsx("div",{className:"w-full h-48 md:h-64 overflow-hidden",children:x.jsx("img",{src:s.imageUrl,alt:s.title||e||"About",className:"w-full h-full object-cover"})}),x.jsxs("div",{className:"p-6 md:p-8 space-y-6",children:[x.jsx(Ne.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-2xl md:text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 via-pink-400 to-indigo-400",children:(s==null?void 0:s.title)||`About ${e||"This App"}`}),x.jsx(Ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-slate-300 leading-relaxed whitespace-pre-wrap",children:(s==null?void 0:s.copy)||"Learn more about what makes this app special."}),(s==null?void 0:s.buttonText)&&(s==null?void 0:s.buttonAction)&&x.jsx(Ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},children:x.jsx("a",{href:s.buttonAction,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white font-semibold rounded-lg hover:shadow-lg hover:shadow-purple-500/30 transition-all",children:s.buttonText})})]})]})]})})]})}function Vs({children:t}){const[e,n]=k.useState(!0),r=_n();return k.useEffect(()=>IL(Lu,a=>{a||r("/login"),n(!1)}),[r]),e?x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-purple-950 to-slate-950 flex items-center justify-center p-4",children:x.jsx(Wb,{size:"large"})}):x.jsx(x.Fragment,{children:t})}const $6=Ek([{path:"/",Component:UF},{path:"/login",Component:I6},{path:"/forgot-password",Component:V6},{path:"/forgot-password/check-email",Component:O6},{path:"/reset-password",Component:j6},{path:"/reset-password/success",Component:F6},{path:"/assessment-intro",element:x.jsx(Vs,{children:x.jsx(U6,{})})},{path:"/situation",element:x.jsx(Vs,{children:x.jsx(A6,{})})},{path:"/questions",element:x.jsx(Vs,{children:x.jsx(k6,{})})},{path:"/archetype-reveal",element:x.jsx(Vs,{children:x.jsx(z6,{})})},{path:"/emotions",element:x.jsx(Vs,{children:x.jsx(P6,{})})},{path:"/content",element:x.jsx(Vs,{children:x.jsx(M6,{})})},{path:"/results",element:x.jsx(Vs,{children:x.jsx(L6,{})})},{path:"/about",element:x.jsx(Vs,{children:x.jsx(B6,{})})}]);function H6(){return x.jsx(gO,{children:x.jsx(QA,{router:$6})})}uR.createRoot(document.getElementById("root")).render(x.jsx(H6,{}));
